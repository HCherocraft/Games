// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,ca,ea,fa,ia,ja,ka,w,la,ma,oa,pa,qa,ra,I,ta,ua,va,wa,xa,ya,za,Q,Aa,Ba,Ca,Da,Fa,R,Ga,Ha,Ia,Ja,Ka,La,Na,Oa,Pa,Qa,Sa,Ta,Ua,Va,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc,ec,fc,gc,hc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(c){return c.__proto__}:function(c){return c.constructor.prototype});
(function(){function c(a,b,f,d){this.set(a,b,f,d)}function k(){this.Qb=this.Pb=this.Sb=this.Rb=this.Yb=this.Xb=this.Ab=this.zb=0}function p(a,b,f,d){a<b?f<d?(x=a<f?a:f,F=b>d?b:d):(x=a<d?a:d,F=b>f?b:f):f<d?(x=b<f?b:f,F=a>d?a:d):(x=b<d?b:d,F=a>f?a:f)}function g(){this.items=this.B=null;this.wi=0;B&&(this.B=new Set);this.Hh=[];this.Ze=!0}function r(a){y[P++]=a}function q(){this.W=this.xl=this.y=this.Xl=0}function l(a){this.ib=[];this.Aj=this.Cj=this.Dj=this.Bj=0;this.cj(a)}function b(a,b){this.am=a;
this.$l=b;this.cells={}}function e(a,b){this.am=a;this.$l=b;this.cells={}}function d(a,b,f){var d;return O.length?(d=O.pop(),d.Rm=a,d.x=b,d.y=f,d):new ba(a,b,f)}function a(a,b,d){this.Rm=a;this.x=b;this.y=d;this.Db=new ca}function f(a,b,d){var f;return M.length?(f=M.pop(),f.Rm=a,f.x=b,f.y=d,f):new ea(a,b,d)}function m(a,b,d){this.Rm=a;this.x=b;this.y=d;this.Db=[];this.hh=!0;this.$d=new ca;this.Mh=!1}function h(a,b){return a.Ld-b.Ld}fa=function(a){window.console&&window.console.log&&window.console.log(a)};
ia=function(a){window.console&&window.console.error&&window.console.error(a)};aa=function(a){return a};ja=function(a){return"undefined"===typeof a};ka=function(a){return"number"===typeof a};w=function(a){return"string"===typeof a};la=function(a){return 0<a&&0===(a-1&a)};ma=function(a){--a;for(var b=1;32>b;b<<=1)a=a|a>>b;return a+1};oa=function(a){return 0>a?-a:a};pa=function(a,b){return a>b?a:b};qa=function(a,b){return a<b?a:b};ra=Math.PI;I=function(a){return 0<=a?a|0:(a|0)-1};ta=function(a){var b=
a|0;return b===a?b:b+1};ua=function(a,b,d,f,e,h,m,n){var c,u,z,A;a<d?(u=a,c=d):(u=d,c=a);e<m?(A=e,z=m):(A=m,z=e);if(c<A||u>z)return!1;b<f?(u=b,c=f):(u=f,c=b);h<n?(A=h,z=n):(A=n,z=h);if(c<A||u>z)return!1;c=e-a+m-d;u=h-b+n-f;a=d-a;b=f-b;e=m-e;h=n-h;n=oa(b*e-h*a);return oa(e*u-h*c)>n?!1:oa(a*u-b*c)<=n};c.prototype.set=function(a,b,d,f){this.left=a;this.top=b;this.right=d;this.bottom=f};c.prototype.Sg=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};c.prototype.width=
function(){return this.right-this.left};c.prototype.height=function(){return this.bottom-this.top};c.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};c.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};c.prototype.bn=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};c.prototype.cn=
function(a,b,d){return!(a.right+b<this.left||a.bottom+d<this.top||a.left+b>this.right||a.top+d>this.bottom)};c.prototype.Bb=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};c.prototype.Uh=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};va=c;k.prototype.Ef=function(a){this.zb=a.left;this.Ab=a.top;this.Xb=a.right;this.Yb=a.top;this.Rb=a.right;this.Sb=a.bottom;this.Pb=a.left;this.Qb=a.bottom};k.prototype.Pr=function(a,
b){if(0===b)this.Ef(a);else{var d=Math.sin(b),f=Math.cos(b),e=a.left*d,h=a.top*d,m=a.right*d,d=a.bottom*d,n=a.left*f,c=a.top*f,u=a.right*f,f=a.bottom*f;this.zb=n-h;this.Ab=c+e;this.Xb=u-h;this.Yb=c+m;this.Rb=u-d;this.Sb=f+m;this.Pb=n-d;this.Qb=f+e}};k.prototype.offset=function(a,b){this.zb+=a;this.Ab+=b;this.Xb+=a;this.Yb+=b;this.Rb+=a;this.Sb+=b;this.Pb+=a;this.Qb+=b;return this};var x=0,F=0;k.prototype.jp=function(a){p(this.zb,this.Xb,this.Rb,this.Pb);a.left=x;a.right=F;p(this.Ab,this.Yb,this.Sb,
this.Qb);a.top=x;a.bottom=F};k.prototype.Bb=function(a,b){var d=this.zb,f=this.Ab,e=this.Xb-d,h=this.Yb-f,m=this.Rb-d,n=this.Sb-f,c=a-d,u=b-f,z=e*e+h*h,A=e*m+h*n,h=e*c+h*u,D=m*m+n*n,x=m*c+n*u,g=1/(z*D-A*A),e=(D*h-A*x)*g,z=(z*x-A*h)*g;if(0<=e&&0<z&&1>e+z)return!0;e=this.Pb-d;h=this.Qb-f;z=e*e+h*h;A=e*m+h*n;h=e*c+h*u;g=1/(z*D-A*A);e=(D*h-A*x)*g;z=(z*x-A*h)*g;return 0<=e&&0<z&&1>e+z};k.prototype.Uc=function(a,b){if(b)switch(a){case 0:return this.zb;case 1:return this.Xb;case 2:return this.Rb;case 3:return this.Pb;
case 4:return this.zb;default:return this.zb}else switch(a){case 0:return this.Ab;case 1:return this.Yb;case 2:return this.Sb;case 3:return this.Qb;case 4:return this.Ab;default:return this.Ab}};k.prototype.Qq=function(){return(this.zb+this.Xb+this.Rb+this.Pb)/4};k.prototype.Rq=function(){return(this.Ab+this.Yb+this.Sb+this.Qb)/4};k.prototype.ji=function(a,b,d,f){if(this.Bb(a,b)||this.Bb(d,f))return!0;var e,h,m,n,c;for(c=0;4>c;c++)if(e=this.Uc(c,!0),h=this.Uc(c,!1),m=this.Uc(c+1,!0),n=this.Uc(c+1,
!1),ua(a,b,d,f,e,h,m,n))return!0;return!1};k.prototype.an=function(a){var b=a.Qq(),d=a.Rq();if(this.Bb(b,d))return!0;b=this.Qq();d=this.Rq();if(a.Bb(b,d))return!0;var f,e,h,m,n,c,u,z;for(u=0;4>u;u++)for(z=0;4>z;z++)if(b=this.Uc(u,!0),d=this.Uc(u,!1),f=this.Uc(u+1,!0),e=this.Uc(u+1,!1),h=a.Uc(z,!0),m=a.Uc(z,!1),n=a.Uc(z+1,!0),c=a.Uc(z+1,!1),ua(b,d,f,e,h,m,n,c))return!0;return!1};wa=k;xa=function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);return a};ya=function(a,b){var d,f;b=I(b);if(!(0>b||
b>=a.length)){d=b;for(f=a.length-1;d<f;d++)a[d]=a[d+1];za(a,f)}};za=function(a,b){a.length=b};Q=function(a){za(a,0)};Aa=function(a,b){Q(a);var d,f;d=0;for(f=b.length;d<f;++d)a[d]=b[d]};Ba=function(a,b){a.push.apply(a,b)};Ca=function(a,b){var d,f;d=0;for(f=a.length;d<f;++d)if(a[d]===b)return d;return-1};Da=function(a,b){var d=Ca(a,b);-1!==d&&ya(a,d)};Fa=function(a,b,d){return a<b?b:a>d?d:a};R=function(a){return a/(180/ra)};Ga=function(a){return 180/ra*a};Ha=function(a){a%=360;0>a&&(a+=360);return a};
Ia=function(a){a%=2*ra;0>a&&(a+=2*ra);return a};Ja=function(a){return Ha(Ga(a))};Ka=function(a){return Ia(R(a))};La=function(a,b,d,f){return Math.atan2(f-b,d-a)};Na=function(a,b){if(a===b)return 0;var d=Math.sin(a),f=Math.cos(a),e=Math.sin(b),h=Math.cos(b),d=d*e+f*h;return 1<=d?0:-1>=d?ra:Math.acos(d)};Oa=function(a,b,d){var f=Math.sin(a),e=Math.cos(a),h=Math.sin(b),m=Math.cos(b);return Math.acos(f*h+e*m)>d?0<e*h-f*m?Ia(a+d):Ia(a-d):Ia(b)};Pa=function(a,b){var d=Math.sin(a),f=Math.cos(a),e=Math.sin(b),
h=Math.cos(b);return 0>=f*e-d*h};Qa=function(a,b,d,f,e,h){if(0===d)return h?a:b;var m=Math.sin(d);d=Math.cos(d);a-=f;b-=e;var n=a*m;a=a*d-b*m;b=b*d+n;return h?a+f:b+e};Sa=function(a,b,d,f){a=d-a;b=f-b;return Math.sqrt(a*a+b*b)};Ta=function(a,b){return!a!==!b};Ua=function(a,b,d){return a===b?0:(d-a)/(b-a)};Va=function(a,b,d){var f=Na(a,b);return Pa(b,a)?a+f*d:a-f*d};Ya=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};Za=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};
var H=+new Date;$a=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-H};var n=!1,t=n=!1,K=!1;"undefined"!==typeof window&&(n=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),n=!n&&/safari/i.test(navigator.userAgent),t=/(iphone|ipod|ipad)/i.test(navigator.userAgent),
K=window.c2ejecta);var B=!n&&!K&&!t&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;g.prototype.contains=function(a){return this.ve()?!1:B?this.B.has(a):this.items&&this.items.hasOwnProperty(a)};g.prototype.add=function(a){if(B)this.B.has(a)||(this.B.add(a),this.Ze=!1);else{var b=a.toString(),d=this.items;d?d.hasOwnProperty(b)||(d[b]=a,this.wi++,this.Ze=!1):(this.items={},this.items[b]=a,this.wi=1,this.Ze=!1)}};g.prototype.remove=function(a){if(!this.ve())if(B)this.B.has(a)&&
(this.B["delete"](a),this.Ze=!1);else if(this.items){a=a.toString();var b=this.items;b.hasOwnProperty(a)&&(delete b[a],this.wi--,this.Ze=!1)}};g.prototype.clear=function(){this.ve()||(B?this.B.clear():(this.items=null,this.wi=0),Q(this.Hh),this.Ze=!0)};g.prototype.ve=function(){return 0===this.count()};g.prototype.count=function(){return B?this.B.size:this.wi};var y=null,P=0;g.prototype.Iy=function(){if(!this.Ze){if(B)Q(this.Hh),y=this.Hh,P=0,this.B.forEach(r),y=null,P=0;else{var a=this.Hh;Q(a);var b,
d=0,f=this.items;if(f)for(b in f)f.hasOwnProperty(b)&&(a[d++]=f[b])}this.Ze=!0}};g.prototype.jd=function(){this.Iy();return this.Hh};ca=g;new ca;ab=function(a,b){B?bb(a,b.B):cb(a,b.jd())};bb=function(a,b){var d,f,e,h;f=d=0;for(e=a.length;d<e;++d)h=a[d],b.has(h)||(a[f++]=h);za(a,f)};cb=function(a,b){var d,f,e,h;f=d=0;for(e=a.length;d<e;++d)h=a[d],-1===Ca(b,h)&&(a[f++]=h);za(a,f)};q.prototype.add=function(a){this.y=a-this.Xl;this.xl=this.W+this.y;this.Xl=this.xl-this.W-this.y;this.W=this.xl};q.prototype.reset=
function(){this.W=this.xl=this.y=this.Xl=0};db=q;eb=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};l.prototype.cj=function(a){this.yr=a;this.bd=a.length/2;this.ib.length=a.length;this.Fj=this.Gj=-1;this.mp=0};l.prototype.pf=function(){return!this.yr.length};l.prototype.ya=function(){for(var a=this.ib,b=a[0],d=b,f=a[1],e=f,h,m,n=1,c=this.bd;n<c;++n)m=2*n,h=a[m],m=a[m+1],h<b&&(b=h),h>d&&(d=h),m<f&&(f=m),m>e&&(e=m);this.Bj=b;this.Cj=d;this.Dj=f;this.Aj=e};l.prototype.Ef=function(a,
b,d){this.ib.length=8;this.bd=4;var f=this.ib;f[0]=a.left-b;f[1]=a.top-d;f[2]=a.right-b;f[3]=a.top-d;f[4]=a.right-b;f[5]=a.bottom-d;f[6]=a.left-b;f[7]=a.bottom-d;this.Gj=a.right-a.left;this.Fj=a.bottom-a.top;this.ya()};l.prototype.Gg=function(a,b,d,f,e){this.ib.length=8;this.bd=4;var h=this.ib;h[0]=a.zb-b;h[1]=a.Ab-d;h[2]=a.Xb-b;h[3]=a.Yb-d;h[4]=a.Rb-b;h[5]=a.Sb-d;h[6]=a.Pb-b;h[7]=a.Qb-d;this.Gj=f;this.Fj=e;this.ya()};l.prototype.Or=function(a){this.bd=a.bd;Aa(this.ib,a.ib);this.Bj=a.Bj;this.Dj-a.Dj;
this.Cj=a.Cj;this.Aj=a.Aj};l.prototype.Ye=function(a,b,d){if(this.Gj!==a||this.Fj!==b||this.mp!==d){this.Gj=a;this.Fj=b;this.mp=d;var f,e,h,m,n,c=0,u=1,z=this.yr,A=this.ib;0!==d&&(c=Math.sin(d),u=Math.cos(d));d=0;for(h=this.bd;d<h;d++)f=2*d,e=f+1,m=z[f]*a,n=z[e]*b,A[f]=m*u-n*c,A[e]=n*u+m*c;this.ya()}};l.prototype.Bb=function(a,b){var d=this.ib;if(a===d[0]&&b===d[1])return!0;var f,e,h,m=this.bd,n=this.Bj-110,c=this.Dj-101,u=this.Cj+131,z=this.Aj+120,A,D,x=0,g=0;for(f=0;f<m;f++)e=2*f,h=(f+1)%m*2,A=
d[e],e=d[e+1],D=d[h],h=d[h+1],ua(n,c,a,b,A,e,D,h)&&x++,ua(u,z,a,b,A,e,D,h)&&g++;return 1===x%2||1===g%2};l.prototype.hg=function(a,b,d){var f=a.ib,e=this.ib;if(this.Bb(f[0]+b,f[1]+d)||a.Bb(e[0]-b,e[1]-d))return!0;var h,m,n,c,u,z,A,D,x,g,t,k;h=0;for(c=this.bd;h<c;h++)for(m=2*h,n=(h+1)%c*2,D=e[m],m=e[m+1],x=e[n],g=e[n+1],n=0,A=a.bd;n<A;n++)if(u=2*n,z=(n+1)%A*2,t=f[u]+b,u=f[u+1]+d,k=f[z]+b,z=f[z+1]+d,ua(D,m,x,g,t,u,k,z))return!0;return!1};l.prototype.ji=function(a,b,d,f,e,h){var m=this.ib;if(this.Bb(d-
a,f-b))return!0;var n,c,u,z,A,D;n=0;for(c=this.bd;n<c;n++)if(u=2*n,z=(n+1)%c*2,A=m[u]+a,u=m[u+1]+b,D=m[z]+a,z=m[z+1]+b,ua(d,f,e,h,A,u,D,z))return!0;return!1};fb=l;b.prototype.jf=function(a,b,f){var e;e=this.cells[a];return e?(e=e[b])?e:f?(e=d(this,a,b),this.cells[a][b]=e):null:f?(e=d(this,a,b),this.cells[a]={},this.cells[a][b]=e):null};b.prototype.ec=function(a){return I(a/this.am)};b.prototype.fc=function(a){return I(a/this.$l)};b.prototype.update=function(a,b,d){var f,e,h,m,n;if(b)for(f=b.left,
e=b.right;f<=e;++f)for(h=b.top,m=b.bottom;h<=m;++h)if(!d||!d.Bb(f,h))if(n=this.jf(f,h,!1))n.remove(a),n.ve()&&(n.Db.clear(),1E3>O.length&&O.push(n),this.cells[f][h]=null);if(d)for(f=d.left,e=d.right;f<=e;++f)for(h=d.top,m=d.bottom;h<=m;++h)b&&b.Bb(f,h)||this.jf(f,h,!0).Ym(a)};b.prototype.gl=function(a,b){var d,f,e,h,m,n;d=this.ec(a.left);e=this.fc(a.top);f=this.ec(a.right);for(m=this.fc(a.bottom);d<=f;++d)for(h=e;h<=m;++h)(n=this.jf(d,h,!1))&&n.dump(b)};gb=b;e.prototype.jf=function(a,b,d){var e;e=
this.cells[a];return e?(e=e[b])?e:d?(e=f(this,a,b),this.cells[a][b]=e):null:d?(e=f(this,a,b),this.cells[a]={},this.cells[a][b]=e):null};e.prototype.ec=function(a){return I(a/this.am)};e.prototype.fc=function(a){return I(a/this.$l)};e.prototype.update=function(a,b,d){var f,e,h,m,n;if(b)for(f=b.left,e=b.right;f<=e;++f)for(h=b.top,m=b.bottom;h<=m;++h)if(!d||!d.Bb(f,h))if(n=this.jf(f,h,!1))n.remove(a),n.ve()&&(n.reset(),1E3>M.length&&M.push(n),this.cells[f][h]=null);if(d)for(f=d.left,e=d.right;f<=e;++f)for(h=
d.top,m=d.bottom;h<=m;++h)b&&b.Bb(f,h)||this.jf(f,h,!0).Ym(a)};e.prototype.gl=function(a,b,d,f,e){var h,m;a=this.ec(a);b=this.fc(b);d=this.ec(d);for(h=this.fc(f);a<=d;++a)for(f=b;f<=h;++f)(m=this.jf(a,f,!1))&&m.dump(e)};e.prototype.ax=function(a){var b,d,f,e,h;b=a.left;f=a.top;d=a.right;for(e=a.bottom;b<=d;++b)for(a=f;a<=e;++a)if(h=this.jf(b,a,!1))h.hh=!1};hb=e;var O=[];a.prototype.ve=function(){return this.Db.ve()};a.prototype.Ym=function(a){this.Db.add(a)};a.prototype.remove=function(a){this.Db.remove(a)};
a.prototype.dump=function(a){Ba(a,this.Db.jd())};ba=a;var M=[];m.prototype.ve=function(){if(!this.Db.length)return!0;if(this.Db.length>this.$d.count())return!1;this.Bm();return!0};m.prototype.Ym=function(a){this.$d.contains(a)?(this.$d.remove(a),this.$d.ve()&&(this.Mh=!1)):this.Db.length?(this.Db[this.Db.length-1].Td()>a.Td()&&(this.hh=!1),this.Db.push(a)):(this.Db.push(a),this.hh=!0)};m.prototype.remove=function(a){this.$d.add(a);this.Mh=!0;30<=this.$d.count()&&this.Bm()};m.prototype.Bm=function(){this.Mh&&
(this.$d.count()===this.Db.length?this.reset():(ab(this.Db,this.$d),this.$d.clear(),this.Mh=!1))};m.prototype.kv=function(){this.hh||(this.Db.sort(h),this.hh=!0)};m.prototype.reset=function(){Q(this.Db);this.hh=!0;this.$d.clear();this.Mh=!1};m.prototype.dump=function(a){this.Bm();this.kv();this.Db.length&&a.push(this.Db)};ea=m;var v="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");ib=function(a){return 0>=a||11<=a?"source-over":
v[a-1]};jb=function(a,b,d){if(d)switch(a.Wb=d.ONE,a.Tb=d.ONE_MINUS_SRC_ALPHA,b){case 1:a.Wb=d.ONE;a.Tb=d.ONE;break;case 3:a.Wb=d.ONE;a.Tb=d.ZERO;break;case 4:a.Wb=d.ONE_MINUS_DST_ALPHA;a.Tb=d.ONE;break;case 5:a.Wb=d.DST_ALPHA;a.Tb=d.ZERO;break;case 6:a.Wb=d.ZERO;a.Tb=d.SRC_ALPHA;break;case 7:a.Wb=d.ONE_MINUS_DST_ALPHA;a.Tb=d.ZERO;break;case 8:a.Wb=d.ZERO;a.Tb=d.ONE_MINUS_SRC_ALPHA;break;case 9:a.Wb=d.DST_ALPHA;a.Tb=d.ONE_MINUS_SRC_ALPHA;break;case 10:a.Wb=d.ONE_MINUS_DST_ALPHA,a.Tb=d.SRC_ALPHA}};
kb=function(a){return Math.round(1E6*a)/1E6};lb=function(a,b){return"string"!==typeof a||"string"!==typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()};mb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||lb(a.tagName,"canvas")?!0:!1}})();var ic="undefined"!==typeof Float32Array?Float32Array:Array;function jc(c){var k=new ic(3);c&&(k[0]=c[0],k[1]=c[1],k[2]=c[2]);return k}
function kc(c){var k=new ic(16);c&&(k[0]=c[0],k[1]=c[1],k[2]=c[2],k[3]=c[3],k[4]=c[4],k[5]=c[5],k[6]=c[6],k[7]=c[7],k[8]=c[8],k[9]=c[9],k[10]=c[10],k[11]=c[11],k[12]=c[12],k[13]=c[13],k[14]=c[14],k[15]=c[15]);return k}function lc(c,k){k[0]=c[0];k[1]=c[1];k[2]=c[2];k[3]=c[3];k[4]=c[4];k[5]=c[5];k[6]=c[6];k[7]=c[7];k[8]=c[8];k[9]=c[9];k[10]=c[10];k[11]=c[11];k[12]=c[12];k[13]=c[13];k[14]=c[14];k[15]=c[15]}
function mc(c,k){var p=k[0],g=k[1];k=k[2];c[0]*=p;c[1]*=p;c[2]*=p;c[3]*=p;c[4]*=g;c[5]*=g;c[6]*=g;c[7]*=g;c[8]*=k;c[9]*=k;c[10]*=k;c[11]*=k}
function nc(c,k,p,g){g||(g=kc());var r,q,l,b,e,d,a,f,m=c[0],h=c[1];c=c[2];q=p[0];l=p[1];r=p[2];p=k[1];d=k[2];m===k[0]&&h===p&&c===d?(c=g,c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1):(p=m-k[0],d=h-k[1],a=c-k[2],f=1/Math.sqrt(p*p+d*d+a*a),p*=f,d*=f,a*=f,k=l*a-r*d,r=r*p-q*a,q=q*d-l*p,(f=Math.sqrt(k*k+r*r+q*q))?(f=1/f,k*=f,r*=f,q*=f):q=r=k=0,l=d*q-a*r,b=a*k-p*q,e=p*r-d*k,(f=Math.sqrt(l*l+b*b+e*e))?(f=1/f,l*=f,b*=f,e*=f):e=b=l=0,
g[0]=k,g[1]=l,g[2]=p,g[3]=0,g[4]=r,g[5]=b,g[6]=d,g[7]=0,g[8]=q,g[9]=e,g[10]=a,g[11]=0,g[12]=-(k*m+r*h+q*c),g[13]=-(l*m+b*h+e*c),g[14]=-(p*m+d*h+a*c),g[15]=1)}
(function(){function c(b,e,d){this.we=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Ja=!!d;this.sk=this.mi=!1;this.jm=0;this.Ll=1;this.Mo=1E3;this.Oy=(this.Mo-this.Ll)/32768;this.Yl=jc([0,0,100]);this.zq=jc([0,0,0]);this.os=jc([0,1,0]);this.rj=jc([1,1,1]);this.Ep=!0;this.Ok=kc();this.Nc=kc();this.sn=kc();this.hm=kc();this.C=b;this.version=0===this.C.getParameter(this.C.VERSION).indexOf("WebGL 2")?2:1;this.fq()}function k(b,e,d){this.C=b;this.dj=
e;this.name=d;this.Yc=b.getAttribLocation(e,"aPos");this.wf=b.getAttribLocation(e,"aTex");this.xq=b.getUniformLocation(e,"matP");this.Kk=b.getUniformLocation(e,"matMV");this.oh=b.getUniformLocation(e,"opacity");this.Bn=b.getUniformLocation(e,"colorFill");this.yq=b.getUniformLocation(e,"samplerFront");this.Ei=b.getUniformLocation(e,"samplerBack");this.pg=b.getUniformLocation(e,"destStart");this.ng=b.getUniformLocation(e,"destEnd");this.Gi=b.getUniformLocation(e,"seconds");this.Dn=b.getUniformLocation(e,
"pixelWidth");this.Cn=b.getUniformLocation(e,"pixelHeight");this.Di=b.getUniformLocation(e,"layerScale");this.Ci=b.getUniformLocation(e,"layerAngle");this.Hi=b.getUniformLocation(e,"viewOrigin");this.Fi=b.getUniformLocation(e,"scrollPos");this.Bw=!!(this.Dn||this.Cn||this.Gi||this.Ei||this.pg||this.ng||this.Di||this.Ci||this.Hi||this.Fi);this.Hq=this.Iq=-999;this.Nk=1;this.Dq=this.Cq=0;this.Fq=this.Bq=this.Aq=1;this.Lq=this.Kq=this.Jq=this.Nq=this.Mq=this.Eq=0;this.rn=[];this.Gq=kc();this.oh&&b.uniform1f(this.oh,
1);this.Bn&&b.uniform4f(this.Bn,1,1,1,1);this.yq&&b.uniform1i(this.yq,0);this.Ei&&b.uniform1i(this.Ei,1);this.pg&&b.uniform2f(this.pg,0,0);this.ng&&b.uniform2f(this.ng,1,1);this.Di&&b.uniform1f(this.Di,1);this.Ci&&b.uniform1f(this.Ci,0);this.Hi&&b.uniform2f(this.Hi,0,0);this.Fi&&b.uniform2f(this.Fi,0,0);this.Gi&&b.uniform1f(this.Gi,0);this.dg=!1}function p(b,e){return b[0]===e[0]&&b[1]===e[1]&&b[2]===e[2]&&b[3]===e[3]&&b[4]===e[4]&&b[5]===e[5]&&b[6]===e[6]&&b[7]===e[7]&&b[8]===e[8]&&b[9]===e[9]&&
b[10]===e[10]&&b[11]===e[11]&&b[12]===e[12]&&b[13]===e[13]&&b[14]===e[14]&&b[15]===e[15]}function g(b,e){this.type=b;this.A=e;this.C=e.C;this.Ud=this.cc=this.hr=0;this.ea=this.gd=null;this.Qr=[]}var r=kc();c.prototype.fq=function(){var b=this.C,e;this.sq=1;this.kg=this.sf=null;this.Oj=1;b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT);b.enable(b.BLEND);b.blendFunc(b.ONE,b.ONE_MINUS_SRC_ALPHA);b.disable(b.CULL_FACE);b.disable(b.STENCIL_TEST);b.disable(b.DITHER);this.Ja?(b.enable(b.DEPTH_TEST),b.depthFunc(b.LEQUAL)):
b.disable(b.DEPTH_TEST);this.tq=b.ONE;this.rq=b.ONE_MINUS_SRC_ALPHA;this.Jl=new Float32Array(8E3*(this.Ja?3:2));this.yl=new Float32Array(16E3);this.sr=new Float32Array(32E3);this.On=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,this.On);b.bufferData(b.ARRAY_BUFFER,this.sr.byteLength,b.DYNAMIC_DRAW);this.pj=Array(4);this.ij=Array(4);for(e=0;4>e;e++)this.pj[e]=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,this.pj[e]),b.bufferData(b.ARRAY_BUFFER,this.Jl.byteLength,b.DYNAMIC_DRAW),this.ij[e]=b.createBuffer(),
b.bindBuffer(b.ARRAY_BUFFER,this.ij[e]),b.bufferData(b.ARRAY_BUFFER,this.yl.byteLength,b.DYNAMIC_DRAW);this.le=0;this.Fw=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.Fw);for(var d=new Uint16Array(12E3),a=e=0;12E3>e;)d[e++]=a,d[e++]=a+1,d[e++]=a+2,d[e++]=a,d[e++]=a+2,d[e++]=a+3,a+=4;b.bufferData(b.ELEMENT_ARRAY_BUFFER,d,b.STATIC_DRAW);this.Pn=this.Fh=this.Re=0;this.Ya=[];e=this.Ja?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";d=this.Rh({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},e,"<default>");this.Ya.push(d);d=this.Rh({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Ya.push(d);d=this.Rh({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},e,"<earlyz>");this.Ya.push(d);d=this.Rh({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
e,"<fill>");this.Ya.push(d);for(var f in oc)oc.hasOwnProperty(f)&&this.Ya.push(this.Rh(oc[f],e,f));b.activeTexture(b.TEXTURE0);b.bindTexture(b.TEXTURE_2D,null);this.Xe=[];this.ke=0;this.Ub=!1;this.yp=this.xi=-1;this.Ug=null;this.zm=b.createFramebuffer();this.Uj=this.hl=null;this.gp=!1;this.Ja&&(this.Uj=b.createRenderbuffer());this.If=jc([0,0,0]);this.Oq=b.getParameter(b.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Oq&&(this.Oq=2048);this.oc(0)};k.prototype.Go=function(b){p(this.Gq,b)||(lc(b,this.Gq),this.C.uniformMatrix4fv(this.Kk,
!1,b))};c.prototype.Rh=function(b,e,d){var a=this.C,f=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(f,b.src);a.compileShader(f);if(!a.getShaderParameter(f,a.COMPILE_STATUS))throw b=a.getShaderInfoLog(f),a.deleteShader(f),Error("error compiling fragment shader: "+b);var m=a.createShader(a.VERTEX_SHADER);a.shaderSource(m,e);a.compileShader(m);if(!a.getShaderParameter(m,a.COMPILE_STATUS))throw b=a.getShaderInfoLog(m),a.deleteShader(f),a.deleteShader(m),Error("error compiling vertex shader: "+b);e=
a.createProgram();a.attachShader(e,f);a.attachShader(e,m);a.linkProgram(e);if(!a.getProgramParameter(e,a.LINK_STATUS))throw b=a.getProgramInfoLog(e),a.deleteShader(f),a.deleteShader(m),a.deleteProgram(e),Error("error linking shader program: "+b);a.useProgram(e);a.deleteShader(f);a.deleteShader(m);f=new k(a,e,d);f.xm=b.xm||0;f.ym=b.ym||0;f.xp=!!b.xp;f.Bd=!!b.Bd;f.ep=!!b.ep;f.fa=b.fa||[];b=0;for(m=f.fa.length;b<m;b++)f.fa[b][1]=a.getUniformLocation(e,f.fa[b][0]),f.rn.push(0),a.uniform1f(f.fa[b][1],
0);return f};c.prototype.Nm=function(b){var e,d;e=0;for(d=this.Ya.length;e<d;e++)if(this.Ya[e].name===b)return e;return-1};c.prototype.xr=function(b,e,d){var a=this.Nc,f=this.Ok,m=[0,0,0,0,0,0,0,0];m[0]=a[0]*b+a[4]*e+a[12];m[1]=a[1]*b+a[5]*e+a[13];m[2]=a[2]*b+a[6]*e+a[14];m[3]=a[3]*b+a[7]*e+a[15];m[4]=f[0]*m[0]+f[4]*m[1]+f[8]*m[2]+f[12]*m[3];m[5]=f[1]*m[0]+f[5]*m[1]+f[9]*m[2]+f[13]*m[3];m[6]=f[2]*m[0]+f[6]*m[1]+f[10]*m[2]+f[14]*m[3];m[7]=-m[2];0!==m[7]&&(m[7]=1/m[7],m[4]*=m[7],m[5]*=m[7],m[6]*=m[7],
d[0]=(.5*m[4]+.5)*this.width,d[1]=(.5*m[5]+.5)*this.height)};c.prototype.Fg=function(b,e,d){if(this.width!==b||this.height!==e||d){this.gf();d=this.C;this.width=b;this.height=e;d.viewport(0,0,b,e);nc(this.Yl,this.zq,this.os,this.Nc);if(this.Ja){var a=-b/2;b=b/2;var f=e/2;e=-e/2;var m=this.Ll,h=this.Mo,c=this.Ok;c||(c=kc());var g=b-a,k=e-f,n=h-m;c[0]=2/g;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=2/k;c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[10]=-2/n;c[11]=0;c[12]=-(a+b)/g;c[13]=-(e+f)/k;c[14]=-(h+m)/n;c[15]=1;this.rj[0]=
1;this.rj[1]=1}else e=b/e,a=this.Ll,b=this.Mo,c=this.Ok,h=a*Math.tan(45*Math.PI/360),e*=h,f=-e,m=-h,c||(c=kc()),g=e-f,k=h-m,n=b-a,c[0]=2*a/g,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=2*a/k,c[6]=0,c[7]=0,c[8]=(e+f)/g,c[9]=(h+m)/k,c[10]=-(b+a)/n,c[11]=-1,c[12]=0,c[13]=0,c[14]=-(b*a*2)/n,c[15]=0,a=[0,0],b=[0,0],this.xr(0,0,a),this.xr(1,1,b),this.rj[0]=1/(b[0]-a[0]),this.rj[1]=-1/(b[1]-a[1]);a=0;for(b=this.Ya.length;a<b;a++)f=this.Ya[a],f.dg=!1,f.xq&&(d.useProgram(f.dj),d.uniformMatrix4fv(f.xq,!1,this.Ok));d.useProgram(this.Ya[this.xi].dj);
d.bindTexture(d.TEXTURE_2D,null);d.activeTexture(d.TEXTURE1);d.bindTexture(d.TEXTURE_2D,null);d.activeTexture(d.TEXTURE0);this.kg=this.sf=null;this.Uj&&(d.bindFramebuffer(d.FRAMEBUFFER,this.zm),d.bindRenderbuffer(d.RENDERBUFFER,this.Uj),d.renderbufferStorage(d.RENDERBUFFER,d.DEPTH_COMPONENT16,this.width,this.height),this.gp||(d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.RENDERBUFFER,this.Uj),this.gp=!0),d.bindRenderbuffer(d.RENDERBUFFER,null),d.bindFramebuffer(d.FRAMEBUFFER,null),
this.hl=null)}};c.prototype.cd=function(){nc(this.Yl,this.zq,this.os,this.Nc);mc(this.Nc,this.rj)};c.prototype.translate=function(b,e){if(0!==b||0!==e){this.If[0]=b;this.If[1]=e;this.If[2]=0;var d=this.Nc,a=this.If,f=a[0],m=a[1],a=a[2];d[12]=d[0]*f+d[4]*m+d[8]*a+d[12];d[13]=d[1]*f+d[5]*m+d[9]*a+d[13];d[14]=d[2]*f+d[6]*m+d[10]*a+d[14];d[15]=d[3]*f+d[7]*m+d[11]*a+d[15]}};c.prototype.scale=function(b,e){if(1!==b||1!==e)this.If[0]=b,this.If[1]=e,this.If[2]=1,mc(this.Nc,this.If)};c.prototype.kl=function(b){if(0!==
b){var e=this.Nc,d,a=Math.sin(b);b=Math.cos(b);var f=e[0],m=e[1],h=e[2],c=e[3],g=e[4],k=e[5],n=e[6],t=e[7];d?e!==d&&(d[8]=e[8],d[9]=e[9],d[10]=e[10],d[11]=e[11],d[12]=e[12],d[13]=e[13],d[14]=e[14],d[15]=e[15]):d=e;d[0]=f*b+g*a;d[1]=m*b+k*a;d[2]=h*b+n*a;d[3]=c*b+t*a;d[4]=f*-a+g*b;d[5]=m*-a+k*b;d[6]=h*-a+n*b;d[7]=c*-a+t*b}};c.prototype.Rc=function(){if(!p(this.sn,this.Nc)){var b=this.zc();b.type=5;b.ea?lc(this.Nc,b.ea):b.ea=kc(this.Nc);lc(this.Nc,this.sn);this.Ub=!1}};c.prototype.pl=function(b){this.Ja&&
(32760<b&&(b=32760),this.jm=this.Yl[2]-this.Ll-b*this.Oy)};g.prototype.Su=function(){var b=this.C,e=this.A;0!==this.cc?(b.depthMask(!0),b.colorMask(!1,!1,!1,!1),b.disable(b.BLEND),b.bindFramebuffer(b.FRAMEBUFFER,e.zm),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),b.clear(b.DEPTH_BUFFER_BIT),b.bindFramebuffer(b.FRAMEBUFFER,null),e.sk=!0):(b.depthMask(!1),b.colorMask(!0,!0,!0,!0),b.enable(b.BLEND),e.sk=!1)};g.prototype.Wu=function(){this.C.bindTexture(this.C.TEXTURE_2D,
this.gd)};g.prototype.Xu=function(){var b=this.C;b.activeTexture(b.TEXTURE1);b.bindTexture(b.TEXTURE_2D,this.gd);b.activeTexture(b.TEXTURE0)};g.prototype.Tu=function(){var b=this.hr,e=this.A;e.Oj=b;e=e.Ug;e.oh&&e.Nk!==b&&(e.Nk=b,this.C.uniform1f(e.oh,b))};g.prototype.Nu=function(){this.C.drawElements(this.C.TRIANGLES,this.Ud,this.C.UNSIGNED_SHORT,this.cc)};g.prototype.Pu=function(){this.C.blendFunc(this.cc,this.Ud)};g.prototype.Yu=function(){var b,e,d,a=this.A.Ya,f=this.A.yp;b=0;for(e=a.length;b<
e;b++)d=a[b],b===f&&d.Kk?(d.Go(this.ea),d.dg=!0):d.dg=!1;lc(this.ea,this.A.hm)};g.prototype.Ou=function(){var b=this.C,e=this.A;this.gd?(e.kg===this.gd&&(b.activeTexture(b.TEXTURE1),b.bindTexture(b.TEXTURE_2D,null),e.kg=null,b.activeTexture(b.TEXTURE0)),b.bindFramebuffer(b.FRAMEBUFFER,e.zm),e.sk||b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,this.gd,0)):(e.Ja||b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),b.bindFramebuffer(b.FRAMEBUFFER,null))};
g.prototype.Ku=function(){var b=this.C,e=this.cc;0===e?(b.clearColor(this.ea[0],this.ea[1],this.ea[2],this.ea[3]),b.clear(b.COLOR_BUFFER_BIT)):1===e?(b.enable(b.SCISSOR_TEST),b.scissor(this.ea[0],this.ea[1],this.ea[2],this.ea[3]),b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT),b.disable(b.SCISSOR_TEST)):b.clear(b.DEPTH_BUFFER_BIT)};g.prototype.Ru=function(){var b=this.C;0!==this.cc?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST)};g.prototype.Mu=function(){var b=this.C,e=this.A;e.Ja&&b.disable(b.DEPTH_TEST);
var d=e.Ya[1];b.useProgram(d.dj);!d.dg&&d.Kk&&(d.Go(e.hm),d.dg=!0);b.enableVertexAttribArray(d.Yc);b.bindBuffer(b.ARRAY_BUFFER,e.On);b.vertexAttribPointer(d.Yc,4,b.FLOAT,!1,0,0);b.drawArrays(b.POINTS,this.cc/4,this.Ud);d=e.Ug;b.useProgram(d.dj);0<=d.Yc&&(b.enableVertexAttribArray(d.Yc),b.bindBuffer(b.ARRAY_BUFFER,e.pj[e.le]),b.vertexAttribPointer(d.Yc,e.Ja?3:2,b.FLOAT,!1,0,0));0<=d.wf&&(b.enableVertexAttribArray(d.wf),b.bindBuffer(b.ARRAY_BUFFER,e.ij[e.le]),b.vertexAttribPointer(d.wf,2,b.FLOAT,!1,
0,0));e.Ja&&b.enable(b.DEPTH_TEST)};g.prototype.Uu=function(){var b=this.C,e=this.A,d=e.Ya[this.cc];e.yp=this.cc;e.Ug=d;b.useProgram(d.dj);!d.dg&&d.Kk&&(d.Go(e.hm),d.dg=!0);d.oh&&d.Nk!==e.Oj&&(d.Nk=e.Oj,b.uniform1f(d.oh,e.Oj));0<=d.Yc&&(b.enableVertexAttribArray(d.Yc),b.bindBuffer(b.ARRAY_BUFFER,e.pj[e.le]),b.vertexAttribPointer(d.Yc,e.Ja?3:2,b.FLOAT,!1,0,0));0<=d.wf&&(b.enableVertexAttribArray(d.wf),b.bindBuffer(b.ARRAY_BUFFER,e.ij[e.le]),b.vertexAttribPointer(d.wf,2,b.FLOAT,!1,0,0))};g.prototype.Qu=
function(){var b=this.ea;this.C.uniform4f(this.A.Ug.Bn,b[0],b[1],b[2],b[3])};g.prototype.Vu=function(){var b,e,d=this.A.Ug,a=this.C;b=this.ea;d.Ei&&this.A.kg!==this.gd&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,this.gd),this.A.kg=this.gd,a.activeTexture(a.TEXTURE0));var f=b[0];d.Dn&&f!==d.Iq&&(d.Iq=f,a.uniform1f(d.Dn,f));f=b[1];d.Cn&&f!==d.Hq&&(d.Hq=f,a.uniform1f(d.Cn,f));f=b[2];e=b[3];!d.pg||f===d.Cq&&e===d.Dq||(d.Cq=f,d.Dq=e,a.uniform2f(d.pg,f,e));f=b[4];e=b[5];!d.ng||f===d.Aq&&e===
d.Bq||(d.Aq=f,d.Bq=e,a.uniform2f(d.ng,f,e));f=b[6];d.Di&&f!==d.Fq&&(d.Fq=f,a.uniform1f(d.Di,f));f=b[7];d.Ci&&f!==d.Eq&&(d.Eq=f,a.uniform1f(d.Ci,f));f=b[8];e=b[9];!d.Hi||f===d.Mq&&e===d.Nq||(d.Mq=f,d.Nq=e,a.uniform2f(d.Hi,f,e));f=b[10];e=b[11];!d.Fi||f===d.Jq&&e===d.Kq||(d.Jq=f,d.Kq=e,a.uniform2f(d.Fi,f,e));f=b[12];d.Gi&&f!==d.Lq&&(d.Lq=f,a.uniform1f(d.Gi,f));if(d.fa.length)for(b=0,e=d.fa.length;b<e;b++)f=this.Qr[b],f!==d.rn[b]&&(d.rn[b]=f,a.uniform1f(d.fa[b][1],f))};c.prototype.zc=function(){this.ke===
this.Xe.length&&this.Xe.push(new g(0,this));return this.Xe[this.ke++]};c.prototype.gf=function(){if(0!==this.ke&&!this.C.isContextLost()){var b=this.C;0<this.Pn&&(b.bindBuffer(b.ARRAY_BUFFER,this.On),b.bufferSubData(b.ARRAY_BUFFER,0,this.sr.subarray(0,this.Pn)),e&&0<=e.Yc&&"<point>"===e.name&&b.vertexAttribPointer(e.Yc,4,b.FLOAT,!1,0,0));if(0<this.Re){var e=this.Ug;b.bindBuffer(b.ARRAY_BUFFER,this.pj[this.le]);b.bufferSubData(b.ARRAY_BUFFER,0,this.Jl.subarray(0,this.Re));e&&0<=e.Yc&&"<point>"!==e.name&&
b.vertexAttribPointer(e.Yc,this.Ja?3:2,b.FLOAT,!1,0,0);b.bindBuffer(b.ARRAY_BUFFER,this.ij[this.le]);b.bufferSubData(b.ARRAY_BUFFER,0,this.yl.subarray(0,this.Fh));e&&0<=e.wf&&"<point>"!==e.name&&b.vertexAttribPointer(e.wf,2,b.FLOAT,!1,0,0)}for(var d,b=0,e=this.ke;b<e;b++)switch(d=this.Xe[b],d.type){case 1:d.Nu();break;case 2:d.Wu();break;case 3:d.Tu();break;case 4:d.Pu();break;case 5:d.Yu();break;case 6:d.Ou();break;case 7:d.Ku();break;case 8:d.Mu();break;case 9:d.Uu();break;case 10:d.Vu();break;
case 11:d.Xu();break;case 12:d.Qu();break;case 13:d.Ru();break;case 14:d.Su()}this.Pn=this.Fh=this.Re=this.ke=0;this.sk=this.Ub=!1;this.le++;4<=this.le&&(this.le=0)}};c.prototype.Eg=function(b){if(b!==this.sq&&!this.mi){var e=this.zc();e.type=3;this.sq=e.hr=b;this.Ub=!1}};c.prototype.Bc=function(b){if(b!==this.sf){var e=this.zc();e.type=2;this.sf=e.gd=b;this.Ub=!1}};c.prototype.Df=function(b,e){if((b!==this.tq||e!==this.rq)&&!this.mi){var d=this.zc();d.type=4;d.cc=b;d.Ud=e;this.tq=b;this.rq=e;this.Ub=
!1}};c.prototype.Hr=function(){this.Df(this.C.ONE,this.C.ONE_MINUS_SRC_ALPHA)};c.prototype.Yi=function(b,e,d,a,f,m,h,c){15992<=this.Re&&this.gf();var g=this.Re,k=this.Fh,n=this.Jl,t=this.yl,l=this.jm;if(this.Ub)this.Xe[this.ke-1].Ud+=6;else{var B=this.zc();B.type=1;B.cc=this.Ja?g:g/2*3;B.Ud=6;this.Ub=!0}this.Ja?(n[g++]=b,n[g++]=e,n[g++]=l,n[g++]=d,n[g++]=a,n[g++]=l,n[g++]=f,n[g++]=m,n[g++]=l,n[g++]=h,n[g++]=c,n[g++]=l):(n[g++]=b,n[g++]=e,n[g++]=d,n[g++]=a,n[g++]=f,n[g++]=m,n[g++]=h,n[g++]=c);t[k++]=
0;t[k++]=0;t[k++]=1;t[k++]=0;t[k++]=1;t[k++]=1;t[k++]=0;t[k++]=1;this.Re=g;this.Fh=k};c.prototype.be=function(b,e,d,a,f,m,h,c,g){15992<=this.Re&&this.gf();var k=this.Re,n=this.Fh,t=this.Jl,l=this.yl,B=this.jm;if(this.Ub)this.Xe[this.ke-1].Ud+=6;else{var y=this.zc();y.type=1;y.cc=this.Ja?k:k/2*3;y.Ud=6;this.Ub=!0}var y=g.left,p=g.top,r=g.right;g=g.bottom;this.Ja?(t[k++]=b,t[k++]=e,t[k++]=B,t[k++]=d,t[k++]=a,t[k++]=B,t[k++]=f,t[k++]=m,t[k++]=B,t[k++]=h,t[k++]=c,t[k++]=B):(t[k++]=b,t[k++]=e,t[k++]=d,
t[k++]=a,t[k++]=f,t[k++]=m,t[k++]=h,t[k++]=c);l[n++]=y;l[n++]=p;l[n++]=r;l[n++]=p;l[n++]=r;l[n++]=g;l[n++]=y;l[n++]=g;this.Re=k;this.Fh=n};c.prototype.oc=function(b){if(this.xi!==b){if(!this.Ya[b]){if(0===this.xi)return;b=0}var e=this.zc();e.type=9;this.xi=e.cc=b;this.Ub=!1}};c.prototype.Ui=function(b){b=this.Ya[b];return!(!b.pg&&!b.ng)};c.prototype.Sn=function(b){b=this.Ya[b];return!!(b.pg||b.ng||b.xp)};c.prototype.Rn=function(b){return this.Ya[b].Bd};c.prototype.Qx=function(b){b=this.Ya[b];return 0!==
b.xm||0!==b.ym};c.prototype.hw=function(b){return this.Ya[b].xm};c.prototype.iw=function(b){return this.Ya[b].ym};c.prototype.jw=function(b,e){return this.Ya[b].fa[e][2]};c.prototype.dl=function(b){return this.Ya[b].ep};c.prototype.Ch=function(b,e,d,a,f,m,h,c,g,k,n,t,l,B,y){var p=this.Ya[this.xi],r,q;if(p.Bw||y.length){r=this.zc();r.type=10;r.ea?lc(this.Nc,r.ea):r.ea=kc();q=r.ea;q[0]=e;q[1]=d;q[2]=a;q[3]=f;q[4]=m;q[5]=h;q[6]=c;q[7]=g;q[8]=k;q[9]=n;q[10]=t;q[11]=l;q[12]=B;p.Ei?r.gd=b:r.gd=null;if(y.length)for(d=
r.Qr,d.length=y.length,b=0,e=y.length;b<e;b++)d[b]=y[b];this.Ub=!1}};c.prototype.clear=function(b,e,d,a){var f=this.zc();f.type=7;f.cc=0;f.ea||(f.ea=kc());f.ea[0]=b;f.ea[1]=e;f.ea[2]=d;f.ea[3]=a;this.Ub=!1};c.prototype.clearRect=function(b,e,d,a){if(!(0>d||0>a)){var f=this.zc();f.type=7;f.cc=1;f.ea||(f.ea=kc());f.ea[0]=b;f.ea[1]=e;f.ea[2]=d;f.ea[3]=a;this.Ub=!1}};c.prototype.Kr=function(b){if(this.Ja&&(b=!!b,this.mi!==b)){var e=this.zc();e.type=14;e.cc=b?1:0;this.Ub=!1;this.mi=b;this.hl=null;this.mi?
this.oc(2):this.oc(0)}};c.prototype.Jr=function(b){if(this.Ja){var e=this.zc();e.type=13;e.cc=b?1:0;this.Ub=!1}};c.prototype.Np=function(){lc(this.sn,r);this.cd();this.Rc();var b=this.width/2,e=this.height/2;this.Yi(-b,e,b,e,b,-e,-b,-e);lc(r,this.Nc);this.Rc()};c.prototype.Ir=function(b,e,d){this.oc(3);var a=this.zc();a.type=12;a.ea||(a.ea=kc());a.ea[0]=b;a.ea[1]=e;a.ea[2]=d;a.ea[3]=1;this.Ub=!1};c.prototype.qy=function(){this.oc(0)};c.prototype.Yx=function(){this.oc(2)};c.prototype.Nx=function(){this.gf();
this.C.flush()};var q=[],l={};c.prototype.Au=function(){Q(q);l={}};c.prototype.Hk=function(b,e,d,a){e=!!e;d=!!d;var f=b.src+","+e+","+d+(e?",undefined":""),m=null;if("undefined"!==typeof b.src&&l.hasOwnProperty(f))return m=l[f],m.Ej++,m;this.gf();var h=this.C,c=la(b.width)&&la(b.height),m=h.createTexture();h.bindTexture(h.TEXTURE_2D,m);h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var g=h.RGBA,k=h.RGBA,n=h.UNSIGNED_BYTE;if(a&&!this.we)switch(a){case 1:k=g=h.RGB;break;case 2:n=h.UNSIGNED_SHORT_4_4_4_4;
break;case 3:n=h.UNSIGNED_SHORT_5_5_5_1;break;case 4:k=g=h.RGB,n=h.UNSIGNED_SHORT_5_6_5}if(1===this.version&&!c&&e){a=document.createElement("canvas");a.width=ma(b.width);a.height=ma(b.height);var t=a.getContext("2d");"undefined"!==typeof t.imageSmoothingEnabled?t.imageSmoothingEnabled=d:(t.webkitImageSmoothingEnabled=d,t.mozImageSmoothingEnabled=d,t.msImageSmoothingEnabled=d);t.drawImage(b,0,0,b.width,b.height,0,0,a.width,a.height);h.texImage2D(h.TEXTURE_2D,0,g,k,n,a)}else h.texImage2D(h.TEXTURE_2D,
0,g,k,n,b);e?(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT)):(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE));d?(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.LINEAR),(c||2<=this.version)&&this.Ep?(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR_MIPMAP_LINEAR),h.generateMipmap(h.TEXTURE_2D)):h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,
h.LINEAR)):(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST));h.bindTexture(h.TEXTURE_2D,null);this.sf=null;m.Pf=b.width;m.Of=b.height;m.Ej=1;m.lp=f;q.push(m);return l[f]=m};c.prototype.Hc=function(b,e,d,a){this.gf();var f=this.C;this.we&&(a=!1);var m=f.createTexture();f.bindTexture(f.TEXTURE_2D,m);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,b,e,0,f.RGBA,a?f.UNSIGNED_SHORT_4_4_4_4:f.UNSIGNED_BYTE,null);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,
f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,d?f.LINEAR:f.NEAREST);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,d?f.LINEAR:f.NEAREST);f.bindTexture(f.TEXTURE_2D,null);this.sf=null;m.Pf=b;m.Of=e;q.push(m);return m};c.prototype.My=function(b,e,d){this.gf();var a=this.C;this.we&&(d=!1);a.bindTexture(a.TEXTURE_2D,e);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,
d?a.UNSIGNED_SHORT_4_4_4_4:a.UNSIGNED_BYTE,b)}catch(f){console&&console.error&&console.error("Error updating WebGL texture: ",f)}a.bindTexture(a.TEXTURE_2D,null);this.sf=null};c.prototype.deleteTexture=function(b){b&&("undefined"!==typeof b.Ej&&1<b.Ej?b.Ej--:(this.gf(),b===this.sf&&(this.C.bindTexture(this.C.TEXTURE_2D,null),this.sf=null),b===this.kg&&(this.C.activeTexture(this.C.TEXTURE1),this.C.bindTexture(this.C.TEXTURE_2D,null),this.C.activeTexture(this.C.TEXTURE0),this.kg=null),Da(q,b),"undefined"!==
typeof b.lp&&delete l[b.lp],this.C.deleteTexture(b)))};c.prototype.dd=function(b){if(b!==this.hl){var e=this.zc();e.type=6;this.hl=e.gd=b;this.Ub=!1}};nb=c})();
(function(){function c(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.ue=(this.tk=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.kc=!!a.dc;this.kq="undefined"!==typeof window.AppMobi||
this.kc;this.ud=!!window.c2cocoonjs;this.vd=!!window.c2ejecta;this.ud&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.vd&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.ob=this.kc||this.ud||this.vd;this.oi=
/edge\//i.test(navigator.userAgent);this.we=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.oi;this.nq=/tizen/i.test(navigator.userAgent);this.qk=/android/i.test(navigator.userAgent)&&!this.nq&&!this.we&&!this.oi;this.qq=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.we&&!this.oi;this.Tw=/ipad/i.test(navigator.userAgent);this.vi=this.qq||this.Tw||this.vd;this.dn=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.we&&!this.oi;this.jq=/amazonwebappplatform/i.test(navigator.userAgent);this.Kw=/firefox/i.test(navigator.userAgent);this.Ow=/safari/i.test(navigator.userAgent)&&!this.dn&&!this.we&&!this.oi;this.Qw=/windows/i.test(navigator.userAgent);this.uk="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.oq=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);
this.Rw=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.ri=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.pn=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.nn=!!window.cr_windows10;this.Pw=this.oq||this.Rw||this.pn||this.nn;this.Iw=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.rk=this.qk&&!this.dn&&!this.tk&&!this.Kw&&!this.jq&&!this.ob;this.devicePixelRatio=
1;this.nf=this.ue||this.tk||this.kq||this.ud||this.qk||this.vi||this.ri||this.pn||this.Iw||this.nq||this.vd;this.nf||(this.nf=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.vk=!!(this.vi&&this.ue&&window.webkit);"undefined"===typeof cr_is_preview||this.uk||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.uk=!0);this.canvas=a;this.qp=document.getElementById("c2canvasdiv");
this.A=this.C=null;this.Qm="(unavailable)";this.Ja=!1;this.Uf=0;this.La=null;this.ck=!1;this.er=this.gr=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.ontouchstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.kc&&(window.c2runtime=this);this.uk&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();
return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.rk&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.N=this.width;this.M=this.height;this.Mj=this.width;this.Th=this.height;this.mh=window.innerWidth;this.lh=window.innerHeight;this.ja=!0;this.jg=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.u=[];this.Ra=[];this.yn={};this.xd=[];this.wm={};
this.oe=[];this.Jh=[];this.El=[];this.ou=[];this.pu=[];this.po=null;this.Rf={};this.hn=this.lf=!1;this.Lc=0;this.gn=this.kn=!1;this.rd=[];this.ni=!1;this.Fk=this.co="";this.sb=null;this.xe="";this.gj=this.Tr=!1;this.bk=[];this.ff=this.Tf=0;this.Sq=30;this.gm=this.Ii=0;this.Jg=1;this.pb=new db;this.Se=new db;this.Rk=this.fk=this.Xf=this.hd=this.mg=this.Cm=this.Ak=0;this.dm=null;this.pm=[];this.vm=[];this.Xj=-1;this.En=[[]];this.Ao=this.Lk=0;this.el(null);this.Ji=[];this.ph=-1;this.Xh=this.Zq=this.Oi=
0;this.hj=[];this.xo=this.Un=-1;this.zk=!0;this.Jk=0;this.pi=!1;this.vy=0;this.Qg=null;this.Mc=this.$p=!1;this.In=new ca;this.Jn=new ca;this.dr=new ca;this.Bg=[];this.pc=new fb([]);this.ro=new fb([]);this.Pg=[];this.fi={};this.$e={};this.We={};this.Ih={};this.ip={};this.wq=this.Ek=this.gb=this.qb=this.vq=this.Dk=this.ma=null;this.Gh=this.qn=!1;this.Em=[null,null];this.Yf=0;this.Am="";this.Ce={};this.fj=this.uf=null;this.Vr="";this.Qk=[];this.Xx()}}function k(a,b){return 128>=b?a[3]:256>=b?a[2]:512>=
b?a[1]:a[0]}function p(){try{return!!window.indexedDB}catch(a){return!1}}function g(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function r(a,b,d,f){try{var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=g;e.onerror=f;e.onsuccess=function(e){e=e.target.result;e.onerror=f;e.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=d}}catch(h){f(h)}}function q(a,b,d){try{var f=indexedDB.open("_C2SaveStates");f.onupgradeneeded=g;f.onerror=d;f.onsuccess=
function(f){f=f.target.result;f.onerror=d;var e=f.transaction(["saves"]).objectStore("saves").get(a);e.onsuccess=function(){e.result?b(e.result.data):b(null)}}}catch(e){d(e)}}function l(){fa("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function b(a){var b,d={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof ca||a[b]&&"undefined"!==typeof a[b].Jz||
"spriteCreatedDestroyCallback"!==b&&(d[b]=a[b]);return d}var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;c.prototype.Xx=function(){var a=this;if(this.vk)this.Pv(function(b){a.Bi(JSON.parse(b))},function(){alert("Error fetching data.js")});else{var b;this.ri?b=new ActiveXObject("Microsoft.XMLHTTP"):b=new XMLHttpRequest;var d="data.js";if(this.oq||this.ri||this.pn||this.nn)d="data.json";
b.open("GET",d,!0);var f=!1;if(!this.ob&&"response"in b&&"responseType"in b)try{b.responseType="json",f="json"===b.responseType}catch(e){f=!1}if(!f&&"responseType"in b)try{b.responseType="text"}catch(h){}if("overrideMimeType"in b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(m){}this.ri?b.onreadystatechange=function(){4===b.readyState&&a.Bi(JSON.parse(b.responseText))}:(b.onload=function(){if(f)a.Bi(b.response);else if(a.vd){var d=b.responseText,d=d.substr(d.indexOf("{"));a.Bi(JSON.parse(d))}else a.Bi(JSON.parse(b.responseText))},
b.onerror=function(a){ia("Error requesting "+d+":");ia(a)});b.send()}};c.prototype.Gw=function(){var a=this,b,d,f,e,h,m,n,c,g;this.ig=(!this.ob||this.vd||this.ue)&&this.Ky&&!this.rk;0===this.hc&&this.vi&&(this.ig=!1);this.devicePixelRatio=this.ig?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Nb();0<this.hc&&this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",function(b){b.preventDefault();
a.nx();fa("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.A.fq();a.A.Fg(a.A.width,a.A.height,!0);a.qb=null;a.gb=null;a.Em[0]=null;a.Em[1]=null;a.ox();a.ja=!0;fa("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);try{this.iv&&(this.ud||this.vd||!this.ob)&&(b={alpha:!0,depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.C=this.canvas.getContext("webgl2",
b)||this.canvas.getContext("webgl",b)||this.canvas.getContext("experimental-webgl",b))}catch(t){}if(this.C){if(b=this.C.getExtension("WEBGL_debug_renderer_info"))this.Qm=this.C.getParameter(b.UNMASKED_RENDERER_WEBGL)+" ["+this.C.getParameter(b.UNMASKED_VENDOR_WEBGL)+"]";this.Ja&&(this.Qm+=" [front-to-back enabled]");this.ob||(this.Lb=document.createElement("canvas"),jQuery(this.Lb).appendTo(this.canvas.parentNode),this.Lb.oncontextmenu=function(){return!1},this.Lb.onselectstart=function(){return!1},
this.Lb.width=Math.round(this.Mj*this.devicePixelRatio),this.Lb.height=Math.round(this.Th*this.devicePixelRatio),jQuery(this.Lb).css({width:this.Mj+"px",height:this.Th+"px"}),this.ur(),this.Nn=this.Lb.getContext("2d"));this.A=new nb(this.C,this.nf,this.Ja);this.A.Fg(this.canvas.width,this.canvas.height);this.A.Ep=0!==this.Zu;this.La=null;b=0;for(d=this.u.length;b<d;b++)for(h=this.u[b],f=0,e=h.Y.length;f<e;f++)n=h.Y[f],n.kb=this.A.Nm(n.id),n.Bd=this.A.Rn(n.kb),this.Gh=this.Gh||this.A.Ui(n.kb);b=0;
for(d=this.xd.length;b<d;b++){c=this.xd[b];f=0;for(e=c.Y.length;f<e;f++)n=c.Y[f],n.kb=this.A.Nm(n.id),n.Bd=this.A.Rn(n.kb);c.Jd();f=0;for(e=c.Z.length;f<e;f++){g=c.Z[f];h=0;for(m=g.Y.length;h<m;h++)n=g.Y[h],n.kb=this.A.Nm(n.id),n.Bd=this.A.Rn(n.kb),this.Gh=this.Gh||this.A.Ui(n.kb);g.Jd()}}}else{if(0<this.hc&&this.kc){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.La=AppMobi.canvas.getContext("2d");try{this.La.samplingMode=this.Oa?"smooth":
"sharp",this.La.globalScale=1,this.La.HTML5CompatibilityMode=!0,this.La.imageSmoothingEnabled=this.Oa}catch(k){}0!==this.width&&0!==this.height&&(this.La.width=this.width,this.La.height=this.height)}this.La||(this.ud?(b={antialias:!!this.Oa,alpha:!0},this.La=this.canvas.getContext("2d",b)):(b={alpha:!0},this.La=this.canvas.getContext("2d",b)),this.ol(this.La,this.Oa));this.Nn=this.Lb=null}this.ds=function(b){a.Fa(!1,b)};window==window.top||this.ob||this.Pw||this.ri||(document.addEventListener("mousedown",
function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.ud&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(fa("Reloading for continuous preview"),this.Fk="__c2_continuouspreview",this.gj=!0),this.Fx&&!this.nf&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var b=window.parent;b&&b.document.hasFocus()||a.setSuspended(!0)})));
window.addEventListener("blur",function(){a.De()});this.ob||(b=function(a){if(mb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},"undefined"!==typeof PointerEvent?document.addEventListener("pointerdown",b):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",b):document.addEventListener("touchstart",b),document.addEventListener("mousedown",b));0===this.hc&&
this.ig&&1<this.devicePixelRatio&&this.setSize(this.wb,this.ub,!0);this.ks();this.yw();this.go();this.I={}};c.prototype.setSize=function(a,b,d){var f=0,e=0,h=0,m=0,m=0;if(this.mh!==a||this.lh!==b||d){this.mh=a;this.lh=b;var n=this.hc;if((h=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.pi)&&!this.ue)||0!==this.hc||d)h&&0<this.Yf&&(n=this.Yf),d=this.devicePixelRatio,4<=n?(h=this.wb/this.ub,a/b>h?(h*=b,5===n?(m=h*d/this.wb,1<m?m=Math.floor(m):
1>m&&(m=1/Math.ceil(1/m)),h=this.wb*m/d,m=this.ub*m/d,f=(a-h)/2,e=(b-m)/2,a=h,b=m):(f=(a-h)/2,a=h)):(m=a/h,5===n?(m=m*d/this.ub,1<m?m=Math.floor(m):1>m&&(m=1/Math.ceil(1/m)),h=this.wb*m/d,m=this.ub*m/d,f=(a-h)/2,e=(b-m)/2,a=h):e=(b-m)/2,b=m)):this.uk&&this.pi&&0===this.Op&&(f=Math.floor((a-this.wb)/2),e=Math.floor((b-this.ub)/2),a=this.wb,b=this.ub),2>n&&(this.Oh=d),this.Mj=Math.round(a),this.Th=Math.round(b),this.width=Math.round(a*d),this.height=Math.round(b*d),this.ja=!0,this.zs?(this.N=this.width,
this.M=this.height,this.Ic=!0):this.width<this.wb&&this.height<this.ub||1===n?(this.N=this.width,this.M=this.height,this.Ic=!0):(this.N=this.wb,this.M=this.ub,this.Ic=!1,2===n?(h=this.wb/this.ub,n=this.mh/this.lh,n<h?this.N=this.M*n:n>h&&(this.M=this.N/n)):3===n&&(h=this.wb/this.ub,n=this.mh/this.lh,n>h?this.N=this.M*n:n<h&&(this.M=this.N/n))),this.qp&&!this.ob&&(jQuery(this.qp).css({width:Math.round(a)+"px",height:Math.round(b)+"px","margin-left":Math.floor(f)+"px","margin-top":Math.floor(e)+"px"}),
"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*d),this.canvas.height=Math.round(b*d),this.vd?(this.canvas.style.left=Math.floor(f)+"px",this.canvas.style.top=Math.floor(e)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.ig&&!this.ob&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px")),this.Lb&&(this.Lb.width=
Math.round(a*d),this.Lb.height=Math.round(b*d),this.Lb.style.width=this.Mj+"px",this.Lb.style.height=this.Th+"px"),this.A&&this.A.Fg(Math.round(a*d),Math.round(b*d)),this.kc&&this.La&&(this.La.width=Math.round(a),this.La.height=Math.round(b)),this.La&&this.ol(this.La,this.Oa),this.ks(),this.qq&&!this.ue&&window.scrollTo(0,0)}};c.prototype.ks=function(){if(this.su&&0!==this.Mn){var a="portrait";2===this.Mn&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):
screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(b){console&&console.warn&&console.warn("Failed to lock orientation: ",b)}}};c.prototype.nx=function(){this.A.Au();this.qn=!0;var a,b,d;a=0;for(b=this.u.length;a<b;a++)d=this.u[a],d.Uk&&d.Uk()};c.prototype.ox=function(){this.qn=!1;var a,b,d;a=0;for(b=this.u.length;a<b;a++)d=this.u[a],
d.Kn&&d.Kn()};c.prototype.ur=function(){if(!this.ob){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.pi)&&!this.ue?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.Lb).css(a)}};var d=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;c.prototype.setSuspended=function(a){var b;if(a&&
!this.jg)for(fa("[Construct 2] Suspending"),this.jg=!0,-1!==this.Un&&d&&d(this.Un),-1!==this.xo&&clearTimeout(this.xo),a=0,b=this.hj.length;a<b;a++)this.hj[a](!0);else if(!a&&this.jg){fa("[Construct 2] Resuming");this.jg=!1;this.Ak=$a();this.mg=$a();a=this.Ii=this.fk=0;for(b=this.hj.length;a<b;a++)this.hj[a](!1);this.Fa(!1)}};c.prototype.cp=function(a){this.hj.push(a)};c.prototype.Ue=function(a){return this.Qk[a]};c.prototype.Bi=function(a){a&&a.project||ia("Project model unavailable");a=a.project;
this.name=a[0];this.Mp=a[1];this.hc=a[12];this.Op=a[12];this.wb=a[10];this.ub=a[11];this.or=this.wb/2;this.pr=this.ub/2;this.ob&&!this.vd&&(4<=a[12]||0===a[12])&&(fa("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Op=this.hc=3);this.Io=a[18];this.vf=a[19];if(0===this.vf){var b=new Image;b.crossOrigin="anonymous";this.Lr(b,"loading-logo.png");this.uf={Mk:b}}else if(4===this.vf){b=new Image;b.src="";var d=new Image;d.src="";var f=
new Image;f.src="";var e=new Image;e.src="";var h=new Image;h.src="";var m=new Image;m.src="";var n=new Image;n.src="";var c=new Image;c.src="";var g=new Image;g.src="";var t=new Image;t.src="";var k=new Image;k.src="";var x=new Image;x.src="";this.uf={Mk:[b,d,f,e],Kx:[h,m,n,c],Ny:[g,t,k,x]}}this.Oi=a[21];this.Qk=pc();this.ge=new W(this);b=0;for(d=a[2].length;b<d;b++)n=a[2][b],f=this.Ue(n[0]),qb(n,f.prototype),c=new f(this),c.tl=n[1],c.qf=n[2],c.Sw=n[5],c.Wq=n[9],c.H&&c.H(),this.plugins.push(c);this.Qk=
pc();b=0;for(d=a[3].length;b<d;b++){n=a[3][b];h=this.Ue(n[1]);c=null;f=0;for(e=this.plugins.length;f<e;f++)if(this.plugins[f]instanceof h){c=this.plugins[f];break}g=new c.aa(c);g.name=n[0];g.R=n[2];g.$m=n[3].slice(0);g.Ly=n[3].length;g.tu=n[4];g.Uv=n[5];g.ca=n[11];g.R?(g.sg=[],g.pe=this.Xh++,g.Ma=null):(g.sg=null,g.pe=-1,g.Ma=[]);g.$j=null;g.Yg=null;g.Fp=null;g.Jb=!1;g.sc=null;n[6]?(g.to=n[6][0],g.uo=n[6][1],g.vo=n[6][2]):(g.to=null,g.uo=0,g.vo=0);n[7]?g.rc=n[7]:g.rc=null;g.index=b;g.i=[];g.Qj=[];
g.Oe=[new rb(g)];g.Pd=0;g.Wc=null;g.Ap=0;g.Eh=!0;g.Fl=sb;g.Vp=tb;g.fw=ub;g.T=vb;g.Wi=wb;g.yg=xb;g.ae=yb;g.hk=zb;g.Fm=Ab;g.Im=Bb;g.md=Cb;g.Jm=Gb;g.Hj=new gb(this.wb,this.ub);g.xj=!0;g.yj=!1;g.I={};g.toString=Hb;g.Ra=[];f=0;for(e=n[8].length;f<e;f++){t=n[8][f];k=this.Ue(t[1]);x=null;h=0;for(m=this.Ra.length;h<m;h++)if(this.Ra[h]instanceof k){x=this.Ra[h];break}x||(x=new k(this),x.Hn=[],x.Mi=new ca,x.H&&x.H(),this.Ra.push(x),qc&&x instanceof qc&&(this.po=x));-1===x.Hn.indexOf(g)&&x.Hn.push(g);h=new x.aa(x,
g);h.name=t[0];h.ca=t[2];h.H();g.Ra.push(h)}g.global=n[9];g.jn=n[10];g.Y=[];f=0;for(e=n[12].length;f<e;f++)g.Y.push({id:n[12][f][0],name:n[12][f][1],kb:-1,Bd:!1,Fc:!0,index:f});g.Tz=n[13];this.Io&&!g.R&&!g.jn&&c.qf||g.H();g.name&&(this.types[g.name]=g);this.u.push(g);c.tl&&(f=new c.P(g),f.uid=this.Oi++,f.Ar=this.Zq++,f.gg=0,f.di=Ib,f.toString=Jb,f.q=n[14],f.H(),g.i.push(f),this.Ce[f.uid.toString()]=f)}b=0;for(d=a[4].length;b<d;b++)for(h=a[4][b],m=this.u[h[0]],f=1,e=h.length;f<e;f++)n=this.u[h[f]],
n.Ma.push(m),m.sg.push(n);b=0;for(d=a[28].length;b<d;b++){h=a[28][b];m=[];f=0;for(e=h.length;f<e;f++)m.push(this.u[h[f]]);f=0;for(e=m.length;f<e;f++)m[f].Jb=!0,m[f].sc=m}if(0<this.Xh)for(b=0,d=this.u.length;b<d;b++)if(n=this.u[b],!n.R&&n.Ma.length){n.$j=Array(this.Xh);n.Yg=Array(this.Xh);n.Fp=Array(this.Xh);g=[];f=x=k=t=0;for(e=n.Ma.length;f<e;f++)for(c=n.Ma[f],n.$j[c.pe]=t,t+=c.Ly,n.Yg[c.pe]=k,k+=c.tu,n.Fp[c.pe]=x,x+=c.Uv,h=0,m=c.Y.length;h<m;h++)g.push(xa({},c.Y[h]));n.Y=g.concat(n.Y);f=0;for(e=
n.Y.length;f<e;f++)n.Y[f].index=f}b=0;for(d=a[5].length;b<d;b++)n=a[5][b],f=new Kb(this,n),this.yn[f.name]=f,this.xd.push(f);b=0;for(d=a[6].length;b<d;b++)n=a[6][b],f=new Lb(this,n),this.wm[f.name]=f,this.oe.push(f);b=0;for(d=this.oe.length;b<d;b++)this.oe[b].ab();b=0;for(d=this.oe.length;b<d;b++)this.oe[b].Fo();b=0;for(d=this.El.length;b<d;b++)this.El[b].ab();Q(this.El);this.ru=a[7];this.Am=a[8];this.Ad=a[9];this.Oh=1;this.iv=a[13];this.Oa=a[14];this.sp=a[15];this.Ky=a[17];this.Mn=a[20];this.su=
0<this.Mn;this.Fx=a[22];this.Ic=this.zs=a[23];this.Zu=a[24];this.Lx=a[25];this.Ja=a[27]&&!this.we;this.ul=Date.now();Q(this.Qk);this.Gw()};var a=!1,f=0,m=[];c.prototype.Tx=function(a,b){function d(){f--;e.Pq()}var e=this;a.addEventListener("load",d);a.addEventListener("error",d);m.push([a,b]);this.Pq()};c.prototype.Pq=function(){for(var a;m.length&&100>f;)f++,a=m.shift(),this.Lr(a[0],a[1])};c.prototype.ys=function(b,d){b.cocoonLazyLoad=!0;b.onerror=function(d){a=b.kp=!0;console&&console.error&&console.error("Error loading image '"+
b.src+"': ",d)};this.vd?b.src=d:b.src||("undefined"!==typeof XAPKReader?XAPKReader.get(d,function(a){b.src=a},function(f){a=b.kp=!0;console&&console.error&&console.error("Error extracting image '"+d+"' from expansion file: ",f)}):(b.crossOrigin="anonymous",this.Tx(b,d)));this.Jh.push(b)};c.prototype.Sv=function(a){var b,d;b=0;for(d=this.Jh.length;b<d;b++)if(this.Jh[b].Du===a)return this.Jh[b];return null};var h=0,x=!1;c.prototype.yw=function(){this.Qg&&(h=this.Qg.ny(this.ru))};c.prototype.fp=function(){var a=
h,b=0,d=0,f=!0,e,m,d=0;for(e=this.Jh.length;d<e;d++){m=this.Jh[d];var n=m.wp;if(!n||0>=n)n=5E4;a+=n;m.src&&(m.complete||m.loaded)&&!m.kp?b+=n:f=!1}f&&this.Lx&&this.Qg&&(x||(this.Qg.wy(),x=!0),d=this.Qg.gw(),b+=d,d<h&&(f=!1));this.Cd=0==a?1:b/a;return f};var F=!1;c.prototype.go=function(){if(this.La||this.A){var b=this.La||this.Nn;this.Lb&&this.ur();var d=window.innerWidth,f=window.innerHeight;this.mh===d&&this.lh===f||this.setSize(d,f);this.Cd=0;this.uq=-1;var h=this;if(this.fp()&&(4!==this.vf||F))this.zw();
else{f=Date.now()-this.ul;if(b){var m=this.width,n=this.height,d=this.devicePixelRatio;if(3>this.vf&&(this.ud||500<=f&&this.uq!=this.Cd)){b.clearRect(0,0,m,n);var f=m/2,n=n/2,m=0===this.vf&&this.uf.Mk.complete,c=40*d,g=0,t=80*d,k;if(m){var x=this.uf.Mk,t=x.width*d;k=x.height*d;c=t/2;g=k/2;b.drawImage(x,I(f-c),I(n-g),t,k)}1>=this.vf?(f=I(f-c)+.5,n=I(n+(g+(m?12*d:0)))+.5,b.fillStyle=a?"red":"DodgerBlue",b.fillRect(f,n,Math.floor(t*this.Cd),6*d),b.strokeStyle="black",b.strokeRect(f,n,t,6*d),b.strokeStyle=
"white",b.strokeRect(f-1*d,n-1*d,t+2*d,8*d)):2===this.vf&&(b.font=this.vd?"12pt ArialMT":"12pt Arial",b.fillStyle=a?"#f00":"#999",b.Sz="middle",d=Math.round(100*this.Cd)+"%",m=b.measureText?b.measureText(d):null,b.fillText(d,f-(m?m.width:0)/2,n));this.uq=this.Cd}else if(4===this.vf){this.gv(b);e?e(function(){h.go()}):setTimeout(function(){h.go()},16);return}}setTimeout(function(){h.go()},this.ud?10:100)}}};var H=-1,n="undefined"===typeof cr_is_preview?200:0,t=!0,K=!1,B=0,y=0,P="undefined"===typeof cr_is_preview?
3E3:0,O=null,M=null,v=0;c.prototype.gv=function(b){if(!F){for(var d=Math.ceil(this.width),f=Math.ceil(this.height),e=this.uf.Mk,h=this.uf.Kx,m=this.uf.Ny,c=0;4>c;++c)if(!e[c].complete||!h[c].complete||!m[c].complete)return;0===v&&(H=Date.now());var c=Date.now(),g=!1,x=b,l,p;t||K?(b.clearRect(0,0,d,f),O&&O.width===d&&O.height===f||(O=document.createElement("canvas"),O.width=d,O.height=f,M=O.getContext("2d")),x=M,g=!0,t&&1===v&&(H=Date.now())):b.globalAlpha=1;x.fillStyle="#333333";x.fillRect(0,0,d,
f);256<this.Th?(l=Fa(.22*f,105,.6*d),p=.25*l,x.drawImage(k(h,l),.5*d-l/2,.2*f-p/2,l,p),p=l=Math.min(.395*f,.95*d),x.drawImage(k(e,l),.5*d-l/2,.485*f-p/2,l,p),l=Fa(.22*f,105,.6*d),p=.25*l,x.drawImage(k(m,l),.5*d-l/2,.868*f-p/2,l,p),x.fillStyle="#3C3C3C",l=d,p=Math.max(.005*f,2),x.fillRect(0,.8*f-p/2,l,p),x.fillStyle=a?"red":"#E0FF65",l=d*this.Cd,x.fillRect(.5*d-l/2,.8*f-p/2,l,p)):(p=l=.55*f,x.drawImage(k(e,l),.5*d-l/2,.45*f-p/2,l,p),x.fillStyle="#3C3C3C",l=d,p=Math.max(.005*f,2),x.fillRect(0,.85*f-
p/2,l,p),x.fillStyle=a?"red":"#E0FF65",l=d*this.Cd,x.fillRect(.5*d-l/2,.85*f-p/2,l,p));g&&(t?b.globalAlpha=0===v?0:Math.min((c-H)/300,1):K&&(b.globalAlpha=Math.max(1-(c-y)/300,0)),b.drawImage(O,0,0,d,f));t&&300<=c-H&&2<=v&&(t=!1,B=c);!t&&c-B>=P&&!K&&1<=this.Cd&&(K=!0,y=c);if(K&&c-y>=300+n||"undefined"!==typeof cr_is_preview&&1<=this.Cd&&500>Date.now()-H)F=!0,K=t=!1,this.uf=M=O=null;++v}};c.prototype.zw=function(){this.Lb&&(this.canvas.parentNode.removeChild(this.Lb),this.Lb=this.Nn=null);this.ul=
Date.now();this.mg=$a();var a,b,d;if(this.Io)for(a=0,b=this.u.length;a<b;a++)d=this.u[a],d.R||d.jn||!d.za.qf||d.H();else this.zk=!1;a=0;for(b=this.xd.length;a<b;a++)this.xd[a].Eu();2<=this.hc&&(a=this.wb/this.ub,b=this.width/this.height,this.Oh=2!==this.hc&&b>a||2===this.hc&&b<a?this.height/this.ub:this.width/this.wb);this.Mp?this.yn[this.Mp].qo():this.xd[0].qo();this.Io||(this.Jk=1,this.trigger(W.prototype.k.Uo,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&
navigator.splashscreen.hide();a=0;for(b=this.u.length;a<b;a++)d=this.u[a],d.mx&&d.mx();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Fa(!1);this.kc&&AppMobi.webview.execute("onGameReady();")};c.prototype.Fa=function(a,b,d){if(this.ma){var f=$a();if(d||!this.jg||a){a||(e?this.Un=e(this.ds):this.xo=setTimeout(this.ds,this.nf?1:16));b=b||f;var h=this.hc;((d=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&
!this.ue)||this.pi)&&0<this.Yf&&(h=this.Yf);if(0<h){var h=window.innerWidth,m=window.innerHeight;this.mh===h&&this.lh===m||this.setSize(h,m)}this.ob||(d?this.ck||(this.ck=!0):this.ck?(this.ck=!1,0===this.hc&&this.setSize(Math.round(this.gr/this.devicePixelRatio),Math.round(this.er/this.devicePixelRatio),!0)):(this.gr=this.width,this.er=this.height));this.zk&&(d=this.fp(),this.Jk=this.Cd,d&&(this.zk=!1,this.Cd=1,this.trigger(W.prototype.k.Uo,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.Zw(b);
!this.ja&&!this.ud||this.qn||this.gj||a||(this.ja=!1,this.A?this.tc():this.Qd(),this.fj&&(this.canvas&&this.canvas.toDataURL&&(this.Vr=this.canvas.toDataURL(this.fj[0],this.fj[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.Vr),this.trigger(W.prototype.k.mt,null)),this.fj=null));this.Mz||(this.hd++,this.Xf++,this.fk++);this.Ii+=$a()-f}}};c.prototype.Zw=function(a){var b,d,f,e,h,m,n,c;1E3<=a-this.mg&&(this.mg+=1E3,1E3<=a-this.mg&&(this.mg=a),this.Cm=this.fk,this.fk=0,this.gm=this.Ii,this.Ii=0);
b=0;0!==this.Ak&&(b=a-this.Ak,0>b&&(b=0),this.ff=b/=1E3,.5<this.ff?this.ff=0:this.ff>1/this.Sq&&(this.ff=1/this.Sq));this.Ak=a;this.Tf=this.ff*this.Jg;this.pb.add(this.Tf);this.Se.add(b);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.pi)&&!this.ue;2<=this.hc||a&&0<this.Yf?(b=this.wb/this.ub,d=this.width/this.height,f=this.hc,a&&0<this.Yf&&(f=this.Yf),this.Oh=2!==f&&d>b||2===f&&d<b?this.height/this.ub:this.width/this.wb,this.ma&&(this.ma.eo(this.ma.scrollX),
this.ma.fo(this.ma.scrollY))):this.Oh=this.ig?this.devicePixelRatio:1;this.Nb();this.Lc++;this.ge.by();this.Lc--;this.Nb();this.Lc++;d=this.In.jd();a=0;for(b=d.length;a<b;a++)d[a].Ox();a=0;for(b=this.u.length;a<b;a++)if(m=this.u[a],!m.R&&(m.Ra.length||m.Ma.length))for(d=0,f=m.i.length;d<f;d++)for(n=m.i[d],e=0,h=n.L.length;e<h;e++)n.L[e].Fa();a=0;for(b=this.u.length;a<b;a++)if(m=this.u[a],!m.R&&(m.Ra.length||m.Ma.length))for(d=0,f=m.i.length;d<f;d++)for(n=m.i[d],e=0,h=n.L.length;e<h;e++)c=n.L[e],c.Jx&&
c.Jx();d=this.Jn.jd();a=0;for(b=d.length;a<b;a++)d[a].Fa();this.Lc--;this.Aw();for(a=0;this.dm&&10>a++;)this.Cp(this.dm);a=0;for(b=this.oe.length;a<b;a++)this.oe[a].Tm=!1;this.ma.Vf&&this.ma.Vf.jb();Q(this.Bg);this.Lc++;a=0;for(b=this.u.length;a<b;a++)if(m=this.u[a],!m.R&&(m.Ra.length||m.Ma.length))for(d=0,f=m.i.length;d<f;d++)for(n=m.i[d],e=0,h=n.L.length;e<h;e++)c=n.L[e],c.jj&&c.jj();d=this.dr.jd();a=0;for(b=d.length;a<b;a++)d[a].jj();this.Lc--};c.prototype.De=function(){var a,b,d,f,e,h,m,n,c;a=
0;for(b=this.u.length;a<b;a++)if(m=this.u[a],!m.R)for(d=0,f=m.i.length;d<f;d++)if(n=m.i[d],n.De&&n.De(),n.L)for(e=0,h=n.L.length;e<h;e++)c=n.L[e],c.De&&c.De()};c.prototype.Cp=function(a){var b=this.ma;this.ma.xy();var d,f,e;if(this.A)for(d=0,f=this.u.length;d<f;d++)e=this.u[d],e.R||!e.Eo||e.global&&0!==e.i.length||-1!==a.ii.indexOf(e)||e.Eo();b==a&&Q(this.ge.qc);Q(this.Bg);this.Fr(!0);a.qo();this.Fr(!1);this.ja=!0;this.Nb()};c.prototype.Fr=function(a){var b,d,f,e,h,m,n,c,g;b=0;for(d=this.Ra.length;b<
d;b++)f=this.Ra[b],a?f.wh&&f.wh():f.Ri&&f.Ri();b=0;for(d=this.u.length;b<d;b++)if(f=this.u[b],f.global||f.za.tl)for(e=0,h=f.i.length;e<h;e++)if(m=f.i[e],a?m.wh&&m.wh():m.Ri&&m.Ri(),m.L)for(n=0,c=m.L.length;n<c;n++)g=m.L[n],a?g.wh&&g.wh():g.Ri&&g.Ri()};c.prototype.Px=function(a){this.In.add(a)};c.prototype.Al=function(a){this.Jn.add(a)};c.prototype.kf=function(a){return a&&-1!==a.Ni?this.ff*a.Ni:this.Tf};c.prototype.Qd=function(){this.ma.Qd(this.La);this.kc&&this.La.present()};c.prototype.tc=function(){this.Ja&&
(this.Uf=1,this.ma.Sf(this.A));this.ma.tc(this.A);this.A.Nx()};c.prototype.Rl=function(a){a&&this.pm.push(a)};c.prototype.bi=function(a){a=a.toString();return this.Ce.hasOwnProperty(a)?this.Ce[a]:null};var L=[];c.prototype.Ec=function(a){var b,d;b=a.type.name;var f=null;if(this.Rf.hasOwnProperty(b)){if(f=this.Rf[b],f.contains(a))return}else f=L.length?L.pop():new ca,this.Rf[b]=f;f.add(a);this.lf=!0;if(a.Jb)for(b=0,d=a.siblings.length;b<d;b++)this.Ec(a.siblings[b]);this.hn&&f.Hh.push(a);this.gn||(this.Lc++,
this.trigger(Object.getPrototypeOf(a.type.za).k.pt,a),this.Lc--)};c.prototype.Nb=function(){if(this.lf){var a,b,d,f,e,h;this.hn=!0;d=0;for(e=this.rd.length;d<e;++d)for(a=this.rd[d],b=a.type,b.i.push(a),f=0,h=b.Ma.length;f<h;++f)b.Ma[f].i.push(a),b.Ma[f].Eh=!0;Q(this.rd);this.ft();Za(this.Rf);this.lf=this.hn=!1}};c.prototype.ft=function(){for(var a in this.Rf)this.Rf.hasOwnProperty(a)&&this.Gs(this.Rf[a])};c.prototype.Gs=function(a){var b=a.jd(),d=b[0].type,f,e,h,m,n,c;ab(d.i,a);d.Eh=!0;0===d.i.length&&
(d.yj=!1);f=0;for(e=d.Ma.length;f<e;++f)c=d.Ma[f],ab(c.i,a),c.Eh=!0;f=0;for(e=this.ge.qc.length;f<e;++f)if(n=this.ge.qc[f],n.ac.hasOwnProperty(d.index)&&ab(n.ac[d.index].te,a),!d.R)for(h=0,m=d.Ma.length;h<m;++h)c=d.Ma[h],n.ac.hasOwnProperty(c.index)&&ab(n.ac[c.index].te,a);if(n=b[0].n){if(n.Sc)for(h=n.i,f=0,e=h.length;f<e;++f)m=h[f],a.contains(m)&&(m.ya(),n.Mb.update(m,m.mc,null),m.mc.set(0,0,-1,-1));ab(n.i,a);n.bj(0)}for(f=0;f<b.length;++f)this.Fs(b[f],d);a.clear();L.push(a);this.ja=!0};c.prototype.Fs=
function(a,b){var d,f,e;d=0;for(f=this.pm.length;d<f;++d)this.pm[d](a);a.bf&&b.Hj.update(a,a.bf,null);(d=a.n)&&d.zh(a,!0);if(a.L)for(d=0,f=a.L.length;d<f;++d)e=a.L[d],e.Af&&e.Af(),e.behavior.Mi.remove(a);this.In.remove(a);this.Jn.remove(a);this.dr.remove(a);a.Af&&a.Af();this.Ce.hasOwnProperty(a.uid.toString())&&delete this.Ce[a.uid.toString()];this.Rk--;100>b.Qj.length&&b.Qj.push(a)};c.prototype.Lj=function(a,b,d,f){if(a.R){var e=I(Math.random()*a.sg.length);return this.Lj(a.sg[e],b,d,f)}return a.Wc?
this.df(a.Wc,b,!1,d,f,!1):null};var X=[];c.prototype.df=function(a,b,d,f,e,h){var m,n,c,g;if(!a)return null;var t=this.u[a[1]],k=t.za.qf;if(this.zk&&k&&!t.jn||k&&!this.A&&11===a[0][11])return null;var x=b;k||(b=null);var l;t.Qj.length?(l=t.Qj.pop(),l.Ac=!0,t.za.P.call(l,t)):(l=new t.za.P(t),l.Ac=!1);!d||h||this.Ce.hasOwnProperty(a[2].toString())?l.uid=this.Oi++:l.uid=a[2];this.Ce[l.uid.toString()]=l;l.Ar=this.Zq++;l.gg=t.i.length;m=0;for(n=this.rd.length;m<n;++m)this.rd[m].type===t&&l.gg++;l.di=Ib;
l.toString=Jb;c=a[3];if(l.Ac)Za(l.I);else{l.I={};if("undefined"!==typeof cr_is_preview)for(l.iq=[],l.iq.length=c.length,m=0,n=c.length;m<n;m++)l.iq[m]=c[m][1];l.Ea=[];l.Ea.length=c.length}m=0;for(n=c.length;m<n;m++)l.Ea[m]=c[m][0];if(k){var p=a[0];l.x=ja(f)?p[0]:f;l.y=ja(e)?p[1]:e;l.z=p[2];l.width=p[3];l.height=p[4];l.depth=p[5];l.j=p[6];l.opacity=p[7];l.ic=p[8];l.jc=p[9];l.Ob=p[10];m=p[11];!this.A&&t.Y.length&&(l.Ob=m);l.Qh=ib(l.Ob);this.C&&jb(l,l.Ob,this.C);if(l.Ac){m=0;for(n=p[12].length;m<n;m++)for(c=
0,g=p[12][m].length;c<g;c++)l.Ta[m][c]=p[12][m][c];l.Da.set(0,0,0,0);l.bf.set(0,0,-1,-1);l.mc.set(0,0,-1,-1);l.Fb.Ef(l.Da);Q(l.Wl)}else{l.Ta=p[12].slice(0);m=0;for(n=l.Ta.length;m<n;m++)l.Ta[m]=p[12][m].slice(0);l.wa=[];l.Ve=[];l.Ve.length=t.Y.length;l.Da=new va(0,0,0,0);l.bf=new va(0,0,-1,-1);l.mc=new va(0,0,-1,-1);l.Fb=new wa;l.Wl=[];l.F=Mb;l.Iz=Nb;l.Bb=Ob;l.ya=Pb;l.Jy=Qb;l.us=Rb;l.Td=Sb}l.Hf=!1;l.Dy=0;l.Cy=0;l.By=null;14===p.length&&(l.Hf=!0,l.Dy=p[13][0],l.Cy=p[13][1],l.By=p[13][2]);m=0;for(n=
t.Y.length;m<n;m++)l.Ve[m]=!0;l.Ie=!0;l.Jd=Tb;l.Jd();l.ws=!!l.wa.length;l.Vl=!0;l.Zl=!0;t.xj=!0;l.visible=!0;l.Ni=-1;l.n=b;l.Ld=b.i.length;l.Uf=0;"undefined"===typeof l.ba&&(l.ba=null);this.ja=l.qd=!0}var y;Q(X);m=0;for(n=t.Ma.length;m<n;m++)X.push.apply(X,t.Ma[m].Ra);X.push.apply(X,t.Ra);if(l.Ac)for(m=0,n=X.length;m<n;m++){var B=X[m];y=l.L[m];y.Ac=!0;B.behavior.P.call(y,B,l);p=a[4][m];c=0;for(g=p.length;c<g;c++)y.q[c]=p[c];y.H();B.behavior.Mi.add(l)}else for(l.L=[],m=0,n=X.length;m<n;m++)B=X[m],
y=new B.behavior.P(B,l),y.Ac=!1,y.q=a[4][m].slice(0),y.H(),l.L.push(y),B.behavior.Mi.add(l);p=a[5];if(l.Ac)for(m=0,n=p.length;m<n;m++)l.q[m]=p[m];else l.q=p.slice(0);this.rd.push(l);this.lf=!0;b&&(b.Nh(l,!0),1!==b.$c||1!==b.ad)&&(t.yj=!0);this.Rk++;if(t.Jb){if(l.Jb=!0,l.Ac?Q(l.siblings):l.siblings=[],!d&&!h){m=0;for(n=t.sc.length;m<n;m++)if(t.sc[m]!==t){if(!t.sc[m].Wc)return null;l.siblings.push(this.df(t.sc[m].Wc,x,!1,k?l.x:f,k?l.y:e,!0))}m=0;for(n=l.siblings.length;m<n;m++)for(l.siblings[m].siblings.push(l),
c=0;c<n;c++)m!==c&&l.siblings[m].siblings.push(l.siblings[c])}}else l.Jb=!1,l.siblings=null;l.H();m=0;for(n=l.L.length;m<n;m++)l.L[m].Ix&&l.L[m].Ix();return l};c.prototype.Km=function(a){var b,d;b=0;for(d=this.ma.Z.length;b<d;b++){var f=this.ma.Z[b];if(lb(f.name,a))return f}return null};c.prototype.ai=function(a){a=I(a);0>a&&(a=0);a>=this.ma.Z.length&&(a=this.ma.Z.length-1);return this.ma.Z[a]};c.prototype.em=function(a){var b,d;b=0;for(d=a.length;b<d;b++)a[b].T().V=!0};c.prototype.Wi=function(a){var b,
d;b=0;for(d=a.length;b<d;b++)a[b].Wi()};c.prototype.yg=function(a){var b,d;b=0;for(d=a.length;b<d;b++)a[b].yg()};c.prototype.ae=function(a){var b,d;b=0;for(d=a.length;b<d;b++)a[b].ae()};c.prototype.rs=function(a){if(a.xj){var b,d,f=a.i;b=0;for(d=f.length;b<d;++b)f[b].us();f=this.rd;b=0;for(d=f.length;b<d;++b)f[b].type===a&&f[b].us();a.xj=!1}};c.prototype.ik=function(a,b,d,f){var e,h,m=a?1!==a.$c||1!==a.ad:!1;if(b.R)for(a=0,e=b.sg.length;a<e;++a)h=b.sg[a],m||h.yj?Ba(f,h.i):(this.rs(h),h.Hj.gl(d,f));
else m||b.yj?Ba(f,b.i):(this.rs(b),b.Hj.gl(d,f))};c.prototype.Pm=function(a,b,d,f){var e,h;e=0;for(h=b.length;e<h;++e)this.ik(a,b[e],d,f)};c.prototype.Om=function(a,b,d){var f=this.po;f&&this.Pm(a,f.Hn,b,d)};c.prototype.zy=function(a,b,d){var f=a.T(),e,h,m,n,c=this.Va().Za.Pc,g,l,t;if(f.V)for(f.V=!1,Q(f.i),e=0,n=a.i.length;e<n;e++)m=a.i[e],m.ya(),g=m.n.Zb(b,d,!0),l=m.n.Zb(b,d,!1),m.Bb(g,l)?f.i.push(m):c&&f.da.push(m);else{h=0;t=c?f.da:f.i;e=0;for(n=t.length;e<n;e++)m=t[e],m.ya(),g=m.n.Zb(b,d,!0),
l=m.n.Zb(b,d,!1),m.Bb(g,l)&&(c?f.i.push(m):(f.i[h]=f.i[e],h++));t.length=h}a.md();return f.mk()};c.prototype.Gf=function(a,b){if(!(a&&b&&a!==b&&a.qd&&b.qd))return!1;a.ya();b.ya();var d=a.n,f=b.n,e,h,m,n,c,g,l,t;if(d===f||d.$c===f.$c&&f.ad===f.ad&&d.scale===f.scale&&d.j===f.j&&d.Md===f.Md){if(!a.Da.bn(b.Da)||!a.Fb.an(b.Fb)||a.Hf&&b.Hf)return!1;if(a.Hf)return this.$r(a,b);if(b.Hf)return this.$r(b,a);l=a.ba&&!a.ba.pf();e=b.ba&&!b.ba.pf();if(!l&&!e)return!0;l?(a.ba.Ye(a.width,a.height,a.j),l=a.ba):(this.pc.Gg(a.Fb,
a.x,a.y,a.width,a.height),l=this.pc);e?(b.ba.Ye(b.width,b.height,b.j),t=b.ba):(this.pc.Gg(b.Fb,b.x,b.y,b.width,b.height),t=this.pc);return l.hg(t,b.x-a.x,b.y-a.y)}l=a.ba&&!a.ba.pf();e=b.ba&&!b.ba.pf();l?(a.ba.Ye(a.width,a.height,a.j),this.pc.Or(a.ba)):this.pc.Gg(a.Fb,a.x,a.y,a.width,a.height);l=this.pc;e?(b.ba.Ye(b.width,b.height,b.j),this.ro.Or(b.ba)):this.ro.Gg(b.Fb,b.x,b.y,b.width,b.height);t=this.ro;e=0;for(h=l.bd;e<h;e++)m=2*e,n=m+1,c=l.ib[m],g=l.ib[n],l.ib[m]=d.Na(c+a.x,g+a.y,!0),l.ib[n]=d.Na(c+
a.x,g+a.y,!1);l.ya();e=0;for(h=t.bd;e<h;e++)m=2*e,n=m+1,c=t.ib[m],g=t.ib[n],t.ib[m]=f.Na(c+b.x,g+b.y,!0),t.ib[n]=f.Na(c+b.x,g+b.y,!1);t.ya();return l.hg(t,0,0)};var T=new wa,U=new va(0,0,0,0),C=[];c.prototype.$r=function(a,b){var d,f,e,h,m=b.Da,n=a.x,c=a.y;a.Sp(m,C);var g=b.ba&&!b.ba.pf();d=0;for(f=C.length;d<f;++d)if(e=C[d],h=e.Dr,m.cn(h,n,c)&&(T.Ef(h),T.offset(n,c),T.an(b.Fb)))if(g)if(b.ba.Ye(b.width,b.height,b.j),e.xg){if(e.xg.hg(b.ba,b.x-(n+h.left),b.y-(c+h.top)))return Q(C),!0}else{if(this.pc.Gg(T,
0,0,h.right-h.left,h.bottom-h.top),this.pc.hg(b.ba,b.x,b.y))return Q(C),!0}else if(e.xg){if(this.pc.Gg(b.Fb,0,0,b.width,b.height),e.xg.hg(this.pc,-(n+h.left),-(c+h.top)))return Q(C),!0}else return Q(C),!0;Q(C);return!1};c.prototype.so=function(a,b){if(!b||!b.qd)return!1;b.ya();if(!b.Da.bn(a))return!1;if(b.Hf){b.Sp(a,C);var d,f,e,h,m=b.x,n=b.y;d=0;for(f=C.length;d<f;++d)if(e=C[d],h=e.Dr,a.cn(h,m,n))if(e.xg){if(this.pc.Ef(a,0,0),e.xg.hg(this.pc,-(m+h.left),-(n+h.top)))return Q(C),!0}else return Q(C),
!0;Q(C);return!1}T.Ef(a);if(!b.Fb.an(T))return!1;if(!b.ba||b.ba.pf())return!0;b.ba.Ye(b.width,b.height,b.j);T.offset(-a.left,-a.top);this.pc.Gg(T,0,0,1,1);return b.ba.hg(this.pc,a.left-b.x,a.top-b.y)};c.prototype.Zr=function(a,b,d,f,e){if(!e||!e.qd)return!1;e.ya();U.set(qa(a,d),qa(b,f),pa(a,d),pa(b,f));if(!e.Da.bn(U))return!1;if(e.Hf){e.Sp(U,C);var h,m,n,c=e.x,g=e.y;e=0;for(h=C.length;e<h;++e)if(m=C[e],n=m.Dr,U.cn(n,c,g)&&(T.Ef(n),T.offset(c,g),T.ji(a,b,d,f)))if(m.xg){if(m.xg.ji(c+n.left,g+n.top,
a,b,d,f))return Q(C),!0}else return Q(C),!0;Q(C);return!1}if(!e.Fb.ji(a,b,d,f))return!1;if(!e.ba||e.ba.pf())return!0;e.ba.Ye(e.width,e.height,e.j);return e.ba.ji(e.x,e.y,a,b,d,f)};c.prototype.ls=function(a,b){if(!b)return!1;var d,f,e,h,m;d=0;for(f=a.Ra.length;d<f;d++)if(a.Ra[d].behavior instanceof b)return!0;if(!a.R)for(d=0,f=a.Ma.length;d<f;d++)for(m=a.Ma[d],e=0,h=m.Ra.length;e<h;e++)if(m.Ra[e].behavior instanceof b)return!0;return!1};c.prototype.Bo=function(a){return this.ls(a,hc.kz)};c.prototype.Co=
function(a){return this.ls(a,hc.lz)};var J=[];c.prototype.Dc=function(a){var b,d,f;a.ya();this.Om(a.n,a.Da,J);b=0;for(d=J.length;b<d;++b)if(f=J[b],f.I.solidEnabled&&this.Gf(a,f))return Q(J),f;Q(J);return null};c.prototype.Ay=function(a){var b,d,f;this.Om(null,a,J);b=0;for(d=J.length;b<d;++b)if(f=J[b],f.I.solidEnabled&&this.so(a,f))return Q(J),f;Q(J);return null};c.prototype.fl=function(a,b,d,f){f=f||50;var e=a.x,h=a.y,m,n=null,c=null;for(m=0;m<f;m++)if(a.x=e+b*m,a.y=h+d*m,a.F(),!this.Gf(a,n)&&((n=
this.Dc(a))&&(c=n),!n&&!n))return c&&this.Rx(a,b,d,c),!0;a.x=e;a.y=h;a.F();return!1};c.prototype.Rx=function(a,b,d,f){var e=2,h,m=!1;h=!1;for(var n=a.x,c=a.y;16>=e;)h=1/e,e*=2,a.x+=b*h*(m?1:-1),a.y+=d*h*(m?1:-1),a.F(),this.Gf(a,f)?h=m=!0:(h=m=!1,n=a.x,c=a.y);h&&(a.x=n,a.y=c,a.F())};c.prototype.Xi=function(a,b){var d=ja(b)?100:b,f=0,e=a.x,h=a.y,m=0,n=0,c=0,g=this.Dc(a);if(!g)return!0;for(;f<=d;){switch(m){case 0:n=0;c=-1;f++;break;case 1:n=1;c=-1;break;case 2:n=1;c=0;break;case 3:c=n=1;break;case 4:n=
0;c=1;break;case 5:n=-1;c=1;break;case 6:n=-1;c=0;break;case 7:c=n=-1}m=(m+1)%8;a.x=I(e+n*f);a.y=I(h+c*f);a.F();if(!this.Gf(a,g)&&(g=this.Dc(a),!g))return!0}a.x=e;a.y=h;a.F();return!1};c.prototype.Ag=function(a,b){a.qd&&b.qd&&this.Bg.push([a,b])};c.prototype.nu=function(a,b,d){var f,e,h;f=0;for(e=this.Bg.length;f<e;++f){h=this.Bg[f];if(h[0]===a)h=h[1];else if(h[1]===a)h=h[0];else continue;if(b.R){if(-1===b.sg.indexOf(b))continue}else if(h.type!==b)continue;-1===d.indexOf(h)&&d.push(h)}};c.prototype.yu=
function(a,b){var d,f,e;d=0;for(f=this.Bg.length;d<f;d++)if(e=this.Bg[d],e[0]===a&&e[1]===b||e[0]===b&&e[1]===a)return!0;return!1};c.prototype.pp=function(a,b,d){var f=a.x,e=a.y,h=pa(10,Sa(b,d,f,e)),m=La(b,d,f,e),n=this.Dc(a);if(!n)return Ia(m+ra);var c=n,g,l,t,k,x=R(5);for(g=1;36>g;g++)if(l=m-g*x,a.x=b+Math.cos(l)*h,a.y=d+Math.sin(l)*h,a.F(),!this.Gf(a,c)&&(c=this.Dc(a),!c)){t=l;break}36===g&&(t=Ia(m+ra));c=n;for(g=1;36>g;g++)if(l=m+g*x,a.x=b+Math.cos(l)*h,a.y=d+Math.sin(l)*h,a.F(),!this.Gf(a,c)&&
(c=this.Dc(a),!c)){k=l;break}36===g&&(k=Ia(m+ra));a.x=f;a.y=e;a.F();if(k===t)return k;a=Na(k,t)/2;a=Pa(k,t)?Ia(t+a+ra):Ia(k+a);t=Math.cos(m);m=Math.sin(m);k=Math.cos(a);a=Math.sin(a);b=t*k+m*a;return La(0,0,t-2*b*k,m-2*b*a)};var na=-1;c.prototype.trigger=function(a,b,d){if(!this.ma)return!1;var f=this.ma.Vf;if(!f)return!1;var e=!1,h,m,n;na++;var c=f.mm;m=0;for(n=c.length;m<n;++m)h=this.hs(a,b,c[m],d),e=e||h;h=this.hs(a,b,f,d);na--;return e||h};c.prototype.hs=function(a,b,d,f){var e=!1,h,m,n,c;if(b)for(n=
this.zo(a,b,b.type.name,d,f),e=e||n,c=b.type.Ma,h=0,m=c.length;h<m;++h)n=this.zo(a,b,c[h].name,d,f),e=e||n;else n=this.zo(a,b,"system",d,f),e=e||n;return e};c.prototype.zo=function(a,b,d,f,e){var h,m=!1,n=!1,n="undefined"!==typeof e,c=(n?f.Hp:f.js)[d];if(!c)return m;var g=null;f=0;for(h=c.length;f<h;++f)if(c[f].method==a){g=c[f].Vh;break}if(!g)return m;var l;n?l=g[e]:l=g;if(!l)return null;f=0;for(h=l.length;f<h;f++)a=l[f][0],e=l[f][1],n=this.Ov(b,d,a,e),m=m||n;return m};c.prototype.Ov=function(a,
b,d,f){var e,h,m=!1;this.Ao++;var n=this.Va().Za;n&&this.Wi(n.Ff);var c=1<this.Ao;this.Wi(d.Ff);c&&this.Sx();var g=this.el(d);g.Za=d;a&&(e=this.types[b].T(),e.V=!1,Q(e.i),e.i[0]=a,this.types[b].md());a=!0;if(d.parent){b=g.Yr;for(e=d.parent;e;)b.push(e),e=e.parent;b.reverse();e=0;for(h=b.length;e<h;e++)if(!b[e].ey()){a=!1;break}}a&&(this.Xf++,d.Pc?d.cy(f):d.jb(),m=m||g.lg);this.al();c&&this.Hx();this.ae(d.Ff);n&&this.ae(n.Ff);this.lf&&0===this.Lc&&0===na&&!this.kn&&this.Nb();this.Ao--;return m};c.prototype.$g=
function(){var a=this.Va();return a.Za.lb[a.eb]};c.prototype.aw=function(){return this.$g().type};c.prototype.Jw=function(){return 0===this.Va().eb};c.prototype.$v=function(){var a=this.Va();return a.Za.Tc[a.gc]};c.prototype.Sx=function(){this.Lk++;this.Lk>=this.En.length&&this.En.push([])};c.prototype.Hx=function(){this.Lk--};c.prototype.Tp=function(){return this.En[this.Lk]};c.prototype.el=function(a){this.Xj++;this.Xj>=this.vm.length&&this.vm.push(new Ub);var b=this.Va();b.reset(a);return b};c.prototype.al=
function(){this.Xj--};c.prototype.Va=function(){return this.vm[this.Xj]};c.prototype.Br=function(a){this.ph++;this.ph>=this.Ji.length&&this.Ji.push(aa({name:a,index:0,Pa:!1}));var b=this.Gm();b.name=a;b.index=0;b.Pa=!1;return b};c.prototype.tr=function(){this.ph--};c.prototype.Gm=function(){return this.Ji[this.ph]};c.prototype.Up=function(a,b){for(var d,f,e,h,m,n;b;){d=0;for(f=b.fd.length;d<f;d++)if(n=b.fd[d],n instanceof Vb&&lb(a,n.name))return n;b=b.parent}d=0;for(f=this.oe.length;d<f;d++)for(m=
this.oe[d],e=0,h=m.hf.length;e<h;e++)if(n=m.hf[e],n instanceof Vb&&lb(a,n.name))return n;return null};c.prototype.Yp=function(a){var b,d;b=0;for(d=this.xd.length;b<d;b++)if(this.xd[b].ca===a)return this.xd[b];return null};c.prototype.ag=function(a){var b,d;b=0;for(d=this.u.length;b<d;b++)if(this.u[b].ca===a)return this.u[b];return null};c.prototype.bw=function(a){var b,d;b=0;for(d=this.Pg.length;b<d;b++)if(this.Pg[b].ca===a)return this.Pg[b];return null};c.prototype.Iu=function(a,b){this.fj=[a,b];
this.ja=!0};c.prototype.Aw=function(){var a=this,b=this.co,d=this.xe,f=this.Fk,e=!1;this.Tr&&(e=!0,b="__c2_continuouspreview",this.Tr=!1);if(b.length){this.Nb();d=this.iy();if(p()&&!this.ud)r(b,d,function(){fa("Saved state to IndexedDB storage ("+d.length+" bytes)");a.xe=d;a.trigger(W.prototype.k.Ml,null);a.xe="";e&&l()},function(f){try{localStorage.setItem("__c2save_"+b,d),fa("Saved state to WebStorage ("+d.length+" bytes)"),a.xe=d,a.trigger(W.prototype.k.Ml,null),a.xe="",e&&l()}catch(h){fa("Failed to save game state: "+
f+"; "+h),a.trigger(W.prototype.k.Xo,null)}});else try{localStorage.setItem("__c2save_"+b,d),fa("Saved state to WebStorage ("+d.length+" bytes)"),a.xe=d,this.trigger(W.prototype.k.Ml,null),a.xe="",e&&l()}catch(h){fa("Error saving to WebStorage: "+h),a.trigger(W.prototype.k.Xo,null)}this.Fk=this.co="";this.sb=null}if(f.length){if(p()&&!this.ud)q(f,function(b){b?(a.sb=b,fa("Loaded state from IndexedDB storage ("+a.sb.length+" bytes)")):(a.sb=localStorage.getItem("__c2save_"+f)||"",fa("Loaded state from WebStorage ("+
a.sb.length+" bytes)"));a.gj=!1;a.sb||(a.sb=null,a.trigger(W.prototype.k.uj,null))},function(){a.sb=localStorage.getItem("__c2save_"+f)||"";fa("Loaded state from WebStorage ("+a.sb.length+" bytes)");a.gj=!1;a.sb||(a.sb=null,a.trigger(W.prototype.k.uj,null))});else{try{this.sb=localStorage.getItem("__c2save_"+f)||"",fa("Loaded state from WebStorage ("+this.sb.length+" bytes)")}catch(m){this.sb=null}this.gj=!1;a.sb||(a.sb=null,a.trigger(W.prototype.k.uj,null))}this.co=this.Fk=""}null!==this.sb&&(this.Nb(),
this.Yw(this.sb)?(this.xe=this.sb,this.trigger(W.prototype.k.Bt,null),this.xe=""):a.trigger(W.prototype.k.uj,null),this.sb=null)};c.prototype.iy=function(){var a,d,f,e,h,m,n,c={c2save:!0,version:1,rt:{time:this.pb.W,walltime:this.Se.W,timescale:this.Jg,tickcount:this.hd,execcount:this.Xf,next_uid:this.Oi,running_layout:this.ma.ca,start_time_offset:Date.now()-this.ul},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(d=this.u.length;a<d;a++)if(h=this.u[a],!h.R&&!this.Bo(h)){m=
{instances:[]};Ya(h.I)&&(m.ex=b(h.I));f=0;for(e=h.i.length;f<e;f++)m.instances.push(this.bo(h.i[f]));c.types[h.ca.toString()]=m}a=0;for(d=this.xd.length;a<d;a++)f=this.xd[a],c.layouts[f.ca.toString()]=f.bb();e=c.events.groups;a=0;for(d=this.Pg.length;a<d;a++)f=this.Pg[a],e[f.ca.toString()]=this.fi[f.ei].ah;d=c.events.cnds;for(n in this.$e)this.$e.hasOwnProperty(n)&&(a=this.$e[n],Ya(a.I)&&(d[n]={ex:b(a.I)}));d=c.events.acts;for(n in this.We)this.We.hasOwnProperty(n)&&(a=this.We[n],Ya(a.I)&&(d[n]={ex:b(a.I)}));
d=c.events.vars;for(n in this.Ih)this.Ih.hasOwnProperty(n)&&(a=this.Ih[n],a.wk||a.parent&&!a.ti||(d[n]=a.data));c.system=this.ge.bb();return JSON.stringify(c)};c.prototype.Er=function(){var a,b,d,f,e,h;this.Ce={};a=0;for(b=this.u.length;a<b;a++)if(d=this.u[a],!d.R)for(f=0,e=d.i.length;f<e;f++)h=d.i[f],this.Ce[h.uid.toString()]=h};c.prototype.Yw=function(a){var b;try{b=JSON.parse(a)}catch(d){return!1}if(!b.c2save||1<b.version)return!1;this.ni=!0;a=b.rt;this.pb.reset();this.pb.W=a.time;this.Se.reset();
this.Se.W=a.walltime||0;this.Jg=a.timescale;this.hd=a.tickcount;this.Xf=a.execcount;this.ul=Date.now()-a.start_time_offset;var f=a.running_layout;if(f!==this.ma.ca)if(f=this.Yp(f))this.Cp(f);else return;var e,h,m,n,c,g,l;g=b.types;for(h in g)if(g.hasOwnProperty(h)&&(n=this.ag(parseInt(h,10)))&&!n.R&&!this.Bo(n)){g[h].ex?n.I=g[h].ex:Za(n.I);c=n.i;m=g[h].instances;f=0;for(e=qa(c.length,m.length);f<e;f++)this.Gk(c[f],m[f]);f=m.length;for(e=c.length;f<e;f++)this.Ec(c[f]);f=c.length;for(e=m.length;f<e;f++){c=
null;if(n.za.qf&&(c=this.ma.jk(m[f].w.l),!c))continue;c=this.df(n.Wc,c,!1,0,0,!0);this.Gk(c,m[f])}n.Eh=!0}this.Nb();this.Er();e=b.layouts;for(h in e)e.hasOwnProperty(h)&&(f=this.Yp(parseInt(h,10)))&&f.rb(e[h]);e=b.events.groups;for(h in e)e.hasOwnProperty(h)&&(f=this.bw(parseInt(h,10)))&&this.fi[f.ei]&&this.fi[f.ei].ky(e[h]);f=b.events.cnds;for(h in this.$e)this.$e.hasOwnProperty(h)&&(f.hasOwnProperty(h)?this.$e[h].I=f[h].ex:this.$e[h].I={});f=b.events.acts;for(h in this.We)this.We.hasOwnProperty(h)&&
(f.hasOwnProperty(h)?this.We[h].I=f[h].ex:this.We[h].I={});f=b.events.vars;for(h in f)f.hasOwnProperty(h)&&this.Ih.hasOwnProperty(h)&&(this.Ih[h].data=f[h]);this.Oi=a.next_uid;this.ni=!1;f=0;for(e=this.bk.length;f<e;++f)c=this.bk[f],this.trigger(Object.getPrototypeOf(c.type.za).k.Jf,c);Q(this.bk);this.ge.rb(b.system);f=0;for(e=this.u.length;f<e;f++)if(n=this.u[f],!n.R&&!this.Bo(n))for(b=0,h=n.i.length;b<h;b++){c=n.i[b];if(n.Jb)for(g=c.di(),Q(c.siblings),a=0,m=n.sc.length;a<m;a++)l=n.sc[a],n!==l&&
c.siblings.push(l.i[g]);c.Nd&&c.Nd();if(c.L)for(a=0,m=c.L.length;a<m;a++)g=c.L[a],g.Nd&&g.Nd()}return this.ja=!0};c.prototype.bo=function(a,d){var f,e,h,m,n;m=a.type;h=m.za;var c={};d?c.c2=!0:c.uid=a.uid;Ya(a.I)&&(c.ex=b(a.I));if(a.Ea&&a.Ea.length)for(c.ivs={},f=0,e=a.Ea.length;f<e;f++)c.ivs[a.type.$m[f].toString()]=a.Ea[f];if(h.qf){h={x:a.x,y:a.y,w:a.width,h:a.height,l:a.n.ca,zi:a.Td()};0!==a.j&&(h.a=a.j);1!==a.opacity&&(h.o=a.opacity);.5!==a.ic&&(h.hX=a.ic);.5!==a.jc&&(h.hY=a.jc);0!==a.Ob&&(h.bm=
a.Ob);a.visible||(h.v=a.visible);a.qd||(h.ce=a.qd);-1!==a.Ni&&(h.mts=a.Ni);if(m.Y.length)for(h.fx=[],f=0,e=m.Y.length;f<e;f++)n=m.Y[f],h.fx.push({name:n.name,active:a.Ve[n.index],params:a.Ta[n.index]});c.w=h}if(a.L&&a.L.length)for(c.behs={},f=0,e=a.L.length;f<e;f++)m=a.L[f],m.bb&&(c.behs[m.type.ca.toString()]=m.bb());a.bb&&(c.data=a.bb());return c};c.prototype.dw=function(a,b){var d,f;d=0;for(f=a.$m.length;d<f;d++)if(a.$m[d]===b)return d;return-1};c.prototype.Zv=function(a,b){var d,f;d=0;for(f=a.L.length;d<
f;d++)if(a.L[d].type.ca===b)return d;return-1};c.prototype.Gk=function(a,b,d){var f,e,h,m,n;n=a.type;var c=n.za;if(d){if(!b.c2)return}else a.uid=b.uid;b.ex?a.I=b.ex:Za(a.I);if(e=b.ivs)for(f in e)e.hasOwnProperty(f)&&(h=this.dw(n,parseInt(f,10)),0>h||h>=a.Ea.length||(m=e[f],null===m&&(m=NaN),a.Ea[h]=m));if(c.qf){h=b.w;a.n.ca!==h.l&&(e=a.n,a.n=this.ma.jk(h.l),a.n?(e.zh(a,!0),a.n.Nh(a,!0),a.F(),a.n.bj(0)):(a.n=e,d||this.Ec(a)));a.x=h.x;a.y=h.y;a.width=h.w;a.height=h.h;a.Ld=h.zi;a.j=h.hasOwnProperty("a")?
h.a:0;a.opacity=h.hasOwnProperty("o")?h.o:1;a.ic=h.hasOwnProperty("hX")?h.hX:.5;a.jc=h.hasOwnProperty("hY")?h.hY:.5;a.visible=h.hasOwnProperty("v")?h.v:!0;a.qd=h.hasOwnProperty("ce")?h.ce:!0;a.Ni=h.hasOwnProperty("mts")?h.mts:-1;a.Ob=h.hasOwnProperty("bm")?h.bm:0;a.Qh=ib(a.Ob);this.C&&jb(a,a.Ob,this.C);a.F();if(h.hasOwnProperty("fx"))for(d=0,e=h.fx.length;d<e;d++)m=n.Im(h.fx[d].name),0>m||(a.Ve[m]=h.fx[d].active,a.Ta[m]=h.fx[d].params);a.Jd()}if(n=b.behs)for(f in n)n.hasOwnProperty(f)&&(d=this.Zv(a,
parseInt(f,10)),0>d||a.L[d].rb(n[f]));b.data&&a.rb(b.data)};c.prototype.Ip=function(a,b,d){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(b,d)},d)};c.prototype.Pv=function(a,b){this.Ip("data.js",function(d){var f=new FileReader;f.onload=function(b){a(b.target.result)};f.onerror=b;f.readAsText(d)},b)};var ga=[],E=0;c.prototype.Gn=function(){if(ga.length&&!(8<=E)){E++;var a=ga.shift();this.Lu(a.filename,a.yy,a.lv)}};c.prototype.Jp=function(a,b,d){var f=
this;ga.push({filename:a,yy:function(a){E--;f.Gn();b(a)},lv:function(a){E--;f.Gn();d(a)}});this.Gn()};c.prototype.Lu=function(a,b,d){this.Ip(a,function(a){var d=new FileReader;d.onload=function(a){b(a.target.result)};d.readAsArrayBuffer(a)},d)};c.prototype.Qv=function(a,b,d){var f="",e=a.toLowerCase(),h=e.substr(e.length-4),e=e.substr(e.length-5);".mp4"===h?f="video/mp4":".webm"===e?f="video/webm":".m4a"===h?f="audio/mp4":".mp3"===h&&(f="audio/mpeg");this.Jp(a,function(a){a=URL.createObjectURL(new Blob([a],
{type:f}));b(a)},d)};c.prototype.Hw=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};c.prototype.Lr=function(a,b){this.vk&&!this.Hw(b)?this.Qv(b,function(b){a.src=b},function(a){alert("Failed to load image: "+a)}):a.src=b};c.prototype.ol=function(a,b){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=b:(a.webkitImageSmoothingEnabled=b,a.mozImageSmoothingEnabled=b,a.msImageSmoothingEnabled=b)};Wb=function(a){return new c(document.getElementById(a))};
Xb=function(a,b){return new c({dc:!0,width:a,height:b})};window.cr_createRuntime=Wb;window.cr_createDCRuntime=Xb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.Ph=!0;document.body.appendChild(a);a=new c(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);
return a};window.createEjectaRuntime=function(){var a=new c(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var c=document.getElementById("c2canvas");return c?c.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(c,k){var p=window.cr_getC2Runtime();p&&p.Iu(c,k)};
window.cr_sizeCanvas=function(c,k){if(0!==c&&0!==k){var p=window.cr_getC2Runtime();p&&p.setSize(c,k)}};window.cr_setSuspended=function(c){var k=window.cr_getC2Runtime();k&&k.setSuspended(c)};
(function(){function c(a,b){this.b=a;this.Vf=null;this.scrollX=this.b.wb/2;this.scrollY=this.b.ub/2;this.scale=1;this.j=0;this.Zg=!0;this.name=b[0];this.Bx=b[1];this.Ax=b[2];this.width=b[1];this.height=b[2];this.ns=b[3];this.Rr=b[4];this.ca=b[5];var d=b[6],e,c;this.Z=[];this.ii=[];e=0;for(c=d.length;e<c;e++){var g=new Yb(this,d[e]);g.br=e;this.Z.push(g)}d=b[7];this.mf=[];e=0;for(c=d.length;e<c;e++){var g=d[e],l=this.b.u[g[1]];l.Wc||(l.Wc=g);this.mf.push(g);-1===this.ii.indexOf(l)&&this.ii.push(l)}this.Y=
[];this.wa=[];this.Ie=!0;this.Ta=[];e=0;for(c=b[8].length;e<c;e++)this.Y.push({id:b[8][e][0],name:b[8][e][1],kb:-1,Bd:!1,Fc:!0,index:e}),this.Ta.push(b[8][e][2].slice(0));this.Jd();this.Cf=new va(0,0,1,1);this.Wn=new va(0,0,1,1);this.Bf={}}function k(a,b){return a.Ld-b.Ld}function p(a,b){this.$a=a;this.b=a.b;this.i=[];this.scale=1;this.j=0;this.ne=!1;this.Pe=new va(0,0,0,0);this.es=new wa;this.Ga=this.Ba=this.Ha=this.Aa=0;this.Lg=!1;this.Te=-1;this.fm=0;this.name=b[0];this.index=b[1];this.ca=b[2];
this.visible=b[3];this.nd=b[4];this.Id=b[5];this.$c=b[6];this.ad=b[7];this.opacity=b[8];this.ek=b[9];this.Sc=b[10];this.Md=b[11];this.Ob=b[12];this.hv=b[13];this.Qh="source-over";this.Tb=this.Wb=0;this.Mb=null;this.ye=g();this.Fd=!0;this.nh=new va(0,0,-1,-1);this.Hb=new va(0,0,-1,-1);this.Sc&&(this.Mb=new hb(this.b.wb,this.b.ub));this.ee=!1;var d=b[14],e,c;this.Wr=[];this.Kc=[];this.Sh=[];e=0;for(c=d.length;e<c;e++){var l=d[e],k=this.b.u[l[1]];k.Wc||(k.Wc=l,k.Ap=this.index);this.Kc.push(l);-1===this.$a.ii.indexOf(k)&&
this.$a.ii.push(k)}Aa(this.Wr,this.Kc);this.Y=[];this.wa=[];this.Ie=!0;this.Ta=[];e=0;for(c=b[15].length;e<c;e++)this.Y.push({id:b[15][e][0],name:b[15][e][1],kb:-1,Bd:!1,Fc:!0,index:e}),this.Ta.push(b[15][e][2].slice(0));this.Jd();this.Cf=new va(0,0,1,1);this.Wn=new va(0,0,1,1)}function g(){return b.length?b.pop():[]}function r(a){Q(a);b.push(a)}c.prototype.hy=function(a){var b=a.type.ca.toString();this.Bf.hasOwnProperty(b)||(this.Bf[b]=[]);this.Bf[b].push(this.b.bo(a))};c.prototype.aq=function(){var a=
this.Z[0];return!a.Id&&1===a.opacity&&!a.ek&&a.visible};c.prototype.Jd=function(){Q(this.wa);this.Ie=!0;var a,b,d;a=0;for(b=this.Y.length;a<b;a++)d=this.Y[a],d.Fc&&(this.wa.push(d),d.Bd||(this.Ie=!1))};c.prototype.Hm=function(a){var b,d,e;b=0;for(d=this.Y.length;b<d;b++)if(e=this.Y[b],e.name===a)return e;return null};var q=[],l=!0;c.prototype.qo=function(){this.Rr&&(this.Vf=this.b.wm[this.Rr],this.Vf.Fo());this.b.ma=this;this.width=this.Bx;this.height=this.Ax;this.scrollX=this.b.wb/2;this.scrollY=
this.b.ub/2;var a,b,d,e,c,g,p;a=0;for(d=this.b.u.length;a<d;a++)if(b=this.b.u[a],!b.R)for(c=b.i,b=0,e=c.length;b<e;b++)if(g=c[b],g.n){var n=g.n.br;n>=this.Z.length&&(n=this.Z.length-1);g.n=this.Z[n];-1===g.n.i.indexOf(g)&&g.n.i.push(g);g.n.Lg=!0}if(!l)for(a=0,d=this.Z.length;a<d;++a)this.Z[a].i.sort(k);Q(q);this.vu();a=0;for(d=this.Z.length;a<d;a++)g=this.Z[a],g.Fu(),g.Hl();c=!1;if(!this.Zg){for(p in this.Bf)if(this.Bf.hasOwnProperty(p)&&(b=this.b.ag(parseInt(p,10)))&&!b.R&&this.b.Co(b)){e=this.Bf[p];
a=0;for(d=e.length;a<d;a++){g=null;if(b.za.qf&&(g=this.jk(e[a].w.l),!g))continue;g=this.b.df(b.Wc,g,!1,0,0,!0);this.b.Gk(g,e[a]);c=!0;q.push(g)}Q(e)}a=0;for(d=this.Z.length;a<d;a++)this.Z[a].i.sort(k),this.Z[a].Lg=!0}c&&(this.b.Nb(),this.b.Er());for(a=0;a<q.length;a++)if(g=q[a],g.type.Jb)for(d=g.di(),b=0,e=g.type.sc.length;b<e;b++)p=g.type.sc[b],g.type!==p&&(p.i.length>d?g.siblings.push(p.i[d]):p.Wc&&(c=this.b.df(p.Wc,g.n,!0,g.x,g.y,!0),this.b.Nb(),p.Fl(),g.siblings.push(c),q.push(c)));a=0;for(d=
this.mf.length;a<d;a++)g=this.mf[a],b=this.b.u[g[1]],b.Jb||this.b.df(this.mf[a],null,!0);this.b.dm=null;this.b.Nb();if(this.b.La&&!this.b.ob)for(a=0,d=this.b.u.length;a<d;a++)p=this.b.u[a],!p.R&&p.i.length&&p.Qn&&p.Qn(this.b.La);if(this.b.ni)Aa(this.b.bk,q);else for(a=0,d=q.length;a<d;a++)g=q[a],this.b.trigger(Object.getPrototypeOf(g.type.za).k.Jf,g);Q(q);this.b.ni||this.b.trigger(W.prototype.k.To,null);this.Zg=!1};c.prototype.Eu=function(){var a,b,d,e,c;b=a=0;for(d=this.mf.length;a<d;a++)e=this.mf[a],
c=this.b.u[e[1]],c.global?c.Jb||this.b.df(e,null,!0):(this.mf[b]=e,b++);za(this.mf,b)};c.prototype.xy=function(){this.b.ni||this.b.trigger(W.prototype.k.At,null);this.b.gn=!0;Q(this.b.ge.qc);var a,b,d,e,c,g;if(!this.Zg)for(a=0,b=this.Z.length;a<b;a++)for(this.Z[a].Ho(),c=this.Z[a].i,d=0,e=c.length;d<e;d++)g=c[d],g.type.global||this.b.Co(g.type)&&this.hy(g);a=0;for(b=this.Z.length;a<b;a++){c=this.Z[a].i;d=0;for(e=c.length;d<e;d++)g=c[d],g.type.global||this.b.Ec(g);this.b.Nb();Q(c);this.Z[a].Lg=!0}a=
0;for(b=this.b.u.length;a<b;a++)if(c=this.b.u[a],!(c.global||c.za.qf||c.za.tl||c.R)){d=0;for(e=c.i.length;d<e;d++)this.b.Ec(c.i[d]);this.b.Nb()}l=!1;this.b.gn=!1};new va(0,0,0,0);c.prototype.Qd=function(a){var b,d=a,e=!1,c=!this.b.Ic;c&&(this.b.Ek||(this.b.Ek=document.createElement("canvas"),b=this.b.Ek,b.width=this.b.N,b.height=this.b.M,this.b.wq=b.getContext("2d"),e=!0),b=this.b.Ek,d=this.b.wq,b.width!==this.b.N&&(b.width=this.b.N,e=!0),b.height!==this.b.M&&(b.height=this.b.M,e=!0),e&&this.b.ol(d,
this.b.Oa));d.globalAlpha=1;d.globalCompositeOperation="source-over";this.b.sp&&!this.aq()&&d.clearRect(0,0,this.b.N,this.b.M);var g,l,e=0;for(g=this.Z.length;e<g;e++)l=this.Z[e],l.visible&&0<l.opacity&&11!==l.Ob&&(l.i.length||!l.Id)?l.Qd(d):l.Hl();c&&a.drawImage(b,0,0,this.b.width,this.b.height)};c.prototype.Sf=function(a){a.Kr(!0);this.b.gb||(this.b.gb=a.Hc(this.b.N,this.b.M,this.b.Oa));if(this.b.gb.Pf!==this.b.N||this.b.gb.Of!==this.b.M)a.deleteTexture(this.b.gb),this.b.gb=a.Hc(this.b.N,this.b.M,
this.b.Oa);a.dd(this.b.gb);this.b.Ic||a.Fg(this.b.N,this.b.M);var b,d;for(b=this.Z.length-1;0<=b;--b)d=this.Z[b],d.visible&&1===d.opacity&&d.Ie&&0===d.Ob&&(d.i.length||!d.Id)?d.Sf(a):d.Hl();a.Kr(!1)};c.prototype.tc=function(a){var b=0<this.wa.length||this.b.Gh||!this.b.Ic||this.b.Ja;if(b){this.b.gb||(this.b.gb=a.Hc(this.b.N,this.b.M,this.b.Oa));if(this.b.gb.Pf!==this.b.N||this.b.gb.Of!==this.b.M)a.deleteTexture(this.b.gb),this.b.gb=a.Hc(this.b.N,this.b.M,this.b.Oa);a.dd(this.b.gb);this.b.Ic||a.Fg(this.b.N,
this.b.M)}else this.b.gb&&(a.dd(null),a.deleteTexture(this.b.gb),this.b.gb=null);this.b.sp&&!this.aq()&&a.clear(0,0,0,0);var d,e,c;d=0;for(e=this.Z.length;d<e;d++)c=this.Z[d],c.visible&&0<c.opacity&&(c.i.length||!c.Id)?c.tc(a):c.Hl();b&&(0===this.wa.length||1===this.wa.length&&this.b.Ic?(1===this.wa.length?(b=this.wa[0].index,a.oc(this.wa[0].kb),a.Ch(null,1/this.b.N,1/this.b.M,0,0,1,1,this.scale,this.j,0,0,this.b.N/2,this.b.M/2,this.b.pb.W,this.Ta[b]),a.dl(this.wa[0].kb)&&(this.b.ja=!0)):a.oc(0),
this.b.Ic||a.Fg(this.b.width,this.b.height),a.dd(null),a.Jr(!1),a.Eg(1),a.Bc(this.b.gb),a.Hr(),a.cd(),a.Rc(),b=this.b.width/2,d=this.b.height/2,a.Yi(-b,d,b,d,b,-d,-b,-d),a.Bc(null),a.Jr(!0)):this.Xn(a,null,null,null))};c.prototype.ci=function(){return 0<this.wa.length||this.b.Gh||!this.b.Ic||this.b.Ja?this.b.gb:null};c.prototype.Zp=function(){var a=this.Z[0].uc(),b,d,e;b=1;for(d=this.Z.length;b<d;b++)e=this.Z[b],(0!==e.$c||0!==e.ad)&&e.uc()<a&&(a=e.uc());return a};c.prototype.eo=function(a){if(!this.ns){var b=
1/this.Zp()*this.b.N/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.b.ja=!0)};c.prototype.fo=function(a){if(!this.ns){var b=1/this.Zp()*this.b.M/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.ja=!0)};c.prototype.vu=function(){this.eo(this.scrollX);this.fo(this.scrollY)};c.prototype.Xn=function(a,b,d,e){var c=d?d.wa:b?b.wa:this.wa,g=1,l=0,n=0,t=0,k=this.b.N,p=this.b.M;d?(g=d.n.uc(),l=d.n.Ua(),n=d.n.Aa,t=d.n.Ba,k=d.n.Ha,
p=d.n.Ga):b&&(g=b.uc(),l=b.Ua(),n=b.Aa,t=b.Ba,k=b.Ha,p=b.Ga);var y=this.b.Em,r,q,M,v,L=0,X=1,T,U,C=this.b.N,J=this.b.M,na=C/2,ga=J/2,E=b?b.Cf:this.Cf,u=b?b.Wn:this.Wn,z=0,A=0,D=0,G=0,S=C,da=C,N=J,ha=J,Y=M=0;v=d?d.n.Ua():0;if(d){r=0;for(q=c.length;r<q;r++)M+=a.hw(c[r].kb),Y+=a.iw(c[r].kb);G=d.Da;z=b.Na(G.left,G.top,!0,!0);D=b.Na(G.left,G.top,!1,!0);S=b.Na(G.right,G.bottom,!0,!0);N=b.Na(G.right,G.bottom,!1,!0);0!==v&&(r=b.Na(G.right,G.top,!0,!0),q=b.Na(G.right,G.top,!1,!0),A=b.Na(G.left,G.bottom,!0,
!0),G=b.Na(G.left,G.bottom,!1,!0),v=Math.min(z,S,r,A),S=Math.max(z,S,r,A),z=v,v=Math.min(D,N,q,G),N=Math.max(D,N,q,G),D=v);z-=M;D-=Y;S+=M;N+=Y;u.left=z/C;u.top=1-D/J;u.right=S/C;u.bottom=1-N/J;A=z=I(z);G=D=I(D);da=S=ta(S);ha=N=ta(N);A-=M;G-=Y;da+=M;ha+=Y;0>z&&(z=0);0>D&&(D=0);S>C&&(S=C);N>J&&(N=J);0>A&&(A=0);0>G&&(G=0);da>C&&(da=C);ha>J&&(ha=J);E.left=z/C;E.top=1-D/J;E.right=S/C;E.bottom=1-N/J}else E.left=u.left=0,E.top=u.top=0,E.right=u.right=1,E.bottom=u.bottom=1;Y=d&&(a.Ui(c[0].kb)||0!==M||0!==
Y||1!==d.opacity||d.type.za.Wq)||b&&!d&&1!==b.opacity;a.Hr();if(Y){y[L]||(y[L]=a.Hc(C,J,this.b.Oa));if(y[L].Pf!==C||y[L].Of!==J)a.deleteTexture(y[L]),y[L]=a.Hc(C,J,this.b.Oa);a.oc(0);a.dd(y[L]);U=ha-G;a.clearRect(A,J-G-U,da-A,U);d?d.tc(a):(a.Bc(this.b.qb),a.Eg(b.opacity),a.cd(),a.translate(-na,-ga),a.Rc(),a.be(z,N,S,N,S,D,z,D,E));u.left=u.top=0;u.right=u.bottom=1;d&&(v=E.top,E.top=E.bottom,E.bottom=v);L=1;X=0}a.Eg(1);M=c.length-1;var Ea=a.Sn(c[M].kb)||!b&&!d&&!this.b.Ic;r=v=0;for(q=c.length;r<q;r++){y[L]||
(y[L]=a.Hc(C,J,this.b.Oa));if(y[L].Pf!==C||y[L].Of!==J)a.deleteTexture(y[L]),y[L]=a.Hc(C,J,this.b.Oa);a.oc(c[r].kb);v=c[r].index;a.dl(c[r].kb)&&(this.b.ja=!0);0!=r||Y?(a.Ch(e,1/C,1/J,u.left,u.top,u.right,u.bottom,g,l,n,t,(n+k)/2,(t+p)/2,this.b.pb.W,d?d.Ta[v]:b?b.Ta[v]:this.Ta[v]),a.Bc(null),r!==M||Ea?(a.dd(y[L]),U=ha-G,T=J-G-U,a.clearRect(A,T,da-A,U)):(d?a.Df(d.Wb,d.Tb):b&&a.Df(b.Wb,b.Tb),a.dd(e)),a.Bc(y[X]),a.cd(),a.translate(-na,-ga),a.Rc(),a.be(z,N,S,N,S,D,z,D,E),r!==M||Ea||a.Bc(null)):(a.dd(y[L]),
U=ha-G,T=J-G-U,a.clearRect(A,T,da-A,U),d?(d.Gb&&d.Gb.ka?(T=d.Gb.ka,X=1/T.width,T=1/T.height):(X=1/d.width,T=1/d.height),a.Ch(e,X,T,u.left,u.top,u.right,u.bottom,g,l,n,t,(n+k)/2,(t+p)/2,this.b.pb.W,d.Ta[v]),d.tc(a)):(a.Ch(e,1/C,1/J,0,0,1,1,g,l,n,t,(n+k)/2,(t+p)/2,this.b.pb.W,b?b.Ta[v]:this.Ta[v]),a.Bc(b?this.b.qb:this.b.gb),a.cd(),a.translate(-na,-ga),a.Rc(),a.be(z,N,S,N,S,D,z,D,E)),u.left=u.top=0,u.right=u.bottom=1,d&&!Ea&&(v=N,N=D,D=v));L=0===L?1:0;X=0===L?1:0}Ea&&(a.oc(0),d?a.Df(d.Wb,d.Tb):b?a.Df(b.Wb,
b.Tb):this.b.Ic||(a.Fg(this.b.width,this.b.height),na=this.b.width/2,ga=this.b.height/2,D=z=0,S=this.b.width,N=this.b.height),a.dd(e),a.Bc(y[X]),a.cd(),a.translate(-na,-ga),a.Rc(),d&&1===c.length&&!Y?a.be(z,D,S,D,S,N,z,N,E):a.be(z,N,S,N,S,D,z,D,E),a.Bc(null))};c.prototype.jk=function(a){var b,d;b=0;for(d=this.Z.length;b<d;b++)if(this.Z[b].ca===a)return this.Z[b];return null};c.prototype.bb=function(){var a,b,d,e={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.j,w:this.width,h:this.height,fv:this.Zg,
persist:this.Bf,fx:[],layers:{}};a=0;for(b=this.Y.length;a<b;a++)d=this.Y[a],e.fx.push({name:d.name,active:d.Fc,params:this.Ta[d.index]});a=0;for(b=this.Z.length;a<b;a++)d=this.Z[a],e.layers[d.ca.toString()]=d.bb();return e};c.prototype.rb=function(a){var b,d,e,c;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.j=a.a;this.width=a.w;this.height=a.h;this.Bf=a.persist;"undefined"!==typeof a.fv&&(this.Zg=a.fv);var g=a.fx;b=0;for(d=g.length;b<d;b++)if(e=this.Hm(g[b].name))e.Fc=g[b].active,this.Ta[e.index]=
g[b].params;this.Jd();b=a.layers;for(c in b)b.hasOwnProperty(c)&&(a=this.jk(parseInt(c,10)))&&a.rb(b[c])};Kb=c;p.prototype.Jd=function(){Q(this.wa);this.Ie=!0;var a,b,d;a=0;for(b=this.Y.length;a<b;a++)d=this.Y[a],d.Fc&&(this.wa.push(d),d.Bd||(this.Ie=!1))};p.prototype.Hm=function(a){var b,d,e;b=0;for(d=this.Y.length;b<d;b++)if(e=this.Y[b],e.name===a)return e;return null};p.prototype.Fu=function(){var a,b,d,e,c,g;b=a=0;for(d=this.Kc.length;a<d;a++){e=this.Kc[a];c=this.b.u[e[1]];g=this.b.Co(c);c=!0;
if(!g||this.$a.Zg){e=this.b.df(e,this,!0);if(!e)continue;q.push(e);e.type.global&&(c=!1,this.Sh.push(e.uid))}c&&(this.Kc[b]=this.Kc[a],b++)}this.Kc.length=b;this.b.Nb();!this.b.A&&this.Y.length&&(this.Ob=this.hv);this.Qh=ib(this.Ob);this.b.C&&jb(this,this.Ob,this.b.C);this.Fd=!0};p.prototype.zh=function(a,b){var d=Ca(this.i,a);0>d||(b&&this.Sc&&a.mc&&a.mc.right>=a.mc.left&&(a.ya(),this.Mb.update(a,a.mc,null),a.mc.set(0,0,-1,-1)),d===this.i.length-1?this.i.pop():(ya(this.i,d),this.bj(d)),this.Fd=!0)};
p.prototype.Nh=function(a,b){a.Ld=this.i.length;this.i.push(a);b&&this.Sc&&a.mc&&a.F();this.Fd=!0};p.prototype.Mx=function(a){this.i.unshift(a);this.bj(0)};p.prototype.cx=function(a,b,d){var e=a.Td();b=b.Td();ya(this.i,e);e<b&&b--;d&&b++;b===this.i.length?this.i.push(a):this.i.splice(b,0,a);this.bj(e<b?e:b)};p.prototype.bj=function(a){-1===this.Te?this.Te=a:a<this.Te&&(this.Te=a);this.Fd=this.Lg=!0};p.prototype.Ho=function(){if(this.Lg){-1===this.Te&&(this.Te=0);var a,b,d;if(this.Sc)for(a=this.Te,
b=this.i.length;a<b;++a)d=this.i[a],d.Ld=a,this.Mb.ax(d.mc);else for(a=this.Te,b=this.i.length;a<b;++a)this.i[a].Ld=a;this.Lg=!1;this.Te=-1}};p.prototype.uc=function(a){return this.ew()*(this.b.Ic||a?this.b.Oh:1)};p.prototype.ew=function(){return(this.scale*this.$a.scale-1)*this.Md+1};p.prototype.Ua=function(){return this.ne?0:Ia(this.$a.j+this.j)};var b=[],e=[],d=[];p.prototype.Mm=function(){this.Ho();this.Mb.gl(this.Aa,this.Ba,this.Ha,this.Ga,d);if(!d.length)return g();if(1===d.length){var a=g();
Aa(a,d[0]);Q(d);return a}for(var b=!0;1<d.length;){for(var a=d,c=void 0,h=void 0,l=void 0,k=void 0,p=void 0,c=0,h=a.length;c<h-1;c+=2){var l=a[c],k=a[c+1],p=g(),n=l,t=k,q=p,B=0,y=0,P=0,O=n.length,M=t.length,v=void 0,L=void 0;for(q.length=O+M;B<O&&y<M;++P)v=n[B],L=t[y],v.Ld<L.Ld?(q[P]=v,++B):(q[P]=L,++y);for(;B<O;++B,++P)q[P]=n[B];for(;y<M;++y,++P)q[P]=t[y];b||(r(l),r(k));e.push(p)}1===h%2&&(b?(l=g(),Aa(l,a[h-1]),e.push(l)):e.push(a[h-1]));Aa(a,e);Q(e);b=!1}a=d[0];Q(d);return a};p.prototype.Qd=function(a){this.ee=
this.ek||1!==this.opacity||0!==this.Ob;var b=this.b.canvas,d=a,e=!1;this.ee&&(this.b.Dk||(this.b.Dk=document.createElement("canvas"),b=this.b.Dk,b.width=this.b.N,b.height=this.b.M,this.b.vq=b.getContext("2d"),e=!0),b=this.b.Dk,d=this.b.vq,b.width!==this.b.N&&(b.width=this.b.N,e=!0),b.height!==this.b.M&&(b.height=this.b.M,e=!0),e&&this.b.ol(d,this.b.Oa),this.Id&&d.clearRect(0,0,this.b.N,this.b.M));d.globalAlpha=1;d.globalCompositeOperation="source-over";this.Id||(d.fillStyle="rgb("+this.nd[0]+","+
this.nd[1]+","+this.nd[2]+")",d.fillRect(0,0,this.b.N,this.b.M));d.save();this.ne=!0;var e=this.Zb(0,0,!0,!0),c=this.Zb(0,0,!1,!0);this.ne=!1;this.b.Ad&&(e=Math.round(e),c=Math.round(c));this.jl(e,c,d);var g=this.uc();d.scale(g,g);d.translate(-e,-c);this.Sc?(this.Hb.left=this.Mb.ec(this.Aa),this.Hb.top=this.Mb.fc(this.Ba),this.Hb.right=this.Mb.ec(this.Ha),this.Hb.bottom=this.Mb.fc(this.Ga),this.Fd||!this.Hb.Uh(this.nh)?(r(this.ye),e=this.Mm(),this.Fd=!1,this.nh.Sg(this.Hb)):e=this.ye):e=this.i;for(var l,
n=null,c=0,g=e.length;c<g;++c)l=e[c],l!==n&&(this.$u(l,d),n=l);this.Sc&&(this.ye=e);d.restore();this.ee&&(a.globalCompositeOperation=this.Qh,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};p.prototype.$u=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ya();var d=a.Da;d.right<this.Aa||d.bottom<this.Ba||d.left>this.Ha||d.top>this.Ga||(b.globalCompositeOperation=a.Qh,a.Qd(b))}};p.prototype.Hl=function(){this.ne=!0;var a=this.Zb(0,0,!0,!0),b=this.Zb(0,0,!1,!0);this.ne=!1;this.b.Ad&&(a=Math.round(a),
b=Math.round(b));this.jl(a,b,null)};p.prototype.jl=function(a,b,d){var e=this.uc();this.Aa=a;this.Ba=b;this.Ha=a+1/e*this.b.N;this.Ga=b+1/e*this.b.M;this.Aa>this.Ha&&(a=this.Aa,this.Aa=this.Ha,this.Ha=a);this.Ba>this.Ga&&(a=this.Ba,this.Ba=this.Ga,this.Ga=a);a=this.Ua();0!==a&&(d&&(d.translate(this.b.N/2,this.b.M/2),d.rotate(-a),d.translate(this.b.N/-2,this.b.M/-2)),this.Pe.set(this.Aa,this.Ba,this.Ha,this.Ga),this.Pe.offset((this.Aa+this.Ha)/-2,(this.Ba+this.Ga)/-2),this.es.Pr(this.Pe,a),this.es.jp(this.Pe),
this.Pe.offset((this.Aa+this.Ha)/2,(this.Ba+this.Ga)/2),this.Aa=this.Pe.left,this.Ba=this.Pe.top,this.Ha=this.Pe.right,this.Ga=this.Pe.bottom)};p.prototype.Sf=function(a){if(this.ee=this.ek){this.b.qb||(this.b.qb=a.Hc(this.b.N,this.b.M,this.b.Oa));if(this.b.qb.Pf!==this.b.N||this.b.qb.Of!==this.b.M)a.deleteTexture(this.b.qb),this.b.qb=a.Hc(this.b.N,this.b.M,this.b.Oa);a.dd(this.b.qb)}this.ne=!0;var b=this.Zb(0,0,!0,!0),d=this.Zb(0,0,!1,!0);this.ne=!1;this.b.Ad&&(b=Math.round(b),d=Math.round(d));this.jl(b,
d,null);b=this.uc();a.cd();a.scale(b,b);a.kl(-this.Ua());a.translate((this.Aa+this.Ha)/-2,(this.Ba+this.Ga)/-2);a.Rc();this.Sc?(this.Hb.left=this.Mb.ec(this.Aa),this.Hb.top=this.Mb.fc(this.Ba),this.Hb.right=this.Mb.ec(this.Ha),this.Hb.bottom=this.Mb.fc(this.Ga),this.Fd||!this.Hb.Uh(this.nh)?(r(this.ye),b=this.Mm(),this.Fd=!1,this.nh.Sg(this.Hb)):b=this.ye):b=this.i;for(var e,c=null,d=b.length-1;0<=d;--d)e=b[d],e!==c&&(this.cv(b[d],a),c=e);this.Sc&&(this.ye=b);this.Id||(this.fm=this.b.Uf++,a.pl(this.fm),
a.Ir(1,1,1),a.Np(),a.Yx())};p.prototype.tc=function(a){var b=0,d=0;if(this.ee=this.ek||1!==this.opacity||0<this.wa.length||0!==this.Ob){this.b.qb||(this.b.qb=a.Hc(this.b.N,this.b.M,this.b.Oa));if(this.b.qb.Pf!==this.b.N||this.b.qb.Of!==this.b.M)a.deleteTexture(this.b.qb),this.b.qb=a.Hc(this.b.N,this.b.M,this.b.Oa);a.dd(this.b.qb);this.Id&&a.clear(0,0,0,0)}this.Id||(this.b.Ja?(a.pl(this.fm),a.Ir(this.nd[0]/255,this.nd[1]/255,this.nd[2]/255),a.Np(),a.qy()):a.clear(this.nd[0]/255,this.nd[1]/255,this.nd[2]/
255,1));this.ne=!0;var e=this.Zb(0,0,!0,!0),b=this.Zb(0,0,!1,!0);this.ne=!1;this.b.Ad&&(e=Math.round(e),b=Math.round(b));this.jl(e,b,null);e=this.uc();a.cd();a.scale(e,e);a.kl(-this.Ua());a.translate((this.Aa+this.Ha)/-2,(this.Ba+this.Ga)/-2);a.Rc();this.Sc?(this.Hb.left=this.Mb.ec(this.Aa),this.Hb.top=this.Mb.fc(this.Ba),this.Hb.right=this.Mb.ec(this.Ha),this.Hb.bottom=this.Mb.fc(this.Ga),this.Fd||!this.Hb.Uh(this.nh)?(r(this.ye),b=this.Mm(),this.Fd=!1,this.nh.Sg(this.Hb)):b=this.ye):b=this.i;var c,
g,l=null,d=0;for(c=b.length;d<c;++d)g=b[d],g!==l&&(this.bv(b[d],a),l=g);this.Sc&&(this.ye=b);this.ee&&(b=this.wa.length?this.wa[0].kb:0,d=this.wa.length?this.wa[0].index:0,0===this.wa.length||1===this.wa.length&&!a.Sn(b)&&1===this.opacity?(1===this.wa.length?(a.oc(b),a.Ch(this.$a.ci(),1/this.b.N,1/this.b.M,0,0,1,1,e,this.Ua(),this.Aa,this.Ba,(this.Aa+this.Ha)/2,(this.Ba+this.Ga)/2,this.b.pb.W,this.Ta[d]),a.dl(b)&&(this.b.ja=!0)):a.oc(0),a.dd(this.$a.ci()),a.Eg(this.opacity),a.Bc(this.b.qb),a.Df(this.Wb,
this.Tb),a.cd(),a.Rc(),e=this.b.N/2,b=this.b.M/2,a.Yi(-e,b,e,b,e,-b,-e,-b),a.Bc(null)):this.$a.Xn(a,this,null,this.$a.ci()))};p.prototype.bv=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ya();var d=a.Da;d.right<this.Aa||d.bottom<this.Ba||d.left>this.Ha||d.top>this.Ga||(b.pl(a.Uf),a.ws?this.dv(a,b):(b.oc(0),b.Df(a.Wb,a.Tb),a.tc(b)))}};p.prototype.cv=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ya();var d=a.Da;d.right<this.Aa||d.bottom<this.Ba||d.left>this.Ha||d.top>this.Ga||
(a.Uf=this.b.Uf++,0===a.Ob&&1===a.opacity&&a.Ie&&a.Sf&&(b.pl(a.Uf),a.Sf(b)))}};p.prototype.dv=function(a,b){var d=a.wa[0].kb,e=a.wa[0].index,c=this.uc();if(1!==a.wa.length||b.Sn(d)||b.Qx(d)||(a.j||a.n.Ua())&&b.Ui(d)||1!==a.opacity||a.type.za.Wq)this.$a.Xn(b,this,a,this.ee?this.b.qb:this.$a.ci()),b.cd(),b.scale(c,c),b.kl(-this.Ua()),b.translate((this.Aa+this.Ha)/-2,(this.Ba+this.Ga)/-2),b.Rc();else{b.oc(d);b.Df(a.Wb,a.Tb);b.dl(d)&&(this.b.ja=!0);var g=0,l=0,n=0,t=0;b.Ui(d)&&(t=a.Da,g=this.Na(t.left,
t.top,!0,!0),l=this.Na(t.left,t.top,!1,!0),n=this.Na(t.right,t.bottom,!0,!0),t=this.Na(t.right,t.bottom,!1,!0),g=g/windowWidth,l=1-l/windowHeight,n=n/windowWidth,t=1-t/windowHeight);var k;a.Gb&&a.Gb.ka?(k=a.Gb.ka,d=1/k.width,k=1/k.height):(d=1/a.width,k=1/a.height);b.Ch(this.ee?this.b.qb:this.$a.ci(),d,k,g,l,n,t,c,this.Ua(),this.Aa,this.Ba,(this.Aa+this.Ha)/2,(this.Ba+this.Ga)/2,this.b.pb.W,a.Ta[e]);a.tc(b)}};p.prototype.Zb=function(a,b,d,e){var c=this.b.devicePixelRatio;this.b.ig&&(a*=c,b*=c);var c=
this.b.or,g=this.b.pr,c=(this.$a.scrollX-c)*this.$c+c,g=(this.$a.scrollY-g)*this.ad+g,l=c,n=g,t=1/this.uc(!e);e?(l-=this.b.N*t/2,n-=this.b.M*t/2):(l-=this.b.width*t/2,n-=this.b.height*t/2);l+=a*t;n+=b*t;b=this.Ua();0!==b&&(l-=c,n-=g,a=Math.cos(b),b=Math.sin(b),e=l*a-n*b,n=n*a+l*b,l=e+c,n+=g);return d?l:n};p.prototype.Na=function(a,b,d,e){var c=this.b.or,g=this.b.pr,l=(this.$a.scrollX-c)*this.$c+c,n=(this.$a.scrollY-g)*this.ad+g,g=l,c=n,t=this.Ua();if(0!==t){a-=l;b-=n;var k=Math.cos(-t),t=Math.sin(-t),
p=a*k-b*t;b=b*k+a*t;a=p+l;b+=n}l=1/this.uc(!e);e?(g-=this.b.N*l/2,c-=this.b.M*l/2):(g-=this.b.width*l/2,c-=this.b.height*l/2);g=(a-g)/l;c=(b-c)/l;a=this.b.devicePixelRatio;this.b.ig&&!e&&(g/=a,c/=a);return d?g:c};p.prototype.bb=function(){var a,b,d,e={s:this.scale,a:this.j,vl:this.Aa,vt:this.Ba,vr:this.Ha,vb:this.Ga,v:this.visible,bc:this.nd,t:this.Id,px:this.$c,py:this.ad,o:this.opacity,zr:this.Md,fx:[],cg:this.Sh,instances:[]};a=0;for(b=this.Y.length;a<b;a++)d=this.Y[a],e.fx.push({name:d.name,active:d.Fc,
params:this.Ta[d.index]});return e};p.prototype.rb=function(a){var b,d,e;this.scale=a.s;this.j=a.a;this.Aa=a.vl;this.Ba=a.vt;this.Ha=a.vr;this.Ga=a.vb;this.visible=a.v;this.nd=a.bc;this.Id=a.t;this.$c=a.px;this.ad=a.py;this.opacity=a.o;this.Md=a.zr;this.Sh=a.cg||[];Aa(this.Kc,this.Wr);var c=new ca;b=0;for(e=this.Sh.length;b<e;++b)c.add(this.Sh[b]);d=b=0;for(e=this.Kc.length;b<e;++b)c.contains(this.Kc[b][2])||(this.Kc[d]=this.Kc[b],++d);za(this.Kc,d);d=a.fx;b=0;for(e=d.length;b<e;b++)if(a=this.Hm(d[b].name))a.Fc=
d[b].active,this.Ta[a.index]=d[b].params;this.Jd();this.i.sort(k);this.Lg=!0};Yb=p})();
(function(){function c(a,b){var d,e=a.length;switch(e){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(d=0;d<e;d++)if(a[d]!==b[d])return!1;return!0}}function k(a,b){return a.index-b.index}function p(a){var b,d,e,f;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(k);a.length>=x.length&&(x.length=a.length+1);x[a.length]||(x[a.length]=[]);f=x[a.length];b=0;for(d=f.length;b<d;b++)if(e=f[b],c(a,e))return e;f.push(a);return a}
function g(a,b){this.b=a;this.js={};this.Hp={};this.Tm=!1;this.dq=new ca;this.mm=[];this.Sl=[];this.name=b[0];var d=b[1];this.hf=[];var e,f;e=0;for(f=d.length;e<f;e++)this.gq(d[e],null,this.hf)}function r(a){this.type=a;this.i=[];this.da=[];this.V=!0}function q(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.qa=[];this.Ff=[];this.bq=this.Bl=this.yo=this.Xm=this.group=this.oo=!1;this.lb=[];this.Tc=[];this.fd=[];this.ei="";this.ah=this.Xm=this.group=!1;this.Jj=null;d[1]&&(this.ei=d[1][1].toLowerCase(),
this.group=!0,this.Xm=!!d[1][0],this.Jj=[],this.ah=this.Xm,this.b.Pg.push(this),this.b.fi[this.ei]=this);this.Pc=d[2];this.ca=d[4];this.group||(this.b.ip[this.ca.toString()]=this);var e=d[5];a=0;for(b=e.length;a<b;a++){var f=new Zb(this,e[a]);f.index=a;this.lb.push(f);this.bp(f.type)}e=d[6];a=0;for(b=e.length;a<b;a++)f=new $b(this,e[a]),f.index=a,this.Tc.push(f);if(8===d.length)for(d=d[7],a=0,b=d.length;a<b;a++)this.sheet.gq(d[a],this,this.fd);this.yk=!1;this.lb.length&&(this.yk=null==this.lb[0].type&&
this.lb[0].Ib==W.prototype.k.Ns)}function l(a,b){var d,e,f;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Jb))for(d=0,e=a.sc.length;d<e;d++)f=a.sc[d],a!==f&&-1===b.indexOf(f)&&b.push(f)}function b(a,b){this.Gc=a;this.sheet=a.sheet;this.b=a.b;this.fa=[];this.Xa=[];this.I={};this.index=-1;this.Lh=!1;this.Ib=this.b.Ue(b[1]);this.trigger=0<b[3];this.Gp=2===b[3];this.Wd=b[4];this.ki=b[5];this.Uw=b[6];this.ca=b[7];this.b.$e[this.ca.toString()]=this;-1===b[0]?(this.type=null,this.jb=this.ao,this.Mf=null,this.od=
-1):(this.type=this.b.u[b[0]],this.jb=this.Uw?this.fy:this.$n,b[2]?(this.Mf=this.type.hk(b[2]),this.od=this.type.Fm(b[2])):(this.Mf=null,this.od=-1),this.Gc.parent&&this.Gc.parent.rl());this.Gp&&(this.jb=this.gy);if(10===b.length){var d,e,f=b[9];d=0;for(e=f.length;d<e;d++){var c=new ac(this,f[d]);this.fa.push(c)}this.Xa.length=f.length}}function e(a,b){this.Gc=a;this.sheet=a.sheet;this.b=a.b;this.fa=[];this.Xa=[];this.I={};this.index=-1;this.Lh=!1;this.Ib=this.b.Ue(b[1]);-1===b[0]?(this.type=null,
this.jb=this.ao,this.Mf=null,this.od=-1):(this.type=this.b.u[b[0]],this.jb=this.$n,b[2]?(this.Mf=this.type.hk(b[2]),this.od=this.type.Fm(b[2])):(this.Mf=null,this.od=-1));this.ca=b[3];this.b.We[this.ca.toString()]=this;if(6===b.length){var d,e,f=b[5];d=0;for(e=f.length;d<e;d++){var c=new ac(this,f[d]);this.fa.push(c)}this.Xa.length=f.length}}function d(){H++;F.length===H&&F.push(new bc);return F[H]}function a(a,b){this.Zc=a;this.Gc=a.Gc;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.Rd=null;this.Ne=
0;this.get=null;this.up=0;this.$a=null;this.key=0;this.object=null;this.index=0;this.mj=this.Hg=this.mj=this.Hg=this.Kp=this.Wf=this.nj=null;this.kd=!1;var d,e,f;switch(b[0]){case 0:case 7:this.Rd=new cc(this,b[1]);this.Ne=0;this.get=this.ow;break;case 1:this.Rd=new cc(this,b[1]);this.Ne=0;this.get=this.pw;break;case 5:this.Rd=new cc(this,b[1]);this.Ne=0;this.get=this.uw;break;case 3:case 8:this.up=b[1];this.get=this.lw;break;case 6:this.$a=this.b.yn[b[1]];this.get=this.vw;break;case 9:this.key=b[1];
this.get=this.sw;break;case 4:this.object=this.b.u[b[1]];this.get=this.ww;this.Gc.bp(this.object);this.Zc instanceof $b?this.Gc.rl():this.Gc.parent&&this.Gc.parent.rl();break;case 10:this.index=b[1];a.type&&a.type.R?(this.get=this.qw,this.kd=!0):this.get=this.rw;break;case 11:this.nj=b[1];this.Wf=null;this.get=this.mw;break;case 2:case 12:this.Kp=b[1];this.get=this.kw;break;case 13:for(this.get=this.xw,this.Hg=[],this.mj=[],d=1,e=b.length;d<e;d++)f=new ac(this.Zc,b[d]),this.Hg.push(f),this.mj.push(0)}}
function f(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.qa=[];this.name=d[1];this.oj=d[2];this.Wm=d[3];this.ti=!!d[4];this.wk=!!d[5];this.ca=d[6];this.b.Ih[this.ca.toString()]=this;this.data=this.Wm;this.parent?(this.qg=this.ti||this.wk?-1:this.b.vy++,this.b.pu.push(this)):(this.qg=-1,this.b.ou.push(this))}function m(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.qa=[];this.hi=null;this.Ew=d[1];this.Fc=!0}function h(){this.Yr=[];this.reset(null)}var x=[];g.prototype.toString=function(){return this.name};
g.prototype.gq=function(a,b,d){switch(a[0]){case 0:a=new dc(this,b,a);if(a.Pc)for(d.push(a),d=0,b=a.lb.length;d<b;d++)a.lb[d].trigger&&this.hq(a,d);else a.pq()?this.hq(a,0):d.push(a);break;case 1:a=new Vb(this,b,a);d.push(a);break;case 2:a=new ec(this,b,a),d.push(a)}};g.prototype.ab=function(){var a,b;a=0;for(b=this.hf.length;a<b;a++)this.hf[a].ab(a<b-1&&this.hf[a+1].yk)};g.prototype.Fo=function(){Q(this.mm);Q(this.Sl);this.$o(this);Q(this.Sl)};g.prototype.$o=function(a){var b,d,e,f,c=a.mm,h=a.Sl,
g=this.dq.jd();b=0;for(d=g.length;b<d;++b)e=g[b],f=e.hi,!e.Fc||a===f||-1<h.indexOf(f)||(h.push(f),f.$o(a),c.push(f))};g.prototype.jb=function(a){this.b.Qz||(this.Tm=!0,a||(this.b.kn=!0));var b,d;b=0;for(d=this.hf.length;b<d;b++){var e=this.hf[b];e.jb();this.b.em(e.qa);this.b.lf&&this.b.Nb()}a||(this.b.kn=!1)};g.prototype.hq=function(a,b){a.Pc||this.b.El.push(a);var d,e,f=a.lb[b],c;f.type?c=f.type.name:c="system";var h=(d=f.Gp)?this.Hp:this.js;h[c]||(h[c]=[]);c=h[c];h=f.Ib;if(d){if(f.fa.length&&(f=
f.fa[0],1===f.type&&2===f.Rd.type)){f=f.Rd.value.toLowerCase();d=0;for(e=c.length;d<e;d++)if(c[d].method==h){d=c[d].Vh;d[f]?d[f].push([a,b]):d[f]=[[a,b]];return}d={};d[f]=[[a,b]];c.push({method:h,Vh:d})}}else{d=0;for(e=c.length;d<e;d++)if(c[d].method==h){c[d].Vh.push([a,b]);return}Z&&h===Z.prototype.k.Og?c.unshift({method:h,Vh:[[a,b]]}):c.push({method:h,Vh:[[a,b]]})}};Lb=g;r.prototype.mk=function(){return this.V?this.type.i.length:this.i.length};r.prototype.$b=function(){return this.V?this.type.i:
this.i};r.prototype.Ti=function(a){a&&(a.b.Va().Za.Pc?(this.V&&(Q(this.i),Aa(this.da,a.type.i),this.V=!1),a=this.da.indexOf(a),-1!==a&&(this.i.push(this.da[a]),this.da.splice(a,1))):(this.V=!1,Q(this.i),this.i[0]=a))};rb=r;window._c2hh_="A919180A5AF058C66231E4EE2C5270D8A1A87708";q.prototype.ab=function(a){var b,d=this.parent;if(this.group)for(this.Bl=!0;d;){if(!d.group){this.Bl=!1;break}d=d.parent}this.yo=!this.pq()&&(!this.parent||this.parent.group&&this.parent.Bl);this.bq=!!a;this.Ff=this.qa.slice(0);
for(d=this.parent;d;){a=0;for(b=d.qa.length;a<b;a++)this.mu(d.qa[a]);d=d.parent}this.qa=p(this.qa);this.Ff=p(this.Ff);a=0;for(b=this.lb.length;a<b;a++)this.lb[a].ab();a=0;for(b=this.Tc.length;a<b;a++)this.Tc[a].ab();a=0;for(b=this.fd.length;a<b;a++)this.fd[a].ab(a<b-1&&this.fd[a+1].yk)};q.prototype.ky=function(a){if(this.ah!==!!a){this.ah=!!a;var b;a=0;for(b=this.Jj.length;a<b;++a)this.Jj[a].qs();0<b&&this.b.ma.Vf&&this.b.ma.Vf.Fo()}};q.prototype.bp=function(a){l(a,this.qa)};q.prototype.mu=function(a){l(a,
this.Ff)};q.prototype.rl=function(){this.oo=!0;this.parent&&this.parent.rl()};q.prototype.pq=function(){return this.lb.length?this.lb[0].trigger:!1};q.prototype.jb=function(){var a,b,d=!1,e=this.b,f=this.b.Va();f.Za=this;var c=this.lb;this.yk||(f.um=!1);if(this.Pc){0===c.length&&(d=!0);f.eb=0;for(a=c.length;f.eb<a;f.eb++)b=c[f.eb],b.trigger||(b=b.jb())&&(d=!0);(f.lg=d)&&this.ll()}else{f.eb=0;for(a=c.length;f.eb<a;f.eb++)if(b=c[f.eb].jb(),!b){f.lg=!1;this.yo&&e.lf&&e.Nb();return}f.lg=!0;this.ll()}this.jv(f)};
q.prototype.jv=function(a){a.lg&&this.bq&&(a.um=!0);this.yo&&this.b.lf&&this.b.Nb()};q.prototype.cy=function(a){this.b.Va().Za=this;this.lb[a].jb()&&(this.ll(),this.b.Va().lg=!0)};q.prototype.ll=function(){var a=this.b.Va(),b;a.gc=0;for(b=this.Tc.length;a.gc<b;a.gc++)if(this.Tc[a.gc].jb())return;this.Gr()};q.prototype.$x=function(){var a=this.b.Va(),b;for(b=this.Tc.length;a.gc<b;a.gc++)if(this.Tc[a.gc].jb())return;this.Gr()};q.prototype.Gr=function(){if(this.fd.length){var a,b,d,e,f=this.fd.length-
1;this.b.el(this);if(this.oo)for(a=0,b=this.fd.length;a<b;a++)d=this.fd[a],(e=!this.Bl||!this.group&&a<f)&&this.b.yg(d.qa),d.jb(),e?this.b.ae(d.qa):this.b.em(d.qa);else for(a=0,b=this.fd.length;a<b;a++)this.fd[a].jb();this.b.al()}};q.prototype.ey=function(){var a=this.b.Va();a.Za=this;var b=!1,d;a.eb=0;for(d=this.lb.length;a.eb<d;a.eb++)if(this.lb[a.eb].jb())b=!0;else if(!this.Pc)return!1;return this.Pc?b:!0};q.prototype.Cg=function(){this.b.Xf++;var a=this.b.Va().eb,b=this.b.el(this);if(!this.Pc)for(b.eb=
a+1,a=this.lb.length;b.eb<a;b.eb++)if(!this.lb[b.eb].jb()){this.b.al();return}this.ll();this.b.al()};q.prototype.Lw=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.lb[b].type===a.type)return!1;return!0};dc=q;b.prototype.ab=function(){var a,b,d;a=0;for(b=this.fa.length;a<b;a++)d=this.fa[a],d.ab(),d.kd&&(this.Lh=!0)};b.prototype.gy=function(){return!0};b.prototype.ao=function(){var a,b;a=0;for(b=this.fa.length;a<b;a++)this.Xa[a]=this.fa[a].get();return Ta(this.Ib.apply(this.b.ge,
this.Xa),this.ki)};b.prototype.fy=function(){var a,b;a=0;for(b=this.fa.length;a<b;a++)this.Xa[a]=this.fa[a].get();a=this.Ib.apply(this.Mf?this.Mf:this.type,this.Xa);this.type.md();return a};b.prototype.$n=function(){var a,b,d,e,f,c,h,g,m=this.type,l=m.T(),k=this.Gc.Pc&&!this.trigger;b=0;var p=m.Jb,r=m.R,x=m.pe,q=this.od,F=-1<q,H=this.Lh,E=this.fa,u=this.Xa,z=this.ki,A=this.Ib,D;if(H)for(b=0,f=E.length;b<f;++b)c=E[b],c.kd||(u[b]=c.get(0));else for(b=0,f=E.length;b<f;++b)u[b]=E[b].get(0);if(l.V){Q(l.i);
Q(l.da);D=m.i;a=0;for(e=D.length;a<e;++a){g=D[a];if(H)for(b=0,f=E.length;b<f;++b)c=E[b],c.kd&&(u[b]=c.get(a));F?(b=0,r&&(b=g.type.Yg[x]),b=A.apply(g.L[q+b],u)):b=A.apply(g,u);(h=Ta(b,z))?l.i.push(g):k&&l.da.push(g)}m.finish&&m.finish(!0);l.V=!1;m.md();return l.mk()}d=0;D=(h=k&&!this.Gc.Lw(this))?l.da:l.i;var G=!1;a=0;for(e=D.length;a<e;++a){g=D[a];if(H)for(b=0,f=E.length;b<f;++b)c=E[b],c.kd&&(u[b]=c.get(a));F?(b=0,r&&(b=g.type.Yg[x]),b=A.apply(g.L[q+b],u)):b=A.apply(g,u);if(Ta(b,z))if(G=!0,h){if(l.i.push(g),
p)for(b=0,f=g.siblings.length;b<f;b++)c=g.siblings[b],c.type.T().i.push(c)}else{D[d]=g;if(p)for(b=0,f=g.siblings.length;b<f;b++)c=g.siblings[b],c.type.T().i[d]=c;d++}else if(h){D[d]=g;if(p)for(b=0,f=g.siblings.length;b<f;b++)c=g.siblings[b],c.type.T().da[d]=c;d++}else if(k&&(l.da.push(g),p))for(b=0,f=g.siblings.length;b<f;b++)c=g.siblings[b],c.type.T().da.push(c)}za(D,d);if(p)for(r=m.sc,a=0,e=r.length;a<e;a++)g=r[a].T(),h?za(g.da,d):za(g.i,d);d=G;if(h&&!G)for(a=0,e=l.i.length;a<e;a++){g=l.i[a];if(H)for(b=
0,f=E.length;b<f;b++)c=E[b],c.kd&&(u[b]=c.get(a));b=F?A.apply(g.L[q],u):A.apply(g,u);if(Ta(b,z)){G=!0;break}}m.finish&&m.finish(d||k);return k?G:l.mk()};Zb=b;e.prototype.ab=function(){var a,b,d;a=0;for(b=this.fa.length;a<b;a++)d=this.fa[a],d.ab(),d.kd&&(this.Lh=!0)};e.prototype.ao=function(){var a=this.b,b,d,e=this.fa,f=this.Xa;b=0;for(d=e.length;b<d;++b)f[b]=e[b].get();return this.Ib.apply(a.ge,f)};e.prototype.$n=function(){var a=this.type,b=this.od,d=a.pe,e=this.Lh,f=this.fa,c=this.Xa,h=this.Ib,
g=a.T().$b(),a=a.R,m=-1<b,l,k,p,r,x,q;if(e)for(k=0,r=f.length;k<r;++k)x=f[k],x.kd||(c[k]=x.get(0));else for(k=0,r=f.length;k<r;++k)c[k]=f[k].get(0);l=0;for(p=g.length;l<p;++l){q=g[l];if(e)for(k=0,r=f.length;k<r;++k)x=f[k],x.kd&&(c[k]=x.get(l));m?(k=0,a&&(k=q.type.Yg[d]),h.apply(q.L[b+k],c)):h.apply(q,c)}return!1};$b=e;var F=[],H=-1;a.prototype.ab=function(){var a,b;if(11===this.type)this.Wf=this.b.Up(this.nj,this.Gc.parent);else if(13===this.type)for(a=0,b=this.Hg.length;a<b;a++)this.Hg[a].ab();this.Rd&&
this.Rd.ab()};a.prototype.bx=function(a){this.kd||!a||a.za.tl||(this.kd=!0)};a.prototype.Nr=function(){this.kd=!0};a.prototype.ow=function(a){this.Ne=a||0;a=d();this.Rd.get(a);H--;return a.data};a.prototype.pw=function(a){this.Ne=a||0;a=d();this.Rd.get(a);H--;return w(a.data)?a.data:""};a.prototype.ww=function(){return this.object};a.prototype.lw=function(){return this.up};a.prototype.uw=function(a){this.Ne=a||0;a=d();this.Rd.get(a);H--;return a.Cb()?this.b.ai(a.data):this.b.Km(a.data)};a.prototype.vw=
function(){return this.$a};a.prototype.sw=function(){return this.key};a.prototype.rw=function(){return this.index};a.prototype.qw=function(a){a=a||0;var b=this.Zc.type,d=null,d=b.T(),e=d.$b();if(e.length)d=e[a%e.length].type;else if(d.da.length)d=d.da[a%d.da.length].type;else if(b.i.length)d=b.i[a%b.i.length].type;else return 0;return this.index+d.$j[b.pe]};a.prototype.mw=function(){return this.Wf};a.prototype.kw=function(){return this.Kp};a.prototype.xw=function(){var a,b;a=0;for(b=this.Hg.length;a<
b;a++)this.mj[a]=this.Hg[a].get();return this.mj};ac=a;f.prototype.ab=function(){this.qa=p(this.qa)};f.prototype.He=function(a){var b=this.b.Tp();this.parent&&!this.ti&&b?(this.qg>=b.length&&(b.length=this.qg+1),b[this.qg]=a):this.data=a};f.prototype.bg=function(){var a=this.b.Tp();return!this.parent||this.ti||!a||this.wk?this.data:this.qg>=a.length||"undefined"===typeof a[this.qg]?this.Wm:a[this.qg]};f.prototype.jb=function(){!this.parent||this.ti||this.wk||this.He(this.Wm)};Vb=f;m.prototype.toString=
function(){return"include:"+this.hi.toString()};m.prototype.ab=function(){this.hi=this.b.wm[this.Ew];this.sheet.dq.add(this);this.qa=p(this.qa);for(var a=this.parent;a;)a.group&&a.Jj.push(this),a=a.parent;this.qs()};m.prototype.jb=function(){this.parent&&this.b.Wi(this.b.u);this.hi.Tm||this.hi.jb(!0);this.parent&&this.b.ae(this.b.u)};m.prototype.qs=function(){for(var a=this.parent;a;){if(a.group&&!a.ah){this.Fc=!1;return}a=a.parent}this.Fc=!0};ec=m;h.prototype.reset=function(a){this.Za=a;this.gc=
this.eb=0;Q(this.Yr);this.um=this.lg=!1};h.prototype.mq=function(){return this.Za.oo?!0:this.eb<this.Za.lb.length-1?!!this.Za.qa.length:!1};Ub=h})();
(function(){function c(c,b){this.Zc=c;this.b=c.b;this.type=b[0];this.get=[this.Bv,this.xv,this.Kv,this.Nv,this.mv,this.Lv,this.Fv,this.uv,this.Ev,this.Jv,this.nv,this.Iv,this.vv,this.Gv,this.Cv,this.Dv,this.yv,this.zv,this.tv,this.Mv,this.Hv,this.Av,this.sv,this.wv][this.type];var e=null;this.Be=this.fa=this.Xa=this.Ib=this.zl=this.second=this.first=this.value=null;this.od=-1;this.td=null;this.xs=-1;this.Wf=this.nj=null;this.Ah=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new cc(c,b[1]);break;case 18:this.first=new cc(c,b[1]);this.second=new cc(c,b[2]);this.zl=new cc(c,b[3]);break;case 19:this.Ib=this.b.Ue(b[1]);this.Ib!==W.prototype.xa.random&&this.Ib!==W.prototype.xa.zu||this.Zc.Nr();this.Xa=[];this.fa=[];3===b.length?(e=b[2],this.Xa.length=e.length+1):this.Xa.length=1;break;case 20:this.Be=this.b.u[b[1]];this.od=-1;this.Ib=this.b.Ue(b[2]);this.Ah=b[3];rc&&this.Ib===rc.prototype.xa.Es&&this.Zc.Nr();b[4]?this.td=new cc(c,b[4]):this.td=null;this.Xa=[];this.fa=[];6===
b.length?(e=b[5],this.Xa.length=e.length+1):this.Xa.length=1;break;case 21:this.Be=this.b.u[b[1]];this.Ah=b[2];b[3]?this.td=new cc(c,b[3]):this.td=null;this.xs=b[4];break;case 22:this.Be=this.b.u[b[1]];this.Be.hk(b[2]);this.od=this.Be.Fm(b[2]);this.Ib=this.b.Ue(b[3]);this.Ah=b[4];b[5]?this.td=new cc(c,b[5]):this.td=null;this.Xa=[];this.fa=[];7===b.length?(e=b[6],this.Xa.length=e.length+1):this.Xa.length=1;break;case 23:this.nj=b[1],this.Wf=null}this.Zc.bx(this.Be);4<=this.type&&17>=this.type&&(this.first=
new cc(c,b[1]),this.second=new cc(c,b[2]));if(e){var d,a;d=0;for(a=e.length;d<a;d++)this.fa.push(new cc(c,e[d]))}}function k(){++q;r.length===q&&r.push(new bc);return r[q]}function p(c,b,e){var d,a;d=0;for(a=c.length;d<a;++d)c[d].get(e),b[d+1]=e.data}function g(c,b){this.type=c||fc.Ng;this.data=b||0;this.vg=null;this.type==fc.Ng&&(this.data=Math.floor(this.data))}c.prototype.ab=function(){23===this.type&&(this.Wf=this.Zc.b.Up(this.nj,this.Zc.Gc.parent));this.first&&this.first.ab();this.second&&this.second.ab();
this.zl&&this.zl.ab();this.td&&this.td.ab();if(this.fa){var c,b;c=0;for(b=this.fa.length;c<b;c++)this.fa[c].ab()}};var r=[],q=-1;c.prototype.Mv=function(c){var b=this.fa,e=this.Xa;e[0]=c;c=k();p(b,e,c);--q;this.Ib.apply(this.b.ge,e)};c.prototype.Hv=function(c){var b=this.Be,e=this.Xa,d=this.fa,a=this.td,f=this.Ib,g=this.Zc.Ne,h=b.T(),r=h.$b();if(!r.length)if(h.da.length)r=h.da;else{this.Ah?c.Cc(""):c.pa(0);return}e[0]=c;c.vg=b;c=k();p(d,e,c);a&&(a.get(c),c.Cb()&&(g=c.data,r=b.i));--q;b=r.length;if(g>=
b||g<=-b)g%=b;0>g&&(g+=b);f.apply(r[g],e)};c.prototype.sv=function(c){var b=this.Be,e=this.Xa,d=this.fa,a=this.td,f=this.od,g=this.Ib,h=this.Zc.Ne,r=b.T(),F=r.$b();if(!F.length)if(r.da.length)F=r.da;else{this.Ah?c.Cc(""):c.pa(0);return}e[0]=c;c.vg=b;c=k();p(d,e,c);a&&(a.get(c),c.Cb()&&(h=c.data,F=b.i));--q;d=F.length;if(h>=d||h<=-d)h%=d;0>h&&(h+=d);h=F[h];F=0;b.R&&(F=h.type.Yg[b.pe]);g.apply(h.L[f+F],e)};c.prototype.Av=function(c){var b=this.td,e=this.Be,d=this.xs,a=this.Zc.Ne,f=e.T(),g=f.$b();if(!g.length)if(f.da.length)g=
f.da;else{this.Ah?c.Cc(""):c.pa(0);return}if(b){f=k();b.get(f);if(f.Cb()){a=f.data;g=e.i;0!==g.length&&(a%=g.length,0>a&&(a+=g.length));a=e.Jm(a);e=a.Ea[d];w(e)?c.Cc(e):c.S(e);--q;return}--q}b=g.length;if(a>=b||a<=-b)a%=b;0>a&&(a+=b);a=g[a];g=0;e.R&&(g=a.type.$j[e.pe]);e=a.Ea[d+g];w(e)?c.Cc(e):c.S(e)};c.prototype.Bv=function(c){c.type=fc.Ng;c.data=this.value};c.prototype.xv=function(c){c.type=fc.Mg;c.data=this.value};c.prototype.Kv=function(c){c.type=fc.String;c.data=this.value};c.prototype.Nv=function(c){this.first.get(c);
c.Cb()&&(c.data=-c.data)};c.prototype.mv=function(c){this.first.get(c);var b=k();this.second.get(b);c.Cb()&&b.Cb()&&(c.data+=b.data,b.fh()&&c.qh());--q};c.prototype.Lv=function(c){this.first.get(c);var b=k();this.second.get(b);c.Cb()&&b.Cb()&&(c.data-=b.data,b.fh()&&c.qh());--q};c.prototype.Fv=function(c){this.first.get(c);var b=k();this.second.get(b);c.Cb()&&b.Cb()&&(c.data*=b.data,b.fh()&&c.qh());--q};c.prototype.uv=function(c){this.first.get(c);var b=k();this.second.get(b);c.Cb()&&b.Cb()&&(c.data/=
b.data,c.qh());--q};c.prototype.Ev=function(c){this.first.get(c);var b=k();this.second.get(b);c.Cb()&&b.Cb()&&(c.data%=b.data,b.fh()&&c.qh());--q};c.prototype.Jv=function(c){this.first.get(c);var b=k();this.second.get(b);c.Cb()&&b.Cb()&&(c.data=Math.pow(c.data,b.data),b.fh()&&c.qh());--q};c.prototype.nv=function(c){this.first.get(c);var b=k();this.second.get(b);b.ih()||c.ih()?this.pv(c,b):this.ov(c,b);--q};c.prototype.pv=function(c,b){c.ih()&&b.ih()?this.rv(c,b):this.qv(c,b)};c.prototype.rv=function(c,
b){c.data+=b.data};c.prototype.qv=function(c,b){c.ih()?c.data+=(Math.round(1E10*b.data)/1E10).toString():c.Cc(c.data.toString()+b.data)};c.prototype.ov=function(c,b){c.pa(c.data&&b.data?1:0)};c.prototype.Iv=function(c){this.first.get(c);var b=k();this.second.get(b);c.Cb()&&b.Cb()&&(c.data||b.data?c.pa(1):c.pa(0));--q};c.prototype.tv=function(c){this.first.get(c);c.data?this.second.get(c):this.zl.get(c)};c.prototype.vv=function(c){this.first.get(c);var b=k();this.second.get(b);c.pa(c.data===b.data?
1:0);--q};c.prototype.Gv=function(c){this.first.get(c);var b=k();this.second.get(b);c.pa(c.data!==b.data?1:0);--q};c.prototype.Cv=function(c){this.first.get(c);var b=k();this.second.get(b);c.pa(c.data<b.data?1:0);--q};c.prototype.Dv=function(c){this.first.get(c);var b=k();this.second.get(b);c.pa(c.data<=b.data?1:0);--q};c.prototype.yv=function(c){this.first.get(c);var b=k();this.second.get(b);c.pa(c.data>b.data?1:0);--q};c.prototype.zv=function(c){this.first.get(c);var b=k();this.second.get(b);c.pa(c.data>=
b.data?1:0);--q};c.prototype.wv=function(c){var b=this.Wf.bg();ka(b)?c.S(b):c.Cc(b)};cc=c;g.prototype.fh=function(){return this.type===fc.Mg};g.prototype.Cb=function(){return this.type===fc.Ng||this.type===fc.Mg};g.prototype.ih=function(){return this.type===fc.String};g.prototype.qh=function(){this.fh()||(this.ih()&&(this.data=parseFloat(this.data)),this.type=fc.Mg)};g.prototype.pa=function(c){this.type=fc.Ng;this.data=Math.floor(c)};g.prototype.S=function(c){this.type=fc.Mg;this.data=c};g.prototype.Cc=
function(c){this.type=fc.String;this.data=c};g.prototype.io=function(c){ka(c)?(this.type=fc.Mg,this.data=c):w(c)?(this.type=fc.String,this.data=c.toString()):(this.type=fc.Ng,this.data=0)};bc=g;fc={Ng:0,Mg:1,String:2}})();function W(c){this.b=c;this.qc=[]}
W.prototype.bb=function(){var c={},k,p,g,r,q,l,b,e;c.waits=[];var d=c.waits,a;k=0;for(p=this.qc.length;k<p;k++){l=this.qc[k];a={t:l.time,st:l.Ur,s:l.no,ev:l.Wg.ca,sm:[],sols:{}};l.Wg.Tc[l.gc]&&(a.act=l.Wg.Tc[l.gc].ca);g=0;for(r=l.qa.length;g<r;g++)a.sm.push(l.qa[g].ca);for(q in l.ac)if(l.ac.hasOwnProperty(q)){b=this.b.u[parseInt(q,10)];e={sa:l.ac[q].ml,insts:[]};g=0;for(r=l.ac[q].te.length;g<r;g++)e.insts.push(l.ac[q].te[g].uid);a.sols[b.ca.toString()]=e}d.push(a)}return c};
W.prototype.rb=function(c){c=c.waits;var k,p,g,r,q,l,b,e,d,a,f;Q(this.qc);k=0;for(p=c.length;k<p;k++)if(l=c[k],e=this.b.ip[l.ev.toString()]){d=-1;g=0;for(r=e.Tc.length;g<r;g++)if(e.Tc[g].ca===l.act){d=g;break}if(-1!==d){b={ac:{},qa:[],om:!1};b.time=l.t;b.Ur=l.st||"";b.no=!!l.s;b.Wg=e;b.gc=d;g=0;for(r=l.sm.length;g<r;g++)(e=this.b.ag(l.sm[g]))&&b.qa.push(e);for(q in l.sols)if(l.sols.hasOwnProperty(q)&&(e=this.b.ag(parseInt(q,10)))){d=l.sols[q];a={ml:d.sa,te:[]};g=0;for(r=d.insts.length;g<r;g++)(f=
this.b.bi(d.insts[g]))&&a.te.push(f);b.ac[e.index.toString()]=a}this.qc.push(b)}}};
(function(){function c(){}function k(){}function p(){}var g=W.prototype;c.prototype.Ps=function(){return!0};c.prototype.To=function(){return!0};c.prototype.At=function(){return!0};c.prototype.Hs=function(b,d,a){return gc(b,d,a)};c.prototype.Ss=function(b,d,a){var f=this.b.Va(),c=f.Za,f=f.mq();b=this.b.Br(b);if(a<d)if(f)for(;d>=a&&!b.Pa;--d)this.b.yg(c.qa),b.index=d,c.Cg(),this.b.ae(c.qa);else for(;d>=a&&!b.Pa;--d)b.index=d,c.Cg();else if(f)for(;d<=a&&!b.Pa;++d)this.b.yg(c.qa),b.index=d,c.Cg(),this.b.ae(c.qa);
else for(;d<=a&&!b.Pa;++d)b.index=d,c.Cg();this.b.tr();return!1};var r=[],q=-1;c.prototype.Ts=function(b){var d=b.T();q++;r.length===q&&r.push([]);var a=r[q];Aa(a,d.$b());var f=this.b.Va(),c=f.Za,h=f.mq(),f=this.b.Br(),g,k,l,n,p,K,B=b.Jb;if(h)for(h=0,g=a.length;h<g&&!f.Pa;h++){this.b.yg(c.qa);n=a[h];d=b.T();d.V=!1;Q(d.i);d.i[0]=n;if(B)for(k=0,l=n.siblings.length;k<l;k++)p=n.siblings[k],K=p.type.T(),K.V=!1,Q(K.i),K.i[0]=p;f.index=h;c.Cg();this.b.ae(c.qa)}else for(d.V=!1,Q(d.i),h=0,g=a.length;h<g&&
!f.Pa;h++){n=a[h];d.i[0]=n;if(B)for(k=0,l=n.siblings.length;k<l;k++)p=n.siblings[k],K=p.type.T(),K.V=!1,Q(K.i),K.i[0]=p;f.index=h;c.Cg()}Q(a);this.b.tr();q--;return!1};c.prototype.Os=function(b){var d=this.b.$g(),a=d.I.Every_lastTime||0,f=this.b.pb.W;"undefined"===typeof d.I.Every_seconds&&(d.I.Every_seconds=b);var c=d.I.Every_seconds;if(f>=a+c)return d.I.Every_lastTime=a+c,f>=d.I.Every_lastTime+.04&&(d.I.Every_lastTime=f),d.I.Every_seconds=b,!0;f<a-.1&&(d.I.Every_lastTime=f);return!1};c.prototype.Js=
function(b,d,a){return gc(b.bg(),d,a)};c.prototype.$s=function(b){return(b=this.b.fi[b.toLowerCase()])&&b.ah};c.prototype.Ns=function(){var b=this.b.Va();return b.um?!1:!b.lg};c.prototype.Uo=function(){return!0};c.prototype.mt=function(){return!0};c.prototype.Ml=function(){return!0};c.prototype.Xo=function(){return!0};c.prototype.Bt=function(){return!0};c.prototype.uj=function(){return!0};c.prototype.Cs=function(b,d,a){return Na(R(b),R(a))<=R(d)};c.prototype.Ys=function(b,d){return Pa(R(b),R(d))};
c.prototype.Ws=function(b,d,a){b=Ka(b);d=Ka(d);a=Ka(a);return Pa(a,d)?Pa(b,d)&&!Pa(b,a):!(!Pa(b,d)&&Pa(b,a))};g.k=new c;k.prototype.Ls=function(b,d,a,f){if(d&&b&&(d=this.b.Lj(b,d,a,f))){this.b.Lc++;var c;this.b.trigger(Object.getPrototypeOf(b.za).k.Jf,d);if(d.Jb)for(a=0,f=d.siblings.length;a<f;a++)c=d.siblings[a],this.b.trigger(Object.getPrototypeOf(c.type.za).k.Jf,c);this.b.Lc--;b=b.T();b.V=!1;Q(b.i);b.i[0]=d;if(d.Jb)for(a=0,f=d.siblings.length;a<f;a++)c=d.siblings[a],b=c.type.T(),b.V=!1,Q(b.i),
b.i[0]=c}};k.prototype.au=function(b,d){0===b.oj?ka(d)?b.He(d):b.He(parseFloat(d)):1===b.oj&&b.He(d.toString())};k.prototype.Bs=function(b,d){0===b.oj?ka(d)?b.He(b.bg()+d):b.He(b.bg()+parseFloat(d)):1===b.oj&&b.He(b.bg()+d.toString())};k.prototype.gu=function(b,d){0===b.oj&&(ka(d)?b.He(b.bg()-d):b.He(b.bg()-parseFloat(d)))};var l=[],b=[];k.prototype.iu=function(e){if(!(0>e)){var d,a,f,c=this.b.Va(),h;l.length?h=l.pop():h={ac:{},qa:[]};h.om=!1;h.time=this.b.pb.W+e;h.Ur="";h.no=!1;h.Wg=c.Za;h.gc=c.gc+
1;e=0;for(d=this.b.u.length;e<d;e++)f=this.b.u[e],a=f.T(),a.V&&-1===c.Za.qa.indexOf(f)||(h.qa.push(f),f=void 0,b.length?f=b.pop():f={te:[]},f.ml=!1,f.ml=a.V,Aa(f.te,a.i),h.ac[e.toString()]=f);this.qc.push(h);return!0}};k.prototype.eu=function(){0>this.b.ph||(this.b.Gm().Pa=!0)};g.D=new k;p.prototype["int"]=function(b,d){w(d)?(b.pa(parseInt(d,10)),isNaN(b.data)&&(b.data=0)):b.pa(d)};p.prototype["float"]=function(b,d){w(d)?(b.S(parseFloat(d)),isNaN(b.data)&&(b.data=0)):b.S(d)};p.prototype.random=function(b,
d,a){void 0===a?b.S(Math.random()*d):b.S(Math.random()*(a-d)+d)};p.prototype.sqrt=function(b,d){b.S(Math.sqrt(d))};p.prototype.abs=function(b,d){b.S(Math.abs(d))};p.prototype.round=function(b,d){b.pa(Math.round(d))};p.prototype.floor=function(b,d){b.pa(Math.floor(d))};p.prototype.ceil=function(b,d){b.pa(Math.ceil(d))};p.prototype.sin=function(b,d){b.S(Math.sin(R(d)))};p.prototype.cos=function(b,d){b.S(Math.cos(R(d)))};p.prototype.tan=function(b,d){b.S(Math.tan(R(d)))};p.prototype.asin=function(b,
d){b.S(Ga(Math.asin(d)))};p.prototype.acos=function(b,d){b.S(Ga(Math.acos(d)))};p.prototype.atan=function(b,d){b.S(Ga(Math.atan(d)))};p.prototype.exp=function(b,d){b.S(Math.exp(d))};p.prototype.log10=function(b,d){b.S(Math.log(d)/Math.LN10)};p.prototype.max=function(b){var d=arguments[1];"number"!==typeof d&&(d=0);var a,f,c;a=2;for(f=arguments.length;a<f;a++)c=arguments[a],"number"===typeof c&&d<c&&(d=c);b.S(d)};p.prototype.min=function(b){var d=arguments[1];"number"!==typeof d&&(d=0);var a,f,c;a=
2;for(f=arguments.length;a<f;a++)c=arguments[a],"number"===typeof c&&d>c&&(d=c);b.S(d)};p.prototype.Tf=function(b){b.S(this.b.Tf)};p.prototype.Jg=function(b){b.S(this.b.Jg)};p.prototype.time=function(b){b.S(this.b.pb.W)};p.prototype.hd=function(b){b.pa(this.b.hd)};p.prototype.Rk=function(b){b.pa(this.b.Rk)};p.prototype.Cm=function(b){b.pa(this.b.Cm)};p.prototype.$w=function(b,d){var a,f;if(this.b.Ji.length)if(d){for(f=this.b.ph;0<=f;--f)if(a=this.b.Ji[f],a.name===d){b.pa(a.index);return}b.pa(0)}else a=
this.b.Gm(),b.pa(a?a.index:-1);else b.pa(0)};p.prototype.Hu=function(b,d,a,f,c){b.S(Sa(d,a,f,c))};p.prototype.j=function(b,d,a,f,c){b.S(Ga(La(d,a,f,c)))};p.prototype.Ww=function(b){b.pa(this.b.ma.width)};p.prototype.Vw=function(b){b.pa(this.b.ma.height)};p.prototype.left=function(b,d,a){b.Cc(w(d)?d.substr(0,a):"")};p.prototype.right=function(b,d,a){b.Cc(w(d)?d.substr(d.length-a):"")};p.prototype.replace=function(b,d,a,f){w(d)&&w(a)&&w(f)?b.Cc(d.replace(new RegExp(eb(a),"gi"),f)):b.Cc(w(d)?d:"")};
p.prototype.trim=function(b,d){b.Cc(w(d)?d.trim():"")};p.prototype.zu=function(b){var d=I(Math.random()*(arguments.length-1));b.io(arguments[d+1])};p.prototype.gm=function(b){b.S(this.b.gm/1E3)};p.prototype.Jk=function(b){b.S(this.b.Jk)};g.xa=new p;g.by=function(){var e,d,a,f,c,h,g=this.b.Va();e=0;for(a=this.qc.length;e<a;e++){f=this.qc[e];if(-1===f.time){if(!f.no)continue}else if(f.time>this.b.pb.W)continue;g.Za=f.Wg;g.gc=f.gc;g.eb=0;for(d in f.ac)f.ac.hasOwnProperty(d)&&(c=this.b.u[parseInt(d,10)].T(),
h=f.ac[d],c.V=h.ml,Aa(c.i,h.te),c=h,Q(c.te),b.push(c));f.Wg.$x();this.b.em(f.qa);f.om=!0}d=e=0;for(a=this.qc.length;e<a;e++)f=this.qc[e],this.qc[d]=f,f.om?(Za(f.ac),Q(f.qa),l.push(f)):d++;za(this.qc,d)}})();
(function(){qb=function(c,p){var g=c[1],r=c[3],q=c[4],l=c[5],b=c[6],e=c[7],d=c[8];p.k||(p.k={});p.D||(p.D={});p.xa||(p.xa={});var a=p.k,f=p.D,m=p.xa;r&&(a.Wy=function(a,b){return gc(this.x,a,b)},a.Xy=function(a,b){return gc(this.y,a,b)},a.cz=function(){var a=this.n;this.ya();var b=this.Da;return!(b.right<a.Aa||b.bottom<a.Ba||b.left>a.Ha||b.top>a.Ga)},a.ct=function(){this.ya();var a=this.Da,b=this.b.ma;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},a.nz=function(a,b,d){var e=this.T(),
f=e.$b();if(!f.length)return!1;var c=f[0],g=c,m=Sa(c.x,c.y,b,d),k,l,p;k=1;for(l=f.length;k<l;k++)if(c=f[k],p=Sa(c.x,c.y,b,d),0===a&&p<m||1===a&&p>m)m=p,g=c;e.Ti(g);return!0},f.Cz=function(a){this.x!==a&&(this.x=a,this.F())},f.Dz=function(a){this.y!==a&&(this.y=a,this.F())},f.zz=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.F()},f.Az=function(a,b){var d=a.fw(this);if(d){var e;d.$h?(e=d.$h(b,!0),d=d.$h(b,!1)):(e=d.x,d=d.y);if(this.x!==e||this.y!==d)this.x=e,this.y=d,this.F()}},f.gz=
function(a){0!==a&&(this.x+=Math.cos(this.j)*a,this.y+=Math.sin(this.j)*a,this.F())},f.fz=function(a,b){0!==b&&(this.x+=Math.cos(R(a))*b,this.y+=Math.sin(R(a))*b,this.F())},m.Pl=function(a){a.S(this.x)},m.Ql=function(a){a.S(this.y)},m.Tf=function(a){a.S(this.b.kf(this))});q&&(a.Ks=function(a,b){return gc(this.width,a,b)},a.Uy=function(a,b){return gc(this.height,a,b)},f.Yo=function(a){this.width!==a&&(this.width=a,this.F())},f.xz=function(a){this.height!==a&&(this.height=a,this.F())},f.Bz=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.F()},m.ju=function(a){a.S(this.width)},m.Zy=function(a){a.S(this.height)},m.Ry=function(a){this.ya();a.S(this.Da.left)},m.Ty=function(a){this.ya();a.S(this.Da.top)},m.Sy=function(a){this.ya();a.S(this.Da.right)},m.Qy=function(a){this.ya();a.S(this.Da.bottom)});l&&(a.Cs=function(a,b){return Na(this.j,R(b))<=R(a)},a.Ys=function(a){return Pa(this.j,R(a))},a.Ws=function(a,b){var d=Ka(a),e=Ka(b),f=Ia(this.j);return Pa(e,d)?Pa(f,d)&&
!Pa(f,e):!(!Pa(f,d)&&Pa(f,e))},f.Vt=function(a){a=R(Ha(a));isNaN(a)||this.j===a||(this.j=a,this.F())},f.rz=function(a){0===a||isNaN(a)||(this.j+=R(a),this.j=Ia(this.j),this.F())},f.Tt=function(a){0===a||isNaN(a)||(this.j-=R(a),this.j=Ia(this.j),this.F())},f.sz=function(a,b){var d=Oa(this.j,R(b),R(a));isNaN(d)||this.j===d||(this.j=d,this.F())},f.Ut=function(a,b,d){a=Oa(this.j,Math.atan2(d-this.y,b-this.x),R(a));isNaN(a)||this.j===a||(this.j=a,this.F())},f.$t=function(a,b){var d=Math.atan2(b-this.y,
a-this.x);isNaN(d)||this.j===d||(this.j=d,this.F())},m.Py=function(a){a.S(Ja(this.j))});g||(a.Is=function(a,b,d){return gc(this.Ea[a],b,d)},a.az=function(a){return this.Ea[a]},a.oz=function(a,b){var d=this.T(),e=d.$b();if(!e.length)return!1;var f=e[0],c=f,g=f.Ea[b],m,k,l;m=1;for(k=e.length;m<k;m++)if(f=e[m],l=f.Ea[b],0===a&&l<g||1===a&&l>g)g=l,c=f;d.Ti(c);return!0},a.mz=function(a){var b,d,e,f,c;if(this.b.$g().ki){c=this.T();if(c.V)for(c.V=!1,Q(c.i),Q(c.da),e=this.i,b=0,d=e.length;b<d;b++)f=e[b],
f.uid===a?c.da.push(f):c.i.push(f);else{e=b=0;for(d=c.i.length;b<d;b++)f=c.i[b],c.i[e]=f,f.uid===a?c.da.push(f):e++;za(c.i,e)}this.md();return!!c.i.length}f=this.b.bi(a);if(!f)return!1;c=this.T();if(!c.V&&-1===c.i.indexOf(f))return!1;if(this.R)for(a=f.type.Ma,b=0,d=a.length;b<d;b++){if(a[b]===this)return c.Ti(f),this.md(),!0}else if(f.type===this)return c.Ti(f),this.md(),!0;return!1},a.Jf=function(){return!0},a.pt=function(){return!0},f.Yt=function(a,b){var d=this.Ea;ka(d[a])?d[a]=ka(b)?b:parseFloat(b):
w(d[a])&&(d[a]=w(b)?b:b.toString())},f.As=function(a,b){var d=this.Ea;ka(d[a])?d[a]=ka(b)?d[a]+b:d[a]+parseFloat(b):w(d[a])&&(d[a]=w(b)?d[a]+b:d[a]+b.toString())},f.fu=function(a,b){var d=this.Ea;ka(d[a])&&(d[a]=ka(b)?d[a]-b:d[a]-parseFloat(b))},f.uz=function(a,b){this.Ea[a]=b?1:0},f.Ez=function(a){this.Ea[a]=1-this.Ea[a]},f.Ms=function(){this.b.Ec(this)},f.gt||(f.gt=function(a){var b,d;try{b=JSON.parse(a)}catch(e){return}this.b.Gk(this,b,!0);this.Nd&&this.Nd();if(this.L)for(a=0,b=this.L.length;a<
b;++a)d=this.L[a],d.Nd&&d.Nd()}),m.Yy=function(a){var b=a.vg.i.length,d,e,f;d=0;for(e=this.b.rd.length;d<e;d++)f=this.b.rd[d],a.vg.R?0<=f.type.Ma.indexOf(a.vg)&&b++:f.type===a.vg&&b++;a.pa(b)},m.qz=function(a){a.pa(a.vg.T().$b().length)},m.Fz=function(a){a.pa(this.uid)},m.$y=function(a){a.pa(this.di())},m.Ds||(m.Ds=function(a){a.Cc(JSON.stringify(this.b.bo(this,!0)))}));b&&(a.et=function(){return this.visible},f.bu=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.ja=!0)},a.Vy=function(a,b){return gc(kb(100*
this.opacity),a,b)},f.yz=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.ja=!0)},m.Opacity=function(a){a.S(kb(100*this.opacity))});e&&(a.bz=function(a){return a?this.n===a:!1},a.pz=function(a){var b=this.T(),d=b.$b();if(!d.length)return!1;var e=d[0],f=e,c,g;c=1;for(g=d.length;c<g;c++)if(e=d[c],0===a){if(e.n.index>f.n.index||e.n.index===f.n.index&&e.Td()>f.Td())f=e}else if(e.n.index<f.n.index||e.n.index===f.n.index&&e.Td()<f.Td())f=e;b.Ti(f);return!0},f.jz=function(){var a=
this.n,b=a.i;b.length&&b[b.length-1]===this||(a.zh(this,!1),a.Nh(this,!1),this.b.ja=!0)},f.hz=function(){var a=this.n,b=a.i;b.length&&b[0]===this||(a.zh(this,!1),a.Mx(this),this.b.ja=!0)},f.iz=function(a){a&&a!=this.n&&(this.n.zh(this,!0),this.n=a,a.Nh(this,!0),this.b.ja=!0)},f.Hz=function(a,b){var d=0===a;if(b){var e=b.Vp(this);e&&e.uid!==this.uid&&(this.n.index!==e.n.index&&(this.n.zh(this,!0),this.n=e.n,e.n.Nh(this,!0)),this.n.cx(this,e,d),this.b.ja=!0)}},m.ez=function(a){a.pa(this.n.br)},m.dz=
function(a){a.Cc(this.n.name)},m.Gz=function(a){a.pa(this.Td())});d&&(f.vz=function(a,b){if(this.b.A){var d=this.type.Im(b);if(!(0>d)){var e=1===a;this.Ve[d]!==e&&(this.Ve[d]=e,this.Jd(),this.b.ja=!0)}}},f.wz=function(a,b,d){if(this.b.A){var e=this.type.Im(a);0>e||(a=this.type.Y[e],e=this.Ta[e],b=Math.floor(b),0>b||b>=e.length||(1===this.b.A.jw(a.kb,b)&&(d/=100),e[b]!==d&&(e[b]=d,a.Fc&&(this.b.ja=!0))))}})};Mb=function(){this.Zl=this.Vl=!0;this.type.xj=!0;this.b.ja=!0;var c,p,g=this.Wl;c=0;for(p=
g.length;c<p;++c)g[c](this);this.n.Sc&&this.ya()};Nb=function(c){c&&this.Wl.push(c)};Pb=function(){if(this.Vl){var c=this.Da,p=this.Fb;c.set(this.x,this.y,this.x+this.width,this.y+this.height);c.offset(-this.ic*this.width,-this.jc*this.height);this.j?(c.offset(-this.x,-this.y),p.Pr(c,this.j),p.offset(this.x,this.y),p.jp(c)):p.Ef(c);c.normalize();this.Vl=!1;this.Jy()}};var c=new va(0,0,0,0);Qb=function(){if(this.n.Sc){var k=this.n.Mb,p=this.Da;c.set(k.ec(p.left),k.fc(p.top),k.ec(p.right),k.fc(p.bottom));
this.mc.Uh(c)||(this.mc.right<this.mc.left?k.update(this,null,c):k.update(this,this.mc,c),this.mc.Sg(c),this.n.Fd=!0)}};Rb=function(){if(this.Zl&&this.qd){this.ya();var k=this.type.Hj,p=this.Da;c.set(k.ec(p.left),k.fc(p.top),k.ec(p.right),k.fc(p.bottom));this.bf.Uh(c)||(this.bf.right<this.bf.left?k.update(this,null,c):k.update(this,this.bf,c),this.bf.Sg(c),this.Zl=!1)}};Ob=function(c,p){return this.Da.Bb(c,p)&&this.Fb.Bb(c,p)?this.Hf?this.Rz(c,p):this.ba&&!this.ba.pf()?(this.ba.Ye(this.width,this.height,
this.j),this.ba.Bb(c-this.x,p-this.y)):!0:!1};Ib=function(){this.type.Fl();return this.gg};Sb=function(){this.n.Ho();return this.Ld};Tb=function(){Q(this.wa);var c,p,g,r=!0;c=0;for(p=this.Ve.length;c<p;c++)this.Ve[c]&&(g=this.type.Y[c],this.wa.push(g),g.Bd||(r=!1));this.ws=!!this.wa.length;this.Ie=r};Jb=function(){return"Inst"+this.Ar};tb=function(c){if(c&&c.Jb&&c.type!=this){var p,g,r;p=0;for(g=c.siblings.length;p<g;p++)if(r=c.siblings[p],r.type==this)return r}c=this.T().$b();return c.length?c[0]:
null};ub=function(c){var p=this.T().$b();return p.length?p[c.di()%p.length]:null};sb=function(){if(this.Eh&&!this.R){var c,p;c=0;for(p=this.i.length;c<p;c++)this.i[c].gg=c;var g=c,r=this.b.rd;c=0;for(p=r.length;c<p;++c)r[c].type===this&&(r[c].gg=g++);this.Eh=!1}};Gb=function(c){if(c<this.i.length)return this.i[c];c-=this.i.length;var p=this.b.rd,g,r;g=0;for(r=p.length;g<r;++g)if(p[g].type===this){if(0===c)return p[g];--c}return null};vb=function(){return this.Oe[this.Pd]};wb=function(){this.Pd++;
this.Pd===this.Oe.length?this.Oe.push(new rb(this)):(this.Oe[this.Pd].V=!0,Q(this.Oe[this.Pd].da))};xb=function(){this.Pd++;this.Pd===this.Oe.length&&this.Oe.push(new rb(this));var c=this.Oe[this.Pd],p=this.Oe[this.Pd-1];p.V?c.V=!0:(c.V=!1,Aa(c.i,p.i));Q(c.da)};yb=function(){this.Pd--};zb=function(c){var p,g,r,q,l,b=0;if(!this.R)for(p=0,g=this.Ma.length;p<g;p++)for(l=this.Ma[p],r=0,q=l.Ra.length;r<q;r++){if(c===l.Ra[r].name)return this.I.lastBehIndex=b,l.Ra[r];b++}p=0;for(g=this.Ra.length;p<g;p++){if(c===
this.Ra[p].name)return this.I.lastBehIndex=b,this.Ra[p];b++}return null};Ab=function(c){return this.hk(c)?this.I.lastBehIndex:-1};Bb=function(c){var p,g;p=0;for(g=this.Y.length;p<g;p++)if(this.Y[p].name===c)return p;return-1};Cb=function(){if(this.Jb&&!this.R){var c,p,g,r,q,l,b;this.Fl();l=this.T();var e=l.V,d=(c=this.b.Va())&&c.Za&&c.Za.Pc;c=0;for(p=this.sc.length;c<p;c++)if(q=this.sc[c],q!==this&&(q.Fl(),b=q.T(),b.V=e,!e)){Q(b.i);g=0;for(r=l.i.length;g<r;++g)b.i[g]=q.Jm(l.i[g].gg);if(d)for(Q(b.da),
g=0,r=l.da.length;g<r;++g)b.da[g]=q.Jm(l.da[g].gg)}}};Hb=function(){return"Type"+this.ca};gc=function(c,p,g){if("undefined"===typeof c||"undefined"===typeof g)return!1;switch(p){case 0:return c===g;case 1:return c!==g;case 2:return c<g;case 3:return c<=g;case 4:return c>g;case 5:return c>=g;default:return!1}}})();var oc={};function sc(c){this.b=c}
(function(){function c(a){-1===ob.indexOf(a)&&ob.push(a)}function k(a){var b=a.p,d;try{d=b.play()}catch(e){c(a);return}d?d.catch(function(){c(a)}):Ic&&!C.Mc&&c(a)}function p(){var a,b,d,e;Jc||Ea||!u||(g(),"running"===u.state&&(Jc=!0));var f=ob.slice(0);Q(ob);if(!da)for(a=0,b=f.length;a<b;++a)d=f[a],d.Pa||d.vc||(e=d.p.play())&&e.catch(function(){c(d)})}function g(){"suspended"===u.state&&u.resume&&u.resume();if(u.createBuffer){var a=u.createBuffer(1,220,22050),b=u.createBufferSource();b.buffer=a;b.connect(u.destination);
d(b)}}function r(a){a=Math.pow(10,a/20);isFinite(a)||(a=0);0>a&&(a=0);1<a&&(a=1);return a}function q(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function l(a){a=a.toLowerCase();return V.hasOwnProperty(a)&&V[a].length?V[a][0].Jc():u.destination}function b(){return u.createGain?u.createGain():u.createGainNode()}function e(a){return u.createDelay?u.createDelay(a):u.createDelayNode(a)}function d(a,b){a.start?a.start(b||0):a.noteOn(b||0)}function a(a,b,d,e){a.start?a.start(e||0,b):a.noteGrainOn(e||
0,b,d-b)}function f(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}function m(a,d,e,c,f,g){this.type="filter";this.xb=[a,d,e,c,f,g];this.na=b();this.X=b();this.X.gain.value=g;this.U=b();this.U.gain.value=1-g;this.fb=u.createBiquadFilter();this.fb.type="number"===typeof this.fb.type?a:Nc[a];this.fb.frequency.value=d;this.fb.detune&&(this.fb.detune.value=e);this.fb.Q.value=c;this.fb.gain.value=f;this.na.connect(this.fb);this.na.connect(this.U);this.fb.connect(this.X)}function h(a,d,c){this.type="delay";
this.xb=[a,d,c];this.na=b();this.X=b();this.X.gain.value=c;this.U=b();this.U.gain.value=1-c;this.Ki=b();this.Xc=e(a);this.Xc.delayTime.value=a;this.Rj=b();this.Rj.gain.value=d;this.na.connect(this.Ki);this.na.connect(this.U);this.Ki.connect(this.X);this.Ki.connect(this.Xc);this.Xc.connect(this.Rj);this.Rj.connect(this.Ki)}function x(a,d,e,c){this.type="convolve";this.xb=[d,e,c];this.na=b();this.X=b();this.X.gain.value=e;this.U=b();this.U.gain.value=1-e;this.Qf=u.createConvolver();a&&(this.Qf.normalize=
d,this.Qf.buffer=a);this.na.connect(this.Qf);this.na.connect(this.U);this.Qf.connect(this.X)}function F(a,c,f,g,h){this.type="flanger";this.xb=[a,c,f,g,h];this.na=b();this.U=b();this.U.gain.value=1-h/2;this.X=b();this.X.gain.value=h/2;this.ak=b();this.ak.gain.value=g;this.Xc=e(a+c);this.Xc.delayTime.value=a;this.Eb=u.createOscillator();this.Eb.frequency.value=f;this.yc=b();this.yc.gain.value=c;this.na.connect(this.Xc);this.na.connect(this.U);this.Xc.connect(this.X);this.Xc.connect(this.ak);this.ak.connect(this.Xc);
this.Eb.connect(this.yc);this.yc.connect(this.Xc.delayTime);d(this.Eb)}function H(a,e,c,f,g,h){this.type="phaser";this.xb=[a,e,c,f,g,h];this.na=b();this.U=b();this.U.gain.value=1-h/2;this.X=b();this.X.gain.value=h/2;this.fb=u.createBiquadFilter();this.fb.type="number"===typeof this.fb.type?7:"allpass";this.fb.frequency.value=a;this.fb.detune&&(this.fb.detune.value=e);this.fb.Q.value=c;this.Eb=u.createOscillator();this.Eb.frequency.value=g;this.yc=b();this.yc.gain.value=f;this.na.connect(this.fb);
this.na.connect(this.U);this.fb.connect(this.X);this.Eb.connect(this.yc);this.yc.connect(this.fb.frequency);d(this.Eb)}function n(a){this.type="gain";this.xb=[a];this.ua=b();this.ua.gain.value=a}function t(a,e){this.type="tremolo";this.xb=[a,e];this.ua=b();this.ua.gain.value=1-e/2;this.Eb=u.createOscillator();this.Eb.frequency.value=a;this.yc=b();this.yc.gain.value=e/2;this.Eb.connect(this.yc);this.yc.connect(this.ua.gain);d(this.Eb)}function K(a,e){this.type="ringmod";this.xb=[a,e];this.na=b();this.X=
b();this.X.gain.value=e;this.U=b();this.U.gain.value=1-e;this.aj=b();this.aj.gain.value=0;this.Eb=u.createOscillator();this.Eb.frequency.value=a;this.Eb.connect(this.aj.gain);d(this.Eb);this.na.connect(this.aj);this.na.connect(this.U);this.aj.connect(this.X)}function B(a,d,e,c,f){this.type="distortion";this.xb=[a,d,e,c,f];this.na=b();this.cl=b();this.bl=b();this.jy(e,Math.pow(10,c/20));this.X=b();this.X.gain.value=f;this.U=b();this.U.gain.value=1-f;this.Kl=u.createWaveShaper();this.Pj=new Float32Array(65536);
this.Wv(a,d);this.Kl.Pj=this.Pj;this.na.connect(this.cl);this.na.connect(this.U);this.cl.connect(this.Kl);this.Kl.connect(this.bl);this.bl.connect(this.X)}function y(a,b,d,e,c){this.type="compressor";this.xb=[a,b,d,e,c];this.ua=u.createDynamicsCompressor();try{this.ua.threshold.value=a,this.ua.knee.value=b,this.ua.ratio.value=d,this.ua.attack.value=e,this.ua.release.value=c}catch(f){}}function P(a,b){this.type="analyser";this.xb=[a,b];this.ua=u.createAnalyser();this.ua.fftSize=a;this.ua.smoothingTimeConstant=
b;this.Tv=new Float32Array(this.ua.frequencyBinCount);this.Sr=new Uint8Array(a);this.Si=0}function O(){this.la=null;this.Ik=0}function M(a,d){this.src=a;this.ga=E;this.Vd=d;this.wj=!1;var e=this;this.rh=this.xh=null;this.wg=[];this.nl=0;this.Ko=this.Zj=this.Xr=this.Wk=!1;1===E&&d&&!pb&&(this.ga=0,this.xh=b());this.je=this.ta=null;var c;switch(this.ga){case 0:this.ta=new Audio;this.ta.crossOrigin="anonymous";this.ta.addEventListener("canplaythrough",function(){e.Ko=!0});1===E&&u.createMediaElementSource&&
!/wiiu/i.test(navigator.userAgent)&&(this.Xr=!0,this.ta.addEventListener("canplay",function(){!e.rh&&e.ta&&(e.rh=u.createMediaElementSource(e.ta),e.rh.connect(e.xh))}));this.ta.autoplay=!1;this.ta.Pz="auto";this.ta.src=a;break;case 1:C.vk?C.Jp(a,function(a){e.je=a;e.zp()},function(){e.Zj=!0}):(c=new XMLHttpRequest,c.open("GET",a,!0),c.responseType="arraybuffer",c.onload=function(){e.je=c.response;e.zp()},c.onerror=function(){e.Zj=!0},c.send());break;case 2:this.ta=!0;break;case 3:this.ta=!0}}function v(a,
d){var e=this;this.tag=d;this.Pa=this.Sd=!0;this.src=a.src;this.buffer=a;this.ga=E;this.Vd=a.Vd;this.playbackRate=1;this.dh=!0;this.vc=this.Qc=!1;this.nc=0;this.si=this.gh=this.Wd=!1;this.volume=1;this.Ln=function(a){if(!e.vc&&!e.Qc){var b=this;b||(b=a.target);b===e.vj&&(e.dh=!0,e.Pa=!0,na=e.tag,C.trigger(sc.prototype.k.sj,J))}};this.vj=null;this.eh=1===S&&!this.Vd||2===S;this.sh=1;this.startTime=this.eh?C.pb.W:C.Se.W;this.hb=this.nb=null;this.Zd=!1;this.Kb=null;this.lr=this.kr=this.jr=this.ir=this.nr=
this.mr=0;this.p=null;var c=!1;1!==this.ga||0!==this.buffer.ga||this.buffer.Xr||(this.ga=0);switch(this.ga){case 0:this.Vd?(this.p=a.ta,c=!a.wj,a.wj=!0):(this.p=new Audio,this.p.crossOrigin="anonymous",this.p.autoplay=!1,this.p.src=a.ta.src,c=!0);c&&this.p.addEventListener("ended",function(){na=e.tag;e.Pa=!0;C.trigger(sc.prototype.k.sj,J)});break;case 1:this.nb=b();this.nb.connect(l(d));1===this.buffer.ga?a.ta&&(this.p=u.createBufferSource(),this.p.buffer=a.ta,this.p.connect(this.nb)):(this.p=this.buffer.ta,
this.buffer.xh.connect(this.nb),this.buffer.wj||(this.buffer.wj=!0,this.buffer.ta.addEventListener("ended",function(){na=e.tag;e.Pa=!0;C.trigger(sc.prototype.k.sj,J)})));break;case 2:this.p=new window.Media(ga+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(e.dh=!0,e.Pa=!0,na=e.tag,C.trigger(sc.prototype.k.sj,J))});break;case 3:this.p=!0}}function L(a,b){V.hasOwnProperty(a)?V[a].push(b):V[a]=[b];var d,e,c,f,g=u.destination;if(V.hasOwnProperty(a)&&(c=V[a],c.length))for(g=c[0].Jc(),
d=0,e=c.length;d<e;d++)f=c[d],d+1===e?f.Vc(u.destination):f.Vc(c[d+1].Jc());Q(Ra);if(a.length)for(d=0,e=A.length;d<e;d++)c=A[d],lb(a,c.tag)&&Ra.push(c);else D&&!D.eg()&&(Q(Ra),Ra[0]=D);d=0;for(e=Ra.length;d<e;d++)Ra[d].Ux(g);Ma&&Fb===a&&(Ma.disconnect(),Ma.connect(g))}function X(){}function T(){}var U=sc.prototype;U.aa=function(a){this.za=a;this.b=a.b};U.aa.prototype.H=function(){};var C=null,J=null,na="",ga="",E=0,u=null,z=[],A=[],D=null,G=!1,S=0,da=!1,N=1,ha=0,Y=0,Ea=!1,Eb=1,Db=1,Ec=10,Gc=1E4,Hc=
1,Ma=null,Fb="",Ic=!1,ob=[],pb=!1,Jc=!1;document.addEventListener("pointerup",p,!0);document.addEventListener("touchend",p,!0);document.addEventListener("click",p,!0);document.addEventListener("keydown",p,!0);document.addEventListener("gamepadconnected",p,!0);var V={},Nc="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");m.prototype.Vc=function(a){this.X.disconnect();this.X.connect(a);this.U.disconnect();this.U.connect(a)};m.prototype.remove=function(){this.na.disconnect();
this.fb.disconnect();this.X.disconnect();this.U.disconnect()};m.prototype.Jc=function(){return this.na};h.prototype.Vc=function(a){this.X.disconnect();this.X.connect(a);this.U.disconnect();this.U.connect(a)};h.prototype.remove=function(){this.na.disconnect();this.Ki.disconnect();this.Xc.disconnect();this.Rj.disconnect();this.X.disconnect();this.U.disconnect()};h.prototype.Jc=function(){return this.na};x.prototype.Vc=function(a){this.X.disconnect();this.X.connect(a);this.U.disconnect();this.U.connect(a)};
x.prototype.remove=function(){this.na.disconnect();this.Qf.disconnect();this.X.disconnect();this.U.disconnect()};x.prototype.Jc=function(){return this.na};F.prototype.Vc=function(a){this.U.disconnect();this.U.connect(a);this.X.disconnect();this.X.connect(a)};F.prototype.remove=function(){this.na.disconnect();this.Xc.disconnect();this.Eb.disconnect();this.yc.disconnect();this.U.disconnect();this.X.disconnect();this.ak.disconnect()};F.prototype.Jc=function(){return this.na};H.prototype.Vc=function(a){this.U.disconnect();
this.U.connect(a);this.X.disconnect();this.X.connect(a)};H.prototype.remove=function(){this.na.disconnect();this.fb.disconnect();this.Eb.disconnect();this.yc.disconnect();this.U.disconnect();this.X.disconnect()};H.prototype.Jc=function(){return this.na};n.prototype.Vc=function(a){this.ua.disconnect();this.ua.connect(a)};n.prototype.remove=function(){this.ua.disconnect()};n.prototype.Jc=function(){return this.ua};t.prototype.Vc=function(a){this.ua.disconnect();this.ua.connect(a)};t.prototype.remove=
function(){this.Eb.disconnect();this.yc.disconnect();this.ua.disconnect()};t.prototype.Jc=function(){return this.ua};K.prototype.Vc=function(a){this.X.disconnect();this.X.connect(a);this.U.disconnect();this.U.connect(a)};K.prototype.remove=function(){this.Eb.disconnect();this.aj.disconnect();this.na.disconnect();this.X.disconnect();this.U.disconnect()};K.prototype.Jc=function(){return this.na};B.prototype.jy=function(a,b){.01>a&&(a=.01);this.cl.gain.value=a;this.bl.gain.value=Math.pow(1/a,.6)*b};
B.prototype.shape=function(a,b,d){var e=1.05*d*b-b;d=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+e*(1-Math.exp(-(1/e)*(a-b)));return b*d};B.prototype.Wv=function(a,b){for(var d=Math.pow(10,a/20),e=Math.pow(10,b/20),c=0,f=0;32768>f;++f)c=f/32768,c=this.shape(c,d,e),this.Pj[32768+f]=c,this.Pj[32768-f-1]=-c};B.prototype.Vc=function(a){this.X.disconnect();this.X.connect(a);this.U.disconnect();this.U.connect(a)};B.prototype.remove=function(){this.na.disconnect();this.cl.disconnect();this.Kl.disconnect();this.bl.disconnect();
this.X.disconnect();this.U.disconnect()};B.prototype.Jc=function(){return this.na};y.prototype.Vc=function(a){this.ua.disconnect();this.ua.connect(a)};y.prototype.remove=function(){this.ua.disconnect()};y.prototype.Jc=function(){return this.ua};P.prototype.Fa=function(){this.ua.getFloatFrequencyData(this.Tv);this.ua.getByteTimeDomainData(this.Sr);for(var a=this.ua.fftSize,b=0,d=this.Si=0,e=0;b<a;b++)e=(this.Sr[b]-128)/128,0>e&&(e=-e),this.Si<e&&(this.Si=e),d+=e*e;this.Si=q(this.Si);q(Math.sqrt(d/
a))};P.prototype.Vc=function(a){this.ua.disconnect();this.ua.connect(a)};P.prototype.remove=function(){this.ua.disconnect()};P.prototype.Jc=function(){return this.ua};O.prototype.Bh=function(a){this.la=a};O.prototype.lk=function(){return!!this.la};O.prototype.Fa=function(){};M.prototype.Vx=function(){var a,b,d,e;d=a=0;for(b=A.length;a<b;++a)e=A[a],A[d]=e,e.buffer===this?e.stop():++d;A.length=d;this.rh&&(this.rh.disconnect(),this.rh=null);this.xh&&(this.xh.disconnect(),this.xh=null);this.je=this.ta=
null};M.prototype.zp=function(){if(!this.ta&&this.je){var a=this;if(u.decodeAudioData)u.decodeAudioData(this.je,function(b){a.ta=b;a.je=null;var d,e,c;if(ja(a.Zk)||da)ja(a.Kj)||(d=a.Kj.Qf,d.normalize=a.$q,d.buffer=b);else if(a.wg.length){d=0;for(e=a.wg.length;d<e;d++){b=a.wg[d];c=new v(a,b.wo);c.ho(!0);if("undefined"!==typeof b.cr&&(b.la=C.bi(b.cr),!b.la))continue;if(b.la){var f=Qa(b.la.x,b.la.y,-b.la.n.Ua(),ha,Y,!0),g=Qa(b.la.x,b.la.y,-b.la.n.Ua(),ha,Y,!1);c.ql(f,g,Ga(b.la.j-b.la.n.Ua()),b.nk,b.Pk,
b.Tk);c.Bh(b.la)}else c.ql(b.x,b.y,b.Ca,b.nk,b.Pk,b.Tk);c.play(a.Fn,a.Jo,a.nl);a.Wk&&c.pause();A.push(c)}Q(a.wg)}else c=new v(a,a.Zk||""),c.play(a.Fn,a.Jo,a.nl),a.Wk&&c.pause(),A.push(c)},function(){a.Zj=!0});else if(this.ta=u.createBuffer(this.je,!1),this.je=null,ja(this.Zk)||da)ja(this.Kj)||(b=this.Kj.Qf,b.normalize=this.$q,b.buffer=this.ta);else{var b=new v(this,this.Zk);b.play(this.Fn,this.Jo,this.nl);this.Wk&&b.pause();A.push(b)}}};M.prototype.lq=function(){switch(this.ga){case 0:var a=4<=this.ta.readyState;
a&&(this.Ko=!0);return a||this.Ko;case 1:return!!this.je||!!this.ta;case 2:return!0;case 3:return!0}return!1};M.prototype.Nw=function(){switch(this.ga){case 0:return this.lq();case 1:return!!this.ta;case 2:return!0;case 3:return!0}return!1};M.prototype.Cw=function(){switch(this.ga){case 0:return!!this.ta.error;case 1:return this.Zj}return!1};v.prototype.eg=function(){switch(this.ga){case 0:return this.p.ended;case 1:return 1===this.buffer.ga?!this.Sd&&!this.Pa&&this.p.loop||this.vc?!1:this.dh:this.p.ended;
case 2:return this.dh;case 3:!0}return!0};v.prototype.xu=function(){return this.Sd||this.Pa?!0:this.eg()};v.prototype.ho=function(a){1===E&&(!this.Zd&&a?this.nb&&(this.hb||(this.hb=u.createPanner(),this.hb.panningModel="number"===typeof this.hb.panningModel?Eb:["equalpower","HRTF","soundfield"][Eb],this.hb.distanceModel="number"===typeof this.hb.distanceModel?Db:["linear","inverse","exponential"][Db],this.hb.refDistance=Ec,this.hb.maxDistance=Gc,this.hb.rolloffFactor=Hc),this.nb.disconnect(),this.nb.connect(this.hb),
this.hb.connect(l(this.tag)),this.Zd=!0):this.Zd&&!a&&this.nb&&(this.hb.disconnect(),this.nb.disconnect(),this.nb.connect(l(this.tag)),this.Zd=!1))};v.prototype.ql=function(a,b,d,e,c,f){this.Zd&&1===E&&(this.hb.setPosition(a,b,0),this.hb.setOrientation(Math.cos(R(d)),Math.sin(R(d)),0),this.hb.coneInnerAngle=e,this.hb.coneOuterAngle=c,this.hb.coneOuterGain=f,this.mr=a,this.nr=b,this.ir=d,this.jr=e,this.kr=c,this.lr=f)};v.prototype.Bh=function(a){this.Zd&&1===E&&(this.Kb||(this.Kb=new O),this.Kb.Bh(a))};
v.prototype.Fa=function(a){if(this.Zd&&1===E&&this.Kb&&this.Kb.lk()&&this.qi()){this.Kb.Fa(a);a=this.Kb.la;var b=Qa(a.x,a.y,-a.n.Ua(),ha,Y,!0),d=Qa(a.x,a.y,-a.n.Ua(),ha,Y,!1);this.hb.setPosition(b,d,0);b=0;"undefined"!==typeof this.Kb.la.j&&(b=a.j-a.n.Ua(),this.hb.setOrientation(Math.cos(b),Math.sin(b),0))}};v.prototype.play=function(b,e,c,f){var g=this.p;this.Wd=b;this.volume=e;c=c||0;f=f||0;switch(this.ga){case 0:1!==g.playbackRate&&(g.playbackRate=1);g.volume!==e*N&&(g.volume=e*N);g.loop!==b&&
(g.loop=b);g.muted&&(g.muted=!1);if(g.currentTime!==c)try{g.currentTime=c}catch(h){}k(this);break;case 1:this.muted=!1;this.sh=1;if(1===this.buffer.ga)this.nb.gain.value=e*N,this.Sd||(this.p=u.createBufferSource(),this.p.buffer=this.buffer.ta,this.p.connect(this.nb)),this.p.onended=this.Ln,this.vj=this.p,this.p.loop=b,this.dh=!1,0===c?d(this.p,f):a(this.p,c,this.Zf(),f);else{1!==g.playbackRate&&(g.playbackRate=1);g.loop!==b&&(g.loop=b);g.volume=e*N;if(g.currentTime!==c)try{g.currentTime=c}catch(m){}k(this)}break;
case 2:(!this.Sd&&this.Pa||0!==c)&&g.seekTo(c);g.play();this.dh=!1;break;case 3:C.kc?AppMobi.context.playSound(this.src,b):AppMobi.player.playSound(this.src,b)}this.playbackRate=1;this.startTime=(this.eh?C.pb.W:C.Se.W)-c;this.vc=this.Pa=this.Sd=!1};v.prototype.stop=function(){switch(this.ga){case 0:this.p.paused||this.p.pause();break;case 1:1===this.buffer.ga?f(this.p):this.p.paused||this.p.pause();break;case 2:this.p.stop();break;case 3:C.kc&&AppMobi.context.stopSound(this.src)}this.Pa=!0;this.vc=
!1};v.prototype.pause=function(){if(!(this.Sd||this.Pa||this.eg()||this.vc)){switch(this.ga){case 0:this.p.paused||this.p.pause();break;case 1:1===this.buffer.ga?(this.nc=this.Lm(!0),this.Wd&&(this.nc=this.nc%this.Zf()),this.vc=!0,f(this.p)):this.p.paused||this.p.pause();break;case 2:this.p.pause();break;case 3:C.kc&&AppMobi.context.stopSound(this.src)}this.vc=!0}};v.prototype.Zx=function(){if(!(this.Sd||this.Pa||this.eg())&&this.vc){switch(this.ga){case 0:k(this);break;case 1:1===this.buffer.ga?
(this.p=u.createBufferSource(),this.p.buffer=this.buffer.ta,this.p.connect(this.nb),this.p.onended=this.Ln,this.vj=this.p,this.p.loop=this.Wd,this.nb.gain.value=N*this.volume*this.sh,this.Gl(),this.startTime=(this.eh?C.pb.W:C.Se.W)-this.nc/(this.playbackRate||.001),a(this.p,this.nc,this.Zf())):k(this);break;case 2:this.p.play();break;case 3:C.kc&&AppMobi.context.resumeSound(this.src)}this.vc=!1}};v.prototype.seek=function(a){if(!(this.Sd||this.Pa||this.eg()))switch(this.ga){case 0:try{this.p.currentTime=
a}catch(b){}break;case 1:if(1===this.buffer.ga)this.vc?this.nc=a:(this.pause(),this.nc=a,this.Zx());else try{this.p.currentTime=a}catch(d){}break;case 3:C.kc&&AppMobi.context.seekSound(this.src,a)}};v.prototype.Ux=function(a){1===this.ga&&(this.Zd?(this.hb.disconnect(),this.hb.connect(a)):(this.nb.disconnect(),this.nb.connect(a)))};v.prototype.Zf=function(){var a=0;switch(this.ga){case 0:"undefined"!==typeof this.p.duration&&(a=this.p.duration);break;case 1:a=this.buffer.ta.duration;break;case 2:a=
this.p.getDuration();break;case 3:C.kc&&(a=AppMobi.context.getDurationSound(this.src))}return a};v.prototype.Lm=function(a){var b=this.Zf(),d=0;switch(this.ga){case 0:"undefined"!==typeof this.p.currentTime&&(d=this.p.currentTime);break;case 1:if(1===this.buffer.ga){if(this.vc)return this.nc;d=(this.eh?C.pb.W:C.Se.W)-this.startTime}else"undefined"!==typeof this.p.currentTime&&(d=this.p.currentTime);break;case 3:C.kc&&(d=AppMobi.context.getPlaybackTimeSound(this.src))}a&&(d*=this.playbackRate);!this.Wd&&
d>b&&(d=b);return d};v.prototype.qi=function(){return!this.vc&&!this.Sd&&!this.Pa&&!this.eg()};v.prototype.ty=function(){return!this.Sd&&!this.Pa&&!this.eg()};v.prototype.Hy=function(){var a=this.volume*N;isFinite(a)||(a=0);switch(this.ga){case 0:"undefined"!==typeof this.p.volume&&this.p.volume!==a&&(this.p.volume=a);break;case 1:1===this.buffer.ga?this.nb.gain.value=a*this.sh:"undefined"!==typeof this.p.volume&&this.p.volume!==a&&(this.p.volume=a)}};v.prototype.Wj=function(a){switch(this.ga){case 0:this.p.muted!==
!!a&&(this.p.muted=!!a);break;case 1:1===this.buffer.ga?(this.sh=a?0:1,this.nb.gain.value=N*this.volume*this.sh):this.p.muted!==!!a&&(this.p.muted=!!a)}};v.prototype.my=function(){this.gh=!0;this.Wj(this.gh||this.si)};v.prototype.Mr=function(a){this.si=!!a;this.Wj(this.gh||this.si)};v.prototype.Gl=function(){var a=this.playbackRate;this.eh&&(a*=C.Jg);switch(this.ga){case 0:this.p.playbackRate!==a&&(this.p.playbackRate=a);break;case 1:1===this.buffer.ga?this.p.playbackRate.value!==a&&(this.p.playbackRate.value=
a):this.p.playbackRate!==a&&(this.p.playbackRate=a)}};v.prototype.oy=function(b){switch(this.ga){case 0:b?this.qi()?(this.Qc=!0,this.p.pause()):this.Qc=!1:this.Qc&&(this.p.play(),this.Qc=!1);break;case 1:b?this.qi()?(this.Qc=!0,1===this.buffer.ga?(this.nc=this.Lm(!0),this.Wd&&(this.nc=this.nc%this.Zf()),f(this.p)):this.p.pause()):this.Qc=!1:this.Qc&&(1===this.buffer.ga?(this.p=u.createBufferSource(),this.p.buffer=this.buffer.ta,this.p.connect(this.nb),this.p.onended=this.Ln,this.vj=this.p,this.p.loop=
this.Wd,this.nb.gain.value=N*this.volume*this.sh,this.Gl(),this.startTime=(this.eh?C.pb.W:C.Se.W)-this.nc/(this.playbackRate||.001),a(this.p,this.nc,this.Zf())):this.p.play(),this.Qc=!1);break;case 2:b?this.qi()?(this.p.pause(),this.Qc=!0):this.Qc=!1:this.Qc&&(this.Qc=!1,this.p.play())}};U.P=function(a){this.type=a;C=this.b=a.b;J=this;this.wc=null;this.Ai=-600;this.b.vk&&(pb=!0);!(this.b.vi||this.b.qk&&(this.b.dn||this.b.rk))||this.b.tk||this.b.ob||this.b.jq||pb||(Ic=!0);u=null;"undefined"!==typeof AudioContext?
(E=1,u=new AudioContext):"undefined"!==typeof webkitAudioContext&&(E=1,u=new webkitAudioContext);this.b.vi&&u&&(u.close&&u.close(),"undefined"!==typeof AudioContext?u=new AudioContext:"undefined"!==typeof webkitAudioContext&&(u=new webkitAudioContext));1!==E&&(this.b.ue&&"undefined"!==typeof window.Media?E=2:this.b.kq&&(E=3));2===E&&(ga=location.href,a=ga.lastIndexOf("/"),-1<a&&(ga=ga.substr(0,a+1)),ga=ga.replace("file://",""));if(this.b.Ow&&this.b.Qw&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),
this.b.Ec(this);else{if(this.b.kc)G=this.b.qk;else try{G=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')&&!this.b.nn}catch(b){G=!1}this.b.Al(this)}};var sa=U.P.prototype;sa.H=function(){this.b.Qg=this;S=this.q[0];this.Ge=this.q[1];this.Gx=0!==this.q[2];this.Yq=0;Eb=this.q[3];Db=this.q[4];this.Ai=-this.q[5];Ec=this.q[6];Gc=this.q[7];Hc=this.q[8];this.wc=new O;var a=this.b.N||this.b.width,b=this.b.M||this.b.height;1===E&&(u.listener.setPosition(a/2,b/2,this.Ai),u.listener.setOrientation(0,0,
1,0,-1,0),window.c2OnAudioMicStream=function(a,b){Ma&&Ma.disconnect();Fb=b.toLowerCase();Ma=u.createMediaStreamSource(a);Ma.connect(l(Fb))});this.b.cp(function(a){J.yx(a)});var d=this;this.b.Rl(function(a){d.tx(a)})};sa.tx=function(a){var b,d,e;b=0;for(d=A.length;b<d;b++)e=A[b],e.Kb&&e.Kb.la===a&&(e.Kb.la=null,e.Zd&&e.qi()&&e.Wd&&e.stop());this.wc.la===a&&(this.wc.la=null)};sa.bb=function(){var a={silent:da,masterVolume:N,listenerZ:this.Ai,listenerUid:this.wc.lk()?this.wc.la.uid:-1,playing:[],effects:{}},
b=a.playing,d,e,c,f,g,h;d=0;for(e=A.length;d<e;d++)c=A[d],!c.ty()||3===this.Ge||c.Vd&&1===this.Ge||!c.Vd&&2===this.Ge||(f=c.Lm(),c.Wd&&(f=f%c.Zf()),f={tag:c.tag,buffersrc:c.buffer.src,is_music:c.Vd,playbackTime:f,volume:c.volume,looping:c.Wd,muted:c.gh,playbackRate:c.playbackRate,paused:c.vc,resume_position:c.nc},c.Zd&&(f.pan={},h=f.pan,c.Kb&&c.Kb.lk()?h.objUid=c.Kb.la.uid:(h.x=c.mr,h.y=c.nr,h.a=c.ir),h.ia=c.jr,h.oa=c.kr,h.og=c.lr),b.push(f));b=a.effects;for(g in V)if(V.hasOwnProperty(g)){c=[];d=
0;for(e=V[g].length;d<e;d++)c.push({type:V[g][d].type,params:V[g][d].xb});b[g]=c}return a};var Wa=[];sa.rb=function(a){var b=a.silent;N=a.masterVolume;this.Ai=a.listenerZ;this.wc.Bh(null);var d=a.listenerUid;-1!==d&&(this.wc.Ik=d,Wa.push(this.wc));var d=a.playing,e,c,f,g,l,p,k,r,q,v,u;if(3!==this.Ge)for(e=0,c=A.length;e<c;e++)q=A[e],q.Vd&&1===this.Ge||(q.Vd||2!==this.Ge)&&q.stop();for(l in V)if(V.hasOwnProperty(l))for(e=0,c=V[l].length;e<c;e++)V[l][e].remove();Za(V);for(l in a.effects)if(a.effects.hasOwnProperty(l))for(p=
a.effects[l],e=0,c=p.length;e<c;e++)switch(f=p[e].type,v=p[e].params,f){case "filter":L(l,new m(v[0],v[1],v[2],v[3],v[4],v[5]));break;case "delay":L(l,new h(v[0],v[1],v[2]));break;case "convolve":f=v[2];q=this.Zh(f,!1);q.ta?f=new x(q.ta,v[0],v[1],f):(f=new x(null,v[0],v[1],f),q.$q=v[0],q.Kj=f);L(l,f);break;case "flanger":L(l,new F(v[0],v[1],v[2],v[3],v[4]));break;case "phaser":L(l,new H(v[0],v[1],v[2],v[3],v[4],v[5]));break;case "gain":L(l,new n(v[0]));break;case "tremolo":L(l,new t(v[0],v[1]));break;
case "ringmod":L(l,new K(v[0],v[1]));break;case "distortion":L(l,new B(v[0],v[1],v[2],v[3],v[4]));break;case "compressor":L(l,new y(v[0],v[1],v[2],v[3],v[4]));break;case "analyser":L(l,new P(v[0],v[1]))}e=0;for(c=d.length;e<c;e++)3===this.Ge||(a=d[e],f=a.buffersrc,g=a.is_music,l=a.tag,p=a.playbackTime,k=a.looping,r=a.volume,u=(v=a.pan)&&v.hasOwnProperty("objUid")?v.objUid:-1,g&&1===this.Ge)||!g&&2===this.Ge||((q=this.Rp(f,l,g,k,r))?(q.nc=a.resume_position,q.ho(!!v),q.play(k,r,p),q.Gl(),q.Hy(),q.Wj(q.gh||
q.si),a.paused&&q.pause(),a.muted&&q.my(),q.Wj(q.gh||q.si),v&&(-1!==u?(q.Kb=q.Kb||new O,q.Kb.Ik=u,Wa.push(q.Kb)):q.ql(v.x,v.y,v.a,v.ia,v.oa,v.og))):(q=this.Zh(f,g),q.nl=p,q.Wk=a.paused,v&&(-1!==u?q.wg.push({cr:u,nk:v.ia,Pk:v.oa,Tk:v.og,wo:l}):q.wg.push({x:v.x,y:v.y,Ca:v.a,nk:v.ia,Pk:v.oa,Tk:v.og,wo:l}))));if(b&&!da){e=0;for(c=A.length;e<c;e++)A[e].Mr(!0);da=!0}else if(!b&&da){e=0;for(c=A.length;e<c;e++)A[e].Mr(!1);da=!1}};sa.Nd=function(){var a,b,d,e;a=0;for(b=Wa.length;a<b;a++)d=Wa[a],e=this.b.bi(d.Ik),
d.Bh(e),d.Ik=-1,e&&(ha=e.x,Y=e.y);Q(Wa)};sa.yx=function(a){if(!this.Gx){!a&&u&&u.resume&&(u.resume(),Ea=!1);var b,d;b=0;for(d=A.length;b<d;b++)A[b].oy(a);a&&u&&u.suspend&&(u.suspend(),Ea=!0)}};sa.Fa=function(){var a=this.b.Tf,b,d,e;b=0;for(d=A.length;b<d;b++)e=A[b],e.Fa(a),0!==S&&e.Gl();var c,f;for(c in V)if(V.hasOwnProperty(c))for(e=V[c],b=0,d=e.length;b<d;b++)f=e[b],f.Fa&&f.Fa();1===E&&this.wc.lk()&&(this.wc.Fa(a),ha=this.wc.la.x,Y=this.wc.la.y,u.listener.setPosition(this.wc.la.x,this.wc.la.y,this.Ai))};
var Xa=[];sa.ny=function(a){var b,d,e,c,f,g=0;b=0;for(d=a.length;b<d;++b)if(e=a[b],c=e[0],e=2*e[1],(f=4<c.length&&".ogg"===c.substr(c.length-4))&&G||!f&&!G)Xa.push({filename:c,size:e,la:null}),g+=e;return g};sa.wy=function(){var a,b,d,e;a=0;for(b=Xa.length;a<b;++a)d=Xa[a],e=this.b.Am+d.filename,d.la=this.Zh(e,!1)};sa.gw=function(){var a=0,b,d,e;b=0;for(d=Xa.length;b<d;++b)e=Xa[b],e.la.Nw()||e.la.Cw()||this.b.ob||this.b.rk?a+=e.size:e.la.lq()&&(a+=Math.floor(e.size/2));return a};sa.Wx=function(){var a,
b,d,e;d=a=0;for(b=z.length;a<b;++a)e=z[a],z[d]=e,e.Vd?e.Vx():++d;z.length=d};sa.Zh=function(a,b){var d,e,c,f=null;d=0;for(e=z.length;d<e;d++)if(c=z[d],c.src===a){f=c;break}f||(pb&&b&&this.Wx(),f=new M(a,b),z.push(f));return f};sa.Rp=function(a,b,d,e,c){var f,g,h;f=0;for(g=A.length;f<g;f++)if(h=A[f],h.src===a&&(h.xu()||d))return h.tag=b,h;a=this.Zh(a,d);if(!a.ta)return"<preload>"!==b&&(a.Zk=b,a.Fn=e,a.Jo=c),null;h=new v(a,b);A.push(h);return h};var Ra=[];X.prototype.sj=function(a){return lb(na,a)};
U.k=new X;T.prototype.St=function(a,b,d,e,c,f,g,h){if(!da&&e&&(e=e.Vp())){d=r(d);var m=a[1];a=this.b.Am+a[0]+(G?".ogg":".m4a");(D=this.Rp(a,h,m,0!==b,d))?(D.ho(!0),h=Qa(e.x,e.y,-e.n.Ua(),ha,Y,!0),a=Qa(e.x,e.y,-e.n.Ua(),ha,Y,!1),D.ql(h,a,Ga(e.j-e.n.Ua()),c,f,r(g)),D.Bh(e),D.play(0!==b,d,0,this.Yq),this.Yq=0):this.Zh(a,m).wg.push({la:e,nk:c,Pk:f,Tk:r(g),wo:h})}};U.D=new T;U.xa=new function(){}})();function rc(c){this.b=c}
(function(){function c(){this.name="";this.$i=0;this.xb=[]}function k(){b++;b===l.length&&l.push(new c);return l[b]}function p(){}function g(){}function r(){}var q=rc.prototype;q.aa=function(b){this.za=b;this.b=b.b};q.aa.prototype.H=function(){};q.P=function(b){this.type=b;this.b=b.b};var l=[],b=-1;q.P.prototype.H=function(){var e=this;window.c2_callFunction=function(d,a){var c,g,h,l=k();l.name=d.toLowerCase();l.$i=0;if(a)for(l.xb.length=a.length,c=0,g=a.length;c<g;++c)h=a[c],l.xb[c]="number"===typeof h||
"string"===typeof h?h:"boolean"===typeof h?h?1:0:0;else Q(l.xb);e.b.trigger(rc.prototype.k.tj,e,l.name);b--;return l.$i}};p.prototype.tj=function(e){var d=0>b?null:l[b];return d?lb(e,d.name):!1};q.k=new p;g.prototype.CallFunction=function(e,d){var a=k();a.name=e.toLowerCase();a.$i=0;Aa(a.xb,d);this.b.trigger(rc.prototype.k.tj,this,a.name);b--};q.D=new g;r.prototype.Rt=function(e,d){d=I(d);var a=0>b?null:l[b];a?0<=d&&d<a.xb.length?e.io(a.xb[d]):e.pa(0):e.pa(0)};r.prototype.Es=function(e,d){var a=k();
a.name=d.toLowerCase();a.$i=0;Q(a.xb);var c,g;c=2;for(g=arguments.length;c<g;c++)a.xb.push(arguments[c]);this.b.trigger(rc.prototype.k.tj,this,a.name);b--;e.io(a.$i)};q.xa=new r})();function tc(c){this.b=c}
(function(){function c(){}var k=tc.prototype;k.aa=function(c){this.za=c;this.b=c.b};k.aa.prototype.H=function(){};k.P=function(c){this.type=c;this.b=c.b;this.jh=Array(256);this.lj=Array(256);this.Qe=0};var p=k.P.prototype;p.H=function(){var c=this;this.b.ob||(jQuery(document).keydown(function(g){c.Pi(g)}),jQuery(document).keyup(function(g){c.Qi(g)}))};var g=[32,33,34,35,36,37,38,39,40,44];p.Pi=function(c){var p=!1;window!=window.top&&-1<g.indexOf(c.which)&&(c.preventDefault(),p=!0,c.stopPropagation());
if(this.jh[c.which])this.lj[c.which]&&!p&&c.preventDefault();else{this.jh[c.which]=!0;this.Qe=c.which;this.b.Mc=!0;this.b.trigger(tc.prototype.k.jt,this);var l=this.b.trigger(tc.prototype.k.Qo,this),b=this.b.trigger(tc.prototype.k.zt,this);this.b.Mc=!1;if(l||b)this.lj[c.which]=!0,p||c.preventDefault()}};p.Qi=function(c){this.jh[c.which]=!1;this.Qe=c.which;this.b.Mc=!0;this.b.trigger(tc.prototype.k.Oo,this);var g=this.b.trigger(tc.prototype.k.So,this),l=this.b.trigger(tc.prototype.k.Ro,this);this.b.Mc=
!1;if(g||l||this.lj[c.which])this.lj[c.which]=!0,c.preventDefault()};p.De=function(){var c;for(c=0;256>c;++c)if(this.jh[c]){this.jh[c]=!1;this.Qe=c;this.b.trigger(tc.prototype.k.Oo,this);var g=this.b.trigger(tc.prototype.k.So,this),l=this.b.trigger(tc.prototype.k.Ro,this);if(g||l)this.lj[c]=!0}};p.bb=function(){return{triggerKey:this.Qe}};p.rb=function(c){this.Qe=c.triggerKey};c.prototype.bt=function(c){return this.jh[c]};c.prototype.Qo=function(c){return c===this.Qe};c.prototype.jt=function(){return!0};
c.prototype.Oo=function(){return!0};c.prototype.So=function(c){return c===this.Qe};c.prototype.zt=function(c){return c===this.Qe};c.prototype.Ro=function(c){return c===this.Qe};k.k=new c;k.D=new function(){};k.xa=new function(){}})();function uc(c){this.b=c}
(function(){function c(){}function k(){}var p=uc.prototype;p.aa=function(c){this.za=c;this.b=c.b};p.aa.prototype.H=function(){};p.P=function(c){this.type=c;this.b=c.b;this.Nf=Array(4);this.gs=this.Dl=this.Kg=this.yf=this.xf=0;this.Sm=!1};var g=p.P.prototype;g.H=function(){var c=this;if(!this.b.ob){jQuery(document).mousemove(function(b){c.vx(b)});jQuery(document).mousedown(function(b){c.ux(b)});jQuery(document).mouseup(function(b){c.wx(b)});jQuery(document).dblclick(function(b){c.qx(b)});var g=function(b){c.zx(b)};
document.addEventListener("mousewheel",g,!1);document.addEventListener("DOMMouseScroll",g,!1)}};var r={left:0,top:0};g.vx=function(c){var g=this.b.ob?r:jQuery(this.b.canvas).offset();this.xf=c.pageX-g.left;this.yf=c.pageY-g.top};g.Tq=function(){return 0<this.b.hc?!0:0<=this.xf&&0<=this.yf&&this.xf<this.b.width&&this.yf<this.b.height};g.ux=function(c){this.Tq()&&(this.Nf[c.which]=!0,this.b.Mc=!0,this.b.trigger(uc.prototype.k.it,this),this.Kg=c.which-1,this.Dl=0,this.b.trigger(uc.prototype.k.Po,this),
this.b.trigger(uc.prototype.k.Vo,this),this.b.Mc=!1)};g.wx=function(c){this.Nf[c.which]&&(this.b.$p&&!this.b.nf&&c.preventDefault(),this.b.$p=!0,this.Nf[c.which]=!1,this.b.Mc=!0,this.Kg=c.which-1,this.b.trigger(uc.prototype.k.Wo,this),this.b.Mc=!1)};g.qx=function(c){this.Tq()&&(c.preventDefault(),this.b.Mc=!0,this.Kg=c.which-1,this.Dl=1,this.b.trigger(uc.prototype.k.Po,this),this.b.trigger(uc.prototype.k.Vo,this),this.b.Mc=!1)};g.zx=function(c){this.gs=0>(c.wheelDelta?c.wheelDelta:c.detail?-c.detail:
0)?0:1;this.Sm=!1;this.b.Mc=!0;this.b.trigger(uc.prototype.k.Qt,this);this.b.Mc=!1;this.Sm&&mb(c)&&c.preventDefault()};g.De=function(){var c,g;c=0;for(g=this.Nf.length;c<g;++c)this.Nf[c]&&(this.Nf[c]=!1,this.Kg=c-1,this.b.trigger(uc.prototype.k.Wo,this))};c.prototype.Po=function(c,g){return c===this.Kg&&g===this.Dl};c.prototype.it=function(){return!0};c.prototype.Xs=function(c){return this.Nf[c+1]};c.prototype.Wo=function(c){return c===this.Kg};c.prototype.Vo=function(c,g,b){return c!==this.Kg||g!==
this.Dl?!1:this.b.zy(b,this.xf,this.yf)};c.prototype.Qt=function(c){this.Sm=!0;return c===this.gs};p.k=new c;p.D=new function(){};k.prototype.Pl=function(c,g){var b,e,d,a,f;ja(g)?(b=this.b.ai(0),e=b.scale,d=b.Md,a=b.$c,f=b.j,b.scale=1,b.Md=1,b.$c=1,b.j=0,c.S(b.Zb(this.xf,this.yf,!0)),b.scale=e,b.Md=d,b.$c=a,b.j=f):(b=ka(g)?this.b.ai(g):this.b.Km(g))?c.S(b.Zb(this.xf,this.yf,!0)):c.S(0)};k.prototype.Ql=function(c,g){var b,e,d,a,f;ja(g)?(b=this.b.ai(0),e=b.scale,d=b.Md,a=b.ad,f=b.j,b.scale=1,b.Md=1,
b.ad=1,b.j=0,c.S(b.Zb(this.xf,this.yf,!1)),b.scale=e,b.Md=d,b.ad=a,b.j=f):(b=ka(g)?this.b.ai(g):this.b.Km(g))?c.S(b.Zb(this.xf,this.yf,!1)):c.S(0)};p.xa=new k})();function vc(c){this.b=c}
(function(){function c(b){this.d=b;this.history=[]}function k(b){this.kx=b;this.j=this.y=this.x=this.timestamp=0;this.rf=[]}function p(b,a,c,e){b=a-b;if(0===b)return 0;a=oa(b);if(a<=oa(c/10)||1>a||1E3<=a)return b;var g=a/50;e&&(g=pa(g,1));e=oa(c/5);10<=a&&(g=a/10,e=oa(c/2));c=pa(g,e);c>a&&(c=a);return 0<b?c:-c}function g(){}var r=vc.prototype;r.aa=function(b){this.za=b;this.b=b.b};r.aa.prototype.H=function(){};r.P=function(b){this.type=b;this.b=b.b};var q=r.P.prototype,l=!1;q.H=function(){this.O=
null;(l=window.C2Multiplayer_IsSupported())&&"undefined"!==typeof window.C2Multiplayer&&(this.O=new window.C2Multiplayer);this.hx=this.Uq=this.Vq=this.gx=this.Xw=this.Xk=this.Yk=this.uy="";this.Do={};this.pk={};this.Fe={};this.Kh=this.ay=this.Vv=null;this.ok=[];this.kj=[];this.Yd={};var b=this;l&&(this.O.onserverlist=function(){b.b.trigger(vc.prototype.k.Ht,b)},this.O.onsignallingerror=function(){b.b.trigger(vc.prototype.k.Kt,b)},this.O.onsignallingclose=function(){b.b.trigger(vc.prototype.k.Jt,b);
b.uy=""},this.O.onsignallingwelcome=function(){b.b.trigger(vc.prototype.k.It,b)},this.O.onsignallinglogin=function(){b.b.trigger(vc.prototype.k.Ot,b)},this.O.onsignallingjoin=function(a){b.pk={};b.Fe={};b.kj.length=0;b.ok.length=0;b.Yd={};b.b.trigger(vc.prototype.k.Lt,b);b.b.jg&&a&&b.Kh.postMessage("start")},this.O.onsignallingleave=function(){b.b.trigger(vc.prototype.k.Nt,b)},this.O.onsignallingkicked=function(){b.b.trigger(vc.prototype.k.Mt,b)},this.O.onbeforeclientupdate=function(){b.b.trigger(vc.prototype.k.nt,
b)},this.O.onpeeropen=function(a){b.Yk=a.id;b.Xk=a.alias;b.b.trigger(vc.prototype.k.Dt,b)},this.O.onpeerclose=function(a,c){b.Yk=a.id;b.Xk=a.alias;b.Xw=c||"unknown";var e=b.Qp(a);if(e){var g=b.Do[e.type];g&&g.removeObjectNid(a.nid);b.b.Ec(e)}b.Fe.hasOwnProperty(a.id)&&delete b.Fe[a.id];b.b.trigger(vc.prototype.k.Et,b)},this.O.onpeermessage=function(a,c){b.Vq=c.t;b.Uq=c.f?c.f:a.id;b.hx=b.O.getAliasFromId(b.Uq);b.gx=c.m;b.b.trigger(vc.prototype.k.kt,b);b.b.trigger(vc.prototype.k.Ft,b)},this.O.onsignallinginstancelist=
function(a){b.Vv=a;b.b.trigger(vc.prototype.k.yt,b)},this.O.onsignallingroomlist=function(a){b.ay=a;b.b.trigger(vc.prototype.k.Gt,b)},this.O.ongetobjectcount=function(a){return a.i.length},this.O.ongetobjectvalue=function(a,c,e){if(!e)return a.i[c].uid;a=a.i[c];switch(e.tag){case "x":return a.x;case "y":return a.y;case "a":return a.j;case "iv":if(e.clientvaluetag&&(c=b.pk[a.uid])&&b.O.me!==c&&!c.wasRemoved&&c.hasClientState(e.clientvaluetag))return c.getInterpClientState(e.clientvaluetag);e=a.Ea[e.userdata];
return"number"===typeof e?e:0;default:return 0}},this.O.oninstancedestroyed=function(a,c,e){var g=a.userdata;a=g.Zm;g.lm||(g.lm={});g.lm[c]=e;a&&a.hasOwnProperty(c)&&((e=a[c])&&b.b.Ec(e),delete a[c])},this.b.Rl(function(a){var c,e=a.uid;b.pk.hasOwnProperty(e)&&delete b.pk[e];for(c in b.Fe)if(b.Fe.hasOwnProperty(c)&&b.Fe[c]===a){delete b.Fe[c];break}b.Yd.hasOwnProperty(e)&&delete b.Yd[e];c=b.ok.indexOf(a);-1<c&&b.ok.splice(c,1);c=b.kj.indexOf(a);-1<c&&b.kj.splice(c,1);b.O.removeObjectId(e)}),this.Kh=
new Worker("waker.js"),this.Kh.addEventListener("message",function(a){"tick"===a.data&&b.b.jg&&b.b.Fa(!0)},!1),this.Kh.postMessage(""));this.b.cp(function(a){l&&b.O.isHost()&&(a?b.Kh.postMessage("start"):b.Kh.postMessage("stop"))});this.b.Px(this)};q.Qp=function(b){b=b.id;return this.Fe.hasOwnProperty(b)?this.Fe[b]:null};q.Mw=function(b){return 0<=this.ok.indexOf(b)};q.Ox=function(){if(l){this.O.tick(this.b.ff);this.Ey();var b,a,c;if(this.O.isInRoom()&&!this.O.isHost())for(b=0,a=this.O.registeredObjects.length;b<
a;++b)c=this.O.registeredObjects[b],this.Gy(c)}};var b=[];q.Gy=function(d){d.tick();var a=d.obj,c=d.getCount(),e=d.netvalues,g=d.userdata;g.Zm||(g.Zm={});var l=g.Zm,g=g.lm,p=d.simTime,k,n,r,q,B,y,P,O=e.length;for(k in l)l.hasOwnProperty(k)&&(q=l[k],this.b.bi(q.uid)||delete l[k]);if(g)for(k in g)g.hasOwnProperty(k)&&g[k]<p-3E3&&delete g[k];for(k=0;k<c;++k)if(n=d.getNetInstAt(k),r=n.nid,g&&g[r]>=p-3E3)b.push(n),l.hasOwnProperty(r)&&(this.b.Ec(l[r]),delete l[r]);else{if(l.hasOwnProperty(r))q=l[r],P=
!1;else{if(q=this.O.getPeerByNid(r))this.Yk=q.id,this.Xk=q.alias;else{if(d.hasOverriddenNids)continue;this.Xk=this.Yk=""}q=this.b.Lj(a,this.b.ma.Z[a.Ap],-1E3,-1E3);l[r]=q;P=!0}if(n.isTimedOut(p))b.push(n),l.hasOwnProperty(r)&&delete l[r],this.b.Ec(q);else{if(this.Mw(q))this.Cu(q,n,e,p);else for(y=0;y<O;++y)switch(r=n.getInterp(p,y),B=e[y],B.tag){case "x":q.x=r;q.F();break;case "y":q.y=r;q.F();break;case "a":q.j=r;q.F();break;case "iv":B=B.userdata;if(B>q.Ea.length||"number"!==typeof q.Ea[B])break;
q.Ea[B]=r}P&&this.b.trigger(Object.getPrototypeOf(a.za).k.Jf,q)}}k=0;for(c=b.length;k<c;++k)d.removeNetInstance(b[k]);b.length=0};q.Ey=function(){var b=this.O.getHostInputArrivalTime(),a,c;a=0;for(c=this.kj.length;a<c;++a)this.Fy(this.kj[a],b)};c.prototype.Xp=function(b){if(2>this.history.length)return 0;var a=this.history[this.history.length-2],c=this.history[this.history.length-1];switch(b){case "x":return c.x-a.x;case "y":return c.y-a.y;case "a":return c.j-a.j;case "iv":return c.rf[void 0]-a.rf[void 0]}return 0};
c.prototype.Wp=function(b,a,c,e){var g,l,k,p=null,n=null;g=0;for(l=this.history.length;g<l;++g)if(k=this.history[g],k.timestamp<c)p=k;else{g+1<this.history.length&&(n=this.history[g+1]);break}if(p){g=0;switch(b){case "x":g=p.x;break;case "y":g=p.y;break;case "a":g=p.j;break;case "iv":g=p.rf[a]}if(!n)return g;l=g;switch(b){case "x":l=n.x;break;case "y":l=n.y;break;case "a":l=n.j;break;case "iv":l=n.rf[a]}return window.interpNetValue(e,g,l,Ua(p.timestamp,n.timestamp,c),!1)}};c.prototype.qu=function(b,
a,c){var e,g,l;e=0;for(g=this.history.length;e<g;++e)switch(l=this.history[e],b){case "x":l.x+=c;break;case "y":l.y+=c;break;case "a":l.j+=c;break;case "iv":l.rf[a]+=c}};var e=[];q.Fy=function(b,a){this.Yd.hasOwnProperty(b.uid)||(this.Yd[b.uid]=new c(b));var f=this.Yd[b.uid],g;e.length?(g=e.pop(),g.kx=f):g=new k(f);g.timestamp=a;g.x=b.x;g.y=b.y;g.j=b.j;Aa(g.rf,b.Ea);for(f.history.push(g);0<f.history.length&&f.history[0].timestamp<=a-2E3;)g=f.history.shift(),g.rf.length=0,1E3>e.length&&e.push(g)};
q.Cu=function(b,a,c,e){if(this.Yd.hasOwnProperty(b.uid)){var g=this.Yd[b.uid],l,k,r,n,q,K,B,y=c.length,P=Sa(0,0,g.Xp("x"),g.Xp("y")),O=!!b.I.isPlatformBehavior;for(l=0;l<y;++l)if(q=c[l],K=q.tag,B=q.userdata,n=q.interp,k=a.getLatestUpdate())if(r=k.data[l],n=g.Wp(K,B,k.timestamp,n),"undefined"!==typeof n){k=0;switch(K){case "x":k=p(n,r,P,O);0!==k&&(b.x+=k,b.F());break;case "y":k=p(n,r,P,O);0!==k&&(b.y+=k,b.F());break;case "a":k=Va(n,r,.5)-n;0!==k&&(b.j+=k,b.F());break;case "iv":r=B;if(r>b.Ea.length||
"number"!==typeof b.Ea[r])break;q.clientvaluetag||(b.Ea[r]=a.getInterp(e,l))}0!==k&&g.qu(K,B,k)}}};q.Oz=function(){};q.Af=function(){};q.bb=function(){return{}};q.rb=function(){};g.prototype.Ht=function(){return!0};g.prototype.Kt=function(){return!0};g.prototype.It=function(){return!0};g.prototype.Jt=function(){return!0};g.prototype.Ot=function(){return!0};g.prototype.Lt=function(){return!0};g.prototype.Nt=function(){return!0};g.prototype.Mt=function(){return!0};g.prototype.Dt=function(){return!0};
g.prototype.Et=function(){return!0};g.prototype.Ft=function(b){return this.Vq===b};g.prototype.kt=function(){return!0};g.prototype.nt=function(){return!0};g.prototype.yt=function(){return!0};g.prototype.Gt=function(){return!0};r.k=new g;q.Ph=function(b,a,c,e){l&&(e=this.O.registerObject(b,b.ca,e),1===a?(e.addValue(this.O.INTERP_LINEAR,c,"x"),e.addValue(this.O.INTERP_LINEAR,c,"y")):2===a?e.addValue(this.O.INTERP_ANGULAR,c,"a"):3===a&&(e.addValue(this.O.INTERP_LINEAR,c,"x"),e.addValue(this.O.INTERP_LINEAR,
c,"y"),e.addValue(this.O.INTERP_ANGULAR,c,"a")),this.Do[b]=e)};q.Kz=function(b,a,c,e,g){if(l&&(b=this.Do[b])){var k=this.O.INTERP_NONE;1===e?k=this.O.INTERP_LINEAR:2===e&&(k=this.O.INTERP_ANGULAR);b.addValue(k,c,"iv",a,g)}};r.D=new function(){};q.Nz=function(b,a,c,e){if(!l||!this.O.isHost())return 0;var g=this.O.getPeerById(b);if(!g)return 0;var k=this.Qp(g);if(!k)return 0;b=0;switch(c){case "x":b=k.x;break;case "y":b=k.y;break;case "a":b=k.j}a=this.O.getPeerById(a);if(!a||a===g||this.O.me===a)return b;
a=2*(a.latency+this.O.clientDelay);k=k.uid;if(!this.Yd.hasOwnProperty(k))return b;e=this.Yd[k].Wp(c,0,$a()-a,e);return"undefined"===typeof e?b:e};r.xa=new function(){}})();function Z(c){this.b=c}
(function(){function c(){if(0===this.km.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Dh?b.drawImage(this.ka,this.uh,this.vh,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.ka,0,0,this.width,this.height);this.km=a.toDataURL("image/png")}return this.km}function k(){}function p(a){a[0]=0;a[1]=0;a[2]=0;m.push(a)}function g(a,b){return a<b?""+a+","+b:""+b+","+a}function r(a,b,d,c){b=b.uid;d=d.uid;var e=g(b,d);if(a.hasOwnProperty(e))a[e][2]=
c;else{var f=m.length?m.pop():[0,0,0];f[0]=b;f[1]=d;f[2]=c;a[e]=f}}function q(a,b,d){b=g(b.uid,d.uid);a.hasOwnProperty(b)&&(p(a[b]),delete a[b])}function l(a,b,d){b=g(b.uid,d.uid);if(a.hasOwnProperty(b))return h=a[b][2],!0;h=-2;return!1}function b(){}var e=Z.prototype;e.aa=function(a){this.za=a;this.b=a.b};var d=e.aa.prototype;d.H=function(){if(!this.R){var a,b,d,e,f,g,h,m,l;this.ld=[];this.gi=!1;a=0;for(b=this.rc.length;a<b;a++){f=this.rc[a];h={};h.name=f[0];h.speed=f[1];h.loop=f[2];h.Yn=f[3];h.Zn=
f[4];h.qr=f[5];h.ca=f[6];h.frames=[];d=0;for(e=f[7].length;d<e;d++)g=f[7][d],m={},m.to=g[0],m.uo=g[1],m.uh=g[2],m.vh=g[3],m.width=g[4],m.height=g[5],m.duration=g[6],m.ic=g[7],m.jc=g[8],m.Um=g[9],m.$k=g[10],m.rr=g[11],m.Dh=0!==m.width,m.km="",m.Lz=c,l={left:0,top:0,right:1,bottom:1},m.lo=l,m.Ka=null,(l=this.b.Sv(g[0]))?m.ka=l:(m.ka=new Image,m.ka.Du=g[0],m.ka.wp=g[1],m.ka.wu=null,this.b.ys(m.ka,g[0])),h.frames.push(m),this.ld.push(m);this.rc[a]=h}}};d.ts=function(){var a,b,d;a=0;for(b=this.i.length;a<
b;a++)d=this.i[a],d.Nj=d.Gb.Ka};d.Uk=function(){if(!this.R){var a,b,d;a=0;for(b=this.ld.length;a<b;++a)d=this.ld[a],d.ka.wu=null,d.Ka=null;this.gi=!1;this.ts()}};d.Kn=function(){if(!this.R&&this.i.length){var a,b,d;a=0;for(b=this.ld.length;a<b;++a)d=this.ld[a],d.Ka=this.b.A.Hk(d.ka,!1,this.b.Oa,d.rr);this.ts()}};d.An=function(){if(!this.R&&!this.gi&&this.b.A){var a,b,d;a=0;for(b=this.ld.length;a<b;++a)d=this.ld[a],d.Ka=this.b.A.Hk(d.ka,!1,this.b.Oa,d.rr);this.gi=!0}};d.Eo=function(){if(!this.R&&!this.i.length&&
this.gi){var a,b,d;a=0;for(b=this.ld.length;a<b;++a)d=this.ld[a],this.b.A.deleteTexture(d.Ka),d.Ka=null;this.gi=!1}};var a=[];d.Qn=function(b){var d,c,e;Q(a);d=0;for(c=this.ld.length;d<c;++d)e=this.ld[d].ka,-1===a.indexOf(e)&&(b.drawImage(e,0,0),a.push(e))};e.P=function(a){this.type=a;this.b=a.b;a=this.type.rc[0].frames[0].$k;this.Ac?this.ba.cj(a):this.ba=new fb(a)};var f=e.P.prototype;f.H=function(){this.visible=0===this.q[0];this.Vm=this.ln=!1;this.qd=0!==this.q[3];this.Ia=this.Pp(this.q[1])||this.type.rc[0];
this.J=this.q[2];0>this.J&&(this.J=0);this.J>=this.Ia.frames.length&&(this.J=this.Ia.frames.length-1);var a=this.Ia.frames[this.J];this.ba.cj(a.$k);this.ic=a.ic;this.jc=a.jc;this.Tg=this.Ia.speed;this.ef=this.Ia.Zn;1===this.type.rc.length&&1===this.type.rc[0].frames.length||0===this.Tg||(this.b.Al(this),this.ln=!0);this.Ac?this.Od.reset():this.Od=new db;this.qe=this.Od.W;this.Lf=!0;this.ie=0;this.Kf=!0;this.Rg=this.dp="";this.rp=0;this.cm=-1;this.type.An();var b,d,c,e,f,g,h,a=0;for(b=this.type.rc.length;a<
b;a++)for(e=this.type.rc[a],d=0,c=e.frames.length;d<c;d++)f=e.frames[d],0===f.width&&(f.width=f.ka.width,f.height=f.ka.height),f.Dh&&(h=f.ka,g=f.lo,g.left=f.uh/h.width,g.top=f.vh/h.height,g.right=(f.uh+f.width)/h.width,g.bottom=(f.vh+f.height)/h.height,0===f.uh&&0===f.vh&&f.width===h.width&&f.height===h.height&&(f.Dh=!1));this.Gb=this.Ia.frames[this.J];this.Nj=this.Gb.Ka};f.bb=function(){var a={a:this.Ia.ca,f:this.J,cas:this.Tg,fs:this.qe,ar:this.ie,at:this.Od.W,rt:this.ef};this.Lf||(a.ap=this.Lf);
this.Kf||(a.af=this.Kf);return a};f.rb=function(a){var b=this.Yv(a.a);b&&(this.Ia=b);this.J=a.f;0>this.J&&(this.J=0);this.J>=this.Ia.frames.length&&(this.J=this.Ia.frames.length-1);this.Tg=a.cas;this.qe=a.fs;this.ie=a.ar;this.Od.reset();this.Od.W=a.at;this.Lf=a.hasOwnProperty("ap")?a.ap:!0;this.Kf=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.ef=a.rt:this.ef=this.Ia.Zn;this.Gb=this.Ia.frames[this.J];this.Nj=this.Gb.Ka;this.ba.cj(this.Gb.$k);this.ic=this.Gb.ic;this.jc=this.Gb.jc};f.Ul=
function(a){this.J=a?0:this.Ia.frames.length-1;this.Lf=!1;this.dp=this.Ia.name;this.Vm=!0;this.b.trigger(Z.prototype.k.ht,this);this.b.trigger(Z.prototype.k.No,this);this.Vm=!1;this.ie=0};f.Ph=function(){return this.Od.W};f.Fa=function(){this.Od.add(this.b.kf(this));this.Rg.length&&this.Bp();0<=this.cm&&this.Ju();var a=this.Od.W,b=this.Ia,d=b.frames[this.J],c=d.duration/this.Tg;this.Lf&&a>=this.qe+c&&(this.Kf?this.J++:this.J--,this.qe+=c,this.J>=b.frames.length&&(b.qr?(this.Kf=!1,this.J=b.frames.length-
2):b.loop?this.J=this.ef:(this.ie++,this.ie>=b.Yn?this.Ul(!1):this.J=this.ef)),0>this.J&&(b.qr?(this.J=1,this.Kf=!0,b.loop||(this.ie++,this.ie>=b.Yn&&this.Ul(!0))):b.loop?this.J=this.ef:(this.ie++,this.ie>=b.Yn?this.Ul(!0):this.J=this.ef)),0>this.J?this.J=0:this.J>=b.frames.length&&(this.J=b.frames.length-1),a>this.qe+b.frames[this.J].duration/this.Tg&&(this.qe=a),a=b.frames[this.J],this.Og(d,a),this.b.ja=!0)};f.Pp=function(a){var b,d,c;b=0;for(d=this.type.rc.length;b<d;b++)if(c=this.type.rc[b],lb(c.name,
a))return c;return null};f.Yv=function(a){var b,d,c;b=0;for(d=this.type.rc.length;b<d;b++)if(c=this.type.rc[b],c.ca===a)return c;return null};f.Bp=function(){var a=this.Ia.frames[this.J],b=this.Pp(this.Rg);this.Rg="";!b||lb(b.name,this.Ia.name)&&this.Lf||(this.Ia=b,this.Tg=b.speed,this.ef=b.Zn,0>this.J&&(this.J=0),this.J>=this.Ia.frames.length&&(this.J=this.Ia.frames.length-1),1===this.rp&&(this.J=0),this.Lf=!0,this.qe=this.Od.W,this.Kf=!0,this.Og(a,this.Ia.frames[this.J]),this.b.ja=!0)};f.Ju=function(){var a=
this.Ia.frames[this.J],b=this.J;this.J=I(this.cm);0>this.J&&(this.J=0);this.J>=this.Ia.frames.length&&(this.J=this.Ia.frames.length-1);b!==this.J&&(this.Og(a,this.Ia.frames[this.J]),this.qe=this.Od.W,this.b.ja=!0);this.cm=-1};f.Og=function(a,b){var d=a.width,c=a.height,e=b.width,f=b.height;d!=e&&(this.width*=e/d);c!=f&&(this.height*=f/c);this.ic=b.ic;this.jc=b.jc;this.ba.cj(b.$k);this.F();this.Gb=b;this.Nj=b.Ka;d=0;for(c=this.L.length;d<c;d++)e=this.L[d],e.xx&&e.xx(a,b);this.b.trigger(Z.prototype.k.Og,
this)};f.Qd=function(a){a.globalAlpha=this.opacity;var b=this.Gb,d=b.Dh,c=b.ka,e=this.x,f=this.y,g=this.width,h=this.height;if(0===this.j&&0<=g&&0<=h)e-=this.ic*g,f-=this.jc*h,this.b.Ad&&(e=Math.round(e),f=Math.round(f)),d?a.drawImage(c,b.uh,b.vh,b.width,b.height,e,f,g,h):a.drawImage(c,e,f,g,h);else{this.b.Ad&&(e=Math.round(e),f=Math.round(f));a.save();var m=0<g?1:-1,l=0<h?1:-1;a.translate(e,f);1===m&&1===l||a.scale(m,l);a.rotate(this.j*m*l);e=0-this.ic*oa(g);f=0-this.jc*oa(h);d?a.drawImage(c,b.uh,
b.vh,b.width,b.height,e,f,oa(g),oa(h)):a.drawImage(c,e,f,oa(g),oa(h));a.restore()}};f.Sf=function(a){this.tc(a)};f.tc=function(a){a.Bc(this.Nj);a.Eg(this.opacity);var b=this.Gb,d=this.Fb;if(this.b.Ad){var c=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.Dh?a.be(d.zb+c,d.Ab+e,d.Xb+c,d.Yb+e,d.Rb+c,d.Sb+e,d.Pb+c,d.Qb+e,b.lo):a.Yi(d.zb+c,d.Ab+e,d.Xb+c,d.Yb+e,d.Rb+c,d.Sb+e,d.Pb+c,d.Qb+e)}else b.Dh?a.be(d.zb,d.Ab,d.Xb,d.Yb,d.Rb,d.Sb,d.Pb,d.Qb,b.lo):a.Yi(d.zb,d.Ab,d.Xb,d.Yb,d.Rb,d.Sb,d.Pb,d.Qb)};
f.cw=function(a){var b=this.Gb,d,c;d=0;for(c=b.Um.length;d<c;d++)if(lb(a,b.Um[d][0]))return d;return-1};f.$h=function(a,b){var d=this.Gb,c=d.Um,e;w(a)?e=this.cw(a):e=a-1;e=I(e);if(0>e||e>=c.length)return b?this.x:this.y;var f=(c[e][1]-d.ic)*this.width,c=c[e][2],c=(c-d.jc)*this.height,d=Math.cos(this.j);e=Math.sin(this.j);var g=f*d-c*e,c=c*d+f*e,f=g+this.x,c=c+this.y;return b?f:c};var m=[],h=-2,x=[];k.prototype.ot=function(a){if(!a)return!1;var b=this.b,d=b.$g(),c=d.type,e=null;d.I.collmemory?e=d.I.collmemory:
(e={},d.I.collmemory=e);d.I.spriteCreatedDestroyCallback||(d.I.spriteCreatedDestroyCallback=!0,b.Rl(function(a){var b=d.I.collmemory;a=a.uid;var c,e;for(c in b)b.hasOwnProperty(c)&&(e=b[c],e[0]===a||e[1]===a)&&(p(b[c]),delete b[c])}));var f=c.T(),g=a.T(),f=f.$b(),m,n,k,t,F,H,K,E=this.b.hd,u=E-1,z=b.Va().Za;for(n=0;n<f.length;n++){k=f[n];g.V?(k.ya(),this.b.ik(k.n,a,k.Da,x),m=x,this.b.nu(k,a,m)):m=g.$b();for(t=0;t<m.length;t++)F=m[t],b.Gf(k,F)||b.yu(k,F)?(H=l(e,k,F),H=!H||h<u,r(e,k,F,E),H&&(b.yg(z.qa),
H=c.T(),K=a.T(),H.V=!1,K.V=!1,c===a?(H.i.length=2,H.i[0]=k,H.i[1]=F,c.md()):(H.i.length=1,K.i.length=1,H.i[0]=k,K.i[0]=F,c.md(),a.md()),z.Cg(),b.ae(z.qa))):q(e,k,F);Q(x)}return!1};var F=null,H=new ca,n=!1,t=[],K=new va(0,0,0,0);d.finish=function(a){if(n){if(a){var b=this.b.Va().Za.Pc;a=F.T();var d=H.jd(),c,e;if(a.V){a.V=!1;Q(a.i);c=0;for(e=d.length;c<e;++c)a.i[c]=d[c];if(b)for(Q(a.da),c=0,e=F.i.length;c<e;++c)d=F.i[c],H.contains(d)||a.da.push(d)}else if(b)for(b=a.i.length,c=0,e=d.length;c<e;++c)a.i[b+
c]=d[c],Da(a.da,d[c]);else Aa(a.i,d);F.md()}H.clear();n=!1}};k.prototype.dt=function(a){if(a){var b=!1,d,c,e,f=this.b.$g(),g=f.type,f=f.ki;d=a.T();c=this.b.Va().Za.Pc;var h;d.V?(this.ya(),K.Sg(this.Da),K.offset(0,0),this.b.ik(this.n,a,K,t),h=t):h=c?this.b.Jw()&&!d.da.length&&d.i.length?d.i:d.da:d.i;F=a;n=g!==a&&!f;d=0;for(c=h.length;d<c;d++)if(e=h[d],this.b.Gf(this,e)){b=!0;if(f)break;g!==a&&H.add(e)}Q(t);a=b}else a=!1;return a};k.prototype.Vs=function(a){return this.Rg.length?lb(this.Rg,a):lb(this.Ia.name,
a)};k.prototype.No=function(a){return lb(this.dp,a)};k.prototype.ht=function(){return!0};k.prototype.Og=function(){return!0};e.k=new k;b.prototype.cu=function(a,b,d){if(a&&b&&(b=this.b.Lj(a,b,this.$h(d,!0),this.$h(d,!1)))){"undefined"!==typeof b.j&&(b.j=this.j,b.F());this.b.Lc++;var c,e,f;this.b.trigger(Object.getPrototypeOf(a.za).k.Jf,b);if(b.Jb)for(c=0,e=b.siblings.length;c<e;c++)f=b.siblings[c],this.b.trigger(Object.getPrototypeOf(f.type.za).k.Jf,f);this.b.Lc--;c=this.b.$v();d=!1;if(ja(c.I.Spawn_LastExec)||
c.I.Spawn_LastExec<this.b.Xf)d=!0,c.I.Spawn_LastExec=this.b.Xf;if(a!=this.type&&(a=a.T(),a.V=!1,d?(Q(a.i),a.i[0]=b):a.i.push(b),b.Jb))for(c=0,e=b.siblings.length;c<e;c++)f=b.siblings[c],a=f.type.T(),a.V=!1,d?(Q(a.i),a.i[0]=f):a.i.push(f)}};b.prototype.Wt=function(a,b){this.Rg=a;this.rp=b;this.ln||(this.b.Al(this),this.ln=!0);this.Vm||this.Bp()};e.D=new b;e.xa=new function(){}})();function wc(c){this.b=c}
(function(){function c(){return b.length?b.pop():{}}function k(c){var d,a;d=0;for(a=c.length;d<a;d++)b.push(c[d]);Q(c)}function p(b){return b.length&&" "===b.charAt(b.length-1)?b.substring(0,b.length-1):b}function g(){}var r=wc.prototype;r.H=function(){r.D.Yo=function(b){this.width!==b&&(this.width=b,this.Ig=!0,this.F())}};r.aa=function(b){this.za=b;this.b=b.b};var q=r.aa.prototype;q.H=function(){};q.Uk=function(){if(!this.R){var b,d,a;b=0;for(d=this.i.length;b<d;b++)a=this.i[b],a.Xd=null,a.ug=null,
a.xc=null}};r.P=function(b){this.type=b;this.b=b.b;this.Ac?Q(this.tf):this.tf=[];this.Ig=!0};q=r.P.prototype;q.H=function(){this.text=this.q[0];this.visible=0===this.q[1];this.font=this.q[2];this.color=this.q[3];this.kk=this.q[4];this.Il=this.q[5];this.Lo=0===this.q[7];this.xn=this.Ck=this.width;this.Bk=this.height;this.zn=this.q[8];this.dk=this.Xg="";this.as=this.bs=this.Vi=0;this.Cx();this.xc=this.ug=this.Xd=null;this.Xq=!1;this.yi=this.b.hd;this.Ac?this.Cf.set(0,0,1,1):this.Cf=new va(0,0,1,1);
this.b.A&&this.b.Al(this)};q.Cx=function(){var b=this.font.split(" "),d;for(d=0;d<b.length;d++)if("pt"===b[d].substr(b[d].length-2,2)){this.Vi=parseInt(b[d].substr(0,b[d].length-2));this.Tn=Math.ceil(this.Vi/72*96)+4;0<d&&(this.dk=b[d-1]);this.Xg=b[d+1];for(d+=2;d<b.length;d++)this.Xg+=" "+b[d];break}};q.bb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.kk,va:this.Il,wr:this.Lo,lho:this.zn,fn:this.Xg,fs:this.dk,ps:this.Vi,pxh:this.Tn,tw:this.bs,th:this.as,lrt:this.yi}};q.rb=function(b){this.text=
b.t;this.font=b.f;this.color=b.c;this.kk=b.ha;this.Il=b.va;this.Lo=b.wr;this.zn=b.lho;this.Xg=b.fn;this.dk=b.fs;this.Vi=b.ps;this.Tn=b.pxh;this.bs=b.tw;this.as=b.th;this.yi=b.lrt;this.Ig=!0;this.xn=this.Ck=this.width;this.Bk=this.height};q.Fa=function(){if(this.b.A&&this.xc&&300<=this.b.hd-this.yi){var b=this.n;this.ya();var d=this.Da;if(d.right<b.Aa||d.bottom<b.Ba||d.left>b.Ha||d.top>b.Ga)this.b.A.deleteTexture(this.xc),this.Xd=this.ug=this.xc=null}};q.Af=function(){this.Xd=this.ug=null;this.b.A&&
this.xc&&this.b.A.deleteTexture(this.xc);this.xc=null};q.Ph=function(){this.font=this.dk+" "+this.Vi.toString()+"pt "+this.Xg;this.Ig=!0;this.b.ja=!0};q.Qd=function(b,d){b.font=this.font;b.textBaseline="top";b.fillStyle=this.color;b.globalAlpha=d?1:this.opacity;var a=1;d&&(a=Math.abs(this.n.uc()),b.save(),b.scale(a,a));if(this.Ig||this.width!==this.xn)this.type.za.ku(this.text,this.tf,b,this.width,this.Lo),this.Ig=!1,this.xn=this.width;this.ya();var a=d?0:this.Fb.zb,c=d?0:this.Fb.Ab;this.b.Ad&&(a=
a+.5|0,c=c+.5|0);0===this.j||d||(b.save(),b.translate(a,c),b.rotate(this.j),c=a=0);var g=c+this.height,h=this.Tn,h=h+this.zn,l,k;1===this.Il?c+=Math.max(this.height/2-this.tf.length*h/2,0):2===this.Il&&(c+=Math.max(this.height-this.tf.length*h-2,0));for(k=0;k<this.tf.length&&!(l=a,1===this.kk?l=a+(this.width-this.tf[k].width)/2:2===this.kk&&(l=a+(this.width-this.tf[k].width)),b.fillText(this.tf[k].text,l,c),c+=h,c>=g-h);k++);(0!==this.j||d)&&b.restore();this.yi=this.b.hd};q.tc=function(b){if(!(1>
this.width||1>this.height)){var d=this.Ig||this.Xq;this.Xq=!1;var a=this.n.uc(),c=this.n.Ua(),g=this.Cf,h=a*this.width,l=a*this.height,k=Math.ceil(h),p=Math.ceil(l),n=Math.abs(k),r=Math.abs(p),q=this.b.N/2,B=this.b.M/2;this.ug||(this.Xd=document.createElement("canvas"),this.Xd.width=n,this.Xd.height=r,this.Ck=n,this.Bk=r,d=!0,this.ug=this.Xd.getContext("2d"));if(n!==this.Ck||r!==this.Bk)this.Xd.width=n,this.Xd.height=r,this.xc&&(b.deleteTexture(this.xc),this.xc=null),d=!0;d&&(this.ug.clearRect(0,
0,n,r),this.Qd(this.ug,!0),this.xc||(this.xc=b.Hc(n,r,this.b.Oa,this.b.nf)),b.My(this.Xd,this.xc,this.b.nf));this.Ck=n;this.Bk=r;b.Bc(this.xc);b.Eg(this.opacity);b.cd();b.translate(-q,-B);b.Rc();var y=this.Fb,d=this.n.Na(y.zb,y.Ab,!0,!0),n=this.n.Na(y.zb,y.Ab,!1,!0),r=this.n.Na(y.Xb,y.Yb,!0,!0),q=this.n.Na(y.Xb,y.Yb,!1,!0),B=this.n.Na(y.Rb,y.Sb,!0,!0),P=this.n.Na(y.Rb,y.Sb,!1,!0),O=this.n.Na(y.Pb,y.Qb,!0,!0),y=this.n.Na(y.Pb,y.Qb,!1,!0);if(this.b.Ad||0===this.j&&0===c)var M=(d+.5|0)-d,v=(n+.5|0)-
n,d=d+M,n=n+v,r=r+M,q=q+v,B=B+M,P=P+v,O=O+M,y=y+v;0===this.j&&0===c?(r=d+k,q=n,B=r,P=n+p,O=d,y=P,g.right=1,g.bottom=1):(g.right=h/k,g.bottom=l/p);b.be(d,n,r,q,B,P,O,y,g);b.cd();b.scale(a,a);b.kl(-this.n.Ua());b.translate((this.n.Aa+this.n.Ha)/-2,(this.n.Ba+this.n.Ga)/-2);b.Rc();this.yi=this.b.hd}};var l=[];r.hu=function(b){Q(l);for(var d="",a,c=0;c<b.length;)if(a=b.charAt(c),"\n"===a)d.length&&(l.push(d),d=""),l.push("\n"),++c;else if(" "===a||"\t"===a||"-"===a){do d+=b.charAt(c),c++;while(c<b.length&&
(" "===b.charAt(c)||"\t"===b.charAt(c)));l.push(d);d=""}else c<b.length&&(d+=a,c++);d.length&&l.push(d)};var b=[];r.ku=function(b,d,a,f,g){if(b&&b.length)if(2>=f)k(d);else{if(100>=b.length&&-1===b.indexOf("\n")){var h=a.measureText(b).width;if(h<=f){k(d);d.push(c());d[0].text=b;d[0].width=h;return}}this.lu(b,d,a,f,g)}else k(d)};r.lu=function(e,d,a,f,g){g&&(this.hu(e),e=l);var h="",k,r,q,n=0;for(q=0;q<e.length;q++)"\n"===e[q]?(n>=d.length&&d.push(c()),h=p(h),r=d[n],r.text=h,r.width=a.measureText(h).width,
n++,h=""):(k=h,h+=e[q],r=a.measureText(h).width,r>=f&&(n>=d.length&&d.push(c()),k=p(k),r=d[n],r.text=k,r.width=a.measureText(k).width,n++,h=e[q],g||" "!==h||(h="")));h.length&&(n>=d.length&&d.push(c()),h=p(h),r=d[n],r.text=h,r.width=a.measureText(h).width,n++);for(q=n;q<d.length;q++)b.push(d[q]);d.length=n};r.k=new function(){};g.prototype.Zt=function(b){ka(b)&&1E9>b&&(b=Math.round(1E10*b)/1E10);b=b.toString();this.text!==b&&(this.text=b,this.Ig=!0,this.b.ja=!0)};r.D=new g;r.xa=new function(){}})();
function xc(c){this.b=c}
(function(){var c=xc.prototype;c.aa=function(c){this.za=c;this.b=c.b};var k=c.aa.prototype;k.H=function(){this.R||(this.ka=new Image,this.ka.wp=this.uo,this.b.ys(this.ka,this.to),this.Ka=this.pattern=null)};k.Uk=function(){this.R||(this.Ka=null)};k.Kn=function(){if(!this.R&&this.i.length){this.Ka||(this.Ka=this.b.A.Hk(this.ka,!0,this.b.Oa,this.vo));var c,g;c=0;for(g=this.i.length;c<g;c++)this.i[c].Ka=this.Ka}};k.An=function(){this.R||this.Ka||!this.b.A||(this.Ka=this.b.A.Hk(this.ka,!0,this.b.Oa,this.vo))};
k.Eo=function(){this.R||this.i.length||!this.Ka||(this.b.A.deleteTexture(this.Ka),this.Ka=null)};k.Qn=function(c){c.drawImage(this.ka,0,0)};c.P=function(c){this.type=c;this.b=c.b};k=c.P.prototype;k.H=function(){this.visible=0===this.q[0];this.Cf=new va(0,0,0,0);this.cq=!1;this.ka=this.type.ka;this.b.A?(this.type.An(),this.Ka=this.type.Ka):(this.type.pattern||(this.type.pattern=this.b.La.createPattern(this.type.ka,"repeat")),this.pattern=this.type.pattern)};k.Nd=function(){this.cq=!1;this.ka=this.type.ka};
k.Af=function(){this.b.A&&this.cq&&this.Ka&&(this.b.A.deleteTexture(this.Ka),this.Ka=null)};k.Qd=function(c){c.globalAlpha=this.opacity;c.save();c.fillStyle=this.pattern;var g=this.x,k=this.y;this.b.Ad&&(g=Math.round(g),k=Math.round(k));var q=-(this.ic*this.width),l=-(this.jc*this.height),b=q%this.ka.width,e=l%this.ka.height;0>b&&(b+=this.ka.width);0>e&&(e+=this.ka.height);c.translate(g,k);c.rotate(this.j);c.translate(b,e);c.fillRect(q-b,l-e,this.width,this.height);c.restore()};k.Sf=function(c){this.tc(c)};
k.tc=function(c){c.Bc(this.Ka);c.Eg(this.opacity);var g=this.Cf;g.right=this.width/this.ka.width;g.bottom=this.height/this.ka.height;var k=this.Fb;if(this.b.Ad){var q=Math.round(this.x)-this.x,l=Math.round(this.y)-this.y;c.be(k.zb+q,k.Ab+l,k.Xb+q,k.Yb+l,k.Rb+q,k.Sb+l,k.Pb+q,k.Qb+l,g)}else c.be(k.zb,k.Ab,k.Xb,k.Yb,k.Rb,k.Sb,k.Pb,k.Qb,g)};c.k=new function(){};c.D=new function(){};c.xa=new function(){}})();function yc(c){this.b=c}
(function(){function c(){}var k=yc.prototype;k.aa=function(c){this.behavior=c;this.b=c.b};k.aa.prototype.H=function(){};k.P=function(c,k){this.type=c;this.behavior=c.behavior;this.d=k;this.b=c.b};var p=k.P.prototype;p.H=function(){var c=this.q[0];this.Qa=this.q[1];this.gk=this.q[2];this.uu=0!==this.q[3];this.Dg=0!==this.q[4];this.K=Math.cos(this.d.j)*c;this.G=Math.sin(this.d.j)*c;this.ze=this.d.x;this.Ae=this.d.y;this.wd=this.d.j;this.Cl=0;this.enabled=0!==this.q[5]};p.bb=function(){return{acc:this.Qa,
g:this.gk,dx:this.K,dy:this.G,lx:this.ze,ly:this.Ae,lka:this.wd,t:this.Cl,e:this.enabled}};p.rb=function(c){this.Qa=c.acc;this.gk=c.g;this.K=c.dx;this.G=c.dy;this.ze=c.lx;this.Ae=c.ly;this.wd=c.lka;this.Cl=c.t;this.enabled=c.e};p.Fa=function(){if(this.enabled){var c=this.b.kf(this.d),k,p;this.d.j!==this.wd&&(this.Dg&&(k=Sa(0,0,this.K,this.G),this.K=Math.cos(this.d.j)*k,this.G=Math.sin(this.d.j)*k),this.wd=this.d.j);0!==this.Qa&&(k=Sa(0,0,this.K,this.G),p=0===this.K&&0===this.G?this.d.j:La(0,0,this.K,
this.G),k+=this.Qa*c,0>k&&(k=0),this.K=Math.cos(p)*k,this.G=Math.sin(p)*k);0!==this.gk&&(this.G+=this.gk*c);this.ze=this.d.x;this.Ae=this.d.y;if(0!==this.K||0!==this.G)if(this.d.x+=this.K*c,this.d.y+=this.G*c,this.Cl+=Sa(0,0,this.K*c,this.G*c),this.Dg&&(this.d.j=La(0,0,this.K,this.G),this.d.F(),this.wd=this.d.j),this.d.F(),this.uu&&(k=this.b.Dc(this.d)))this.b.Ag(this.d,k),k=Sa(0,0,this.K,this.G),p=this.b.pp(this.d,this.ze,this.Ae),this.K=Math.cos(p)*k,this.G=Math.sin(p)*k,this.d.x+=this.K*c,this.d.y+=
this.G*c,this.d.F(),this.Dg&&(this.wd=this.d.j=p,this.d.F()),this.b.fl(this.d,this.K/k,this.G/k,Math.max(2.5*k*c,30))||this.b.Xi(this.d,100)}};k.k=new function(){};c.prototype.he=function(c){this.enabled=1===c};k.D=new c;k.xa=new function(){}})();function zc(c){this.b=c}
(function(){function c(){}var k=zc.prototype;k.aa=function(c){this.behavior=c;this.b=c.b};k.aa.prototype.H=function(){};k.P=function(c,k){this.type=c;this.behavior=c.behavior;this.d=k;this.b=c.b;this.Le=this.Ke=this.Je=this.Me=this.fg=this.Gd=this.yd=this.sd=this.Kd=!1;this.B=0;this.Vb=this.Ca=this.d.j};var p=k.P.prototype;p.H=function(){this.tb=this.q[0];this.Qa=this.q[1];this.mb=this.q[2];this.wl=R(this.q[3]);this.tm=R(this.q[4]);this.Dm=this.q[5];this.Dg=1===this.q[6];this.nm=1===this.q[7];this.enabled=
0!==this.q[8];this.ze=this.d.x;this.Ae=this.d.y;this.kh=this.d.j;this.nm&&!this.b.ob&&(jQuery(document).keydown(function(c){return function(k){c.Pi(k)}}(this)),jQuery(document).keyup(function(c){return function(k){c.Qi(k)}}(this)))};p.bb=function(){return{ignoreInput:this.fg,enabled:this.enabled,s:this.B,a:this.Ca,m:this.Vb,maxspeed:this.tb,acc:this.Qa,dec:this.mb,steerSpeed:this.wl,driftRecover:this.tm,friction:this.Dm,lastx:this.ze,lasty:this.Ae,lastAngle:this.kh}};p.rb=function(c){this.fg=c.ignoreInput;
this.enabled=c.enabled;this.B=c.s;this.Ca=c.a;this.Vb=c.m;this.tb=c.maxspeed;this.Qa=c.acc;this.mb=c.dec;this.wl=c.steerSpeed;this.tm=c.driftRecover;this.Dm=c.friction;this.ze=c.lastx;this.Ae=c.lasty;this.kh=c.lastAngle;this.Le=this.Ke=this.Je=this.Me=this.Gd=this.yd=this.sd=this.Kd=!1};p.Pi=function(c){switch(c.which){case 37:c.preventDefault();this.yd=!0;break;case 38:c.preventDefault();this.Kd=!0;break;case 39:c.preventDefault();this.Gd=!0;break;case 40:c.preventDefault(),this.sd=!0}};p.Qi=function(c){switch(c.which){case 37:c.preventDefault();
this.yd=!1;break;case 38:c.preventDefault();this.Kd=!1;break;case 39:c.preventDefault();this.Gd=!1;break;case 40:c.preventDefault(),this.sd=!1}};p.De=function(){this.Gd=this.yd=this.sd=this.Kd=!1};p.Fa=function(){var c=this.b.kf(this.d),k=this.yd||this.Ke,p=this.Gd||this.Le,l=this.Kd||this.Me,b=this.sd||this.Je;this.Je=this.Me=this.Le=this.Ke=!1;if(this.enabled){this.Dg&&this.d.j!==this.kh&&(this.kh=this.Vb=this.Ca=this.d.j);var e=this.b.Dc(this.d);if(e&&(this.b.Ag(this.d,e),!this.b.Xi(this.d)))return;
this.fg&&(b=l=p=k=!1);l&&!b&&(this.B+=this.Qa*c,this.B>this.tb&&(this.B=this.tb));b&&!l&&(this.B-=this.mb*c,this.B<-this.tb&&(this.B=-this.tb));b===l&&(0<this.B?(this.B-=this.mb*c*.1,0>this.B&&(this.B=0)):0>this.B&&(this.B+=this.mb*c*.1,0<this.B&&(this.B=0)));0>this.B&&(l=k,k=p,p=l);k&&!p&&(this.Ca=Ia(this.Ca-this.wl*c*(Math.abs(this.B)/this.tb)));p&&!k&&(this.Ca=Ia(this.Ca+this.wl*c*(Math.abs(this.B)/this.tb)));k=this.tm*c;p=Na(this.Ca,this.Vb);p>R(90)&&(k+=p-R(90));p<=k?this.Vb=Ia(this.Ca):Pa(this.Ca,
this.Vb)?this.Vb=Ia(this.Vb+k):this.Vb=Ia(this.Vb-k);this.ze=this.d.x;this.Ae=this.d.y;if(0!==this.B&&0!==c){if(this.d.x+=Math.cos(this.Vb)*this.B*c,this.d.y+=Math.sin(this.Vb)*this.B*c,this.Dg&&(this.kh=this.d.j=this.Ca),this.d.F(),k=this.b.Dc(this.d))this.b.Ag(this.d,k),this.B=Math.abs(this.B),this.Vb=this.b.pp(this.d,this.ze,this.Ae),this.d.x+=Math.cos(this.Vb)*this.B*c,this.d.y+=Math.sin(this.Vb)*this.B*c,this.d.F(),this.B*=1-this.Dm,this.b.fl(this.d,Math.cos(this.Vb),Math.sin(this.Vb),Math.max(2.5*
this.B*c,30))||this.b.Xi(this.d,100)}else this.Dg&&this.d.j!==this.Ca&&(this.kh=this.d.j=this.Ca,this.d.F(),this.b.Dc(this.d)&&this.b.Xi(this.d,100))}};k.k=new function(){};c.prototype.Nl=function(c){this.tb=c;0>this.tb&&(this.tb=0)};c.prototype.Ol=function(c){switch(c){case 0:this.Ke=!0;break;case 1:this.Le=!0;break;case 2:this.Me=!0;break;case 3:this.Je=!0}};c.prototype.he=function(c){this.enabled=1===c};k.D=new c;k.xa=new function(){}})();function Ac(c){this.b=c}
(function(){function c(){}var k=Ac.prototype;k.aa=function(c){this.behavior=c;this.b=c.b};k.aa.prototype.H=function(){};k.P=function(c,k){this.type=c;this.behavior=c.behavior;this.d=k;this.b=c.b;this.Le=this.Ke=this.Je=this.Me=this.fg=this.Gd=this.yd=this.sd=this.Kd=!1;this.vn=this.un=this.tn=this.wn=-1;this.G=this.K=0};var p=k.P.prototype;p.H=function(){this.tb=this.q[0];this.Qa=this.q[1];this.mb=this.q[2];this.qm=this.q[3];this.Tl=this.q[4];this.nm=1===this.q[5];this.enabled=0!==this.q[6];this.nm&&
!this.b.ob&&(jQuery(document).keydown(function(c){return function(k){c.Pi(k)}}(this)),jQuery(document).keyup(function(c){return function(k){c.Qi(k)}}(this)))};p.bb=function(){return{dx:this.K,dy:this.G,enabled:this.enabled,maxspeed:this.tb,acc:this.Qa,dec:this.mb,ignoreInput:this.fg}};p.rb=function(c){this.K=c.dx;this.G=c.dy;this.enabled=c.enabled;this.tb=c.maxspeed;this.Qa=c.acc;this.mb=c.dec;this.fg=c.ignoreInput;this.Le=this.Ke=this.Je=this.Me=this.Gd=this.yd=this.sd=this.Kd=!1;this.vn=this.un=
this.tn=this.wn=-1};p.Pi=function(c){var k=this.b.hd;switch(c.which){case 37:c.preventDefault();this.un<k&&(this.yd=!0);break;case 38:c.preventDefault();this.wn<k&&(this.Kd=!0);break;case 39:c.preventDefault();this.vn<k&&(this.Gd=!0);break;case 40:c.preventDefault(),this.tn<k&&(this.sd=!0)}};p.Qi=function(c){var k=this.b.hd;switch(c.which){case 37:c.preventDefault();this.yd=!1;this.un=k;break;case 38:c.preventDefault();this.Kd=!1;this.wn=k;break;case 39:c.preventDefault();this.Gd=!1;this.vn=k;break;
case 40:c.preventDefault(),this.sd=!1,this.tn=k}};p.De=function(){this.Gd=this.yd=this.sd=this.Kd=!1};p.Fa=function(){var c=this.b.kf(this.d),k=this.yd||this.Ke,p=this.Gd||this.Le,l=this.Kd||this.Me,b=this.sd||this.Je;this.Je=this.Me=this.Le=this.Ke=!1;if(this.enabled){var e=this.b.Dc(this.d);if(e&&(this.b.Ag(this.d,e),!this.b.Xi(this.d)))return;this.fg&&(b=l=p=k=!1);0===this.qm?p=k=!1:1===this.qm&&(b=l=!1);2===this.qm&&(l||b)&&(p=k=!1);k==p&&(0>this.K?(this.K+=this.mb*c,0<this.K&&(this.K=0)):0<this.K&&
(this.K-=this.mb*c,0>this.K&&(this.K=0)));l==b&&(0>this.G?(this.G+=this.mb*c,0<this.G&&(this.G=0)):0<this.G&&(this.G-=this.mb*c,0>this.G&&(this.G=0)));k&&!p&&(this.K=0<this.K?this.K-(this.Qa+this.mb)*c:this.K-this.Qa*c);p&&!k&&(this.K=0>this.K?this.K+(this.Qa+this.mb)*c:this.K+this.Qa*c);l&&!b&&(this.G=0<this.G?this.G-(this.Qa+this.mb)*c:this.G-this.Qa*c);b&&!l&&(this.G=0>this.G?this.G+(this.Qa+this.mb)*c:this.G+this.Qa*c);if(0!==this.K||0!==this.G){Math.sqrt(this.K*this.K+this.G*this.G)>this.tb&&
(e=Math.atan2(this.G,this.K),this.K=this.tb*Math.cos(e),this.G=this.tb*Math.sin(e));p=this.d.x;l=this.d.y;k=this.d.j;this.d.x+=this.K*c;this.d.F();if(e=this.b.Dc(this.d))this.b.fl(this.d,0>this.K?1:-1,0,Math.abs(Math.floor(this.K*c)))||(this.d.x=p),this.K=0,this.d.F(),this.b.Ag(this.d,e);this.d.y+=this.G*c;this.d.F();if(e=this.b.Dc(this.d))this.b.fl(this.d,0,0>this.G?1:-1,Math.abs(Math.floor(this.G*c)))||(this.d.y=l),this.G=0,this.d.F(),this.b.Ag(this.d,e);c=kb(this.K);e=kb(this.G);0===c&&0===e||
!this.d.type.za.Sw||(1===this.Tl?this.d.j=Ka(90*Math.round(Ga(Math.atan2(e,c))/90)):2===this.Tl?this.d.j=Ka(45*Math.round(Ga(Math.atan2(e,c))/45)):3===this.Tl&&(this.d.j=Math.atan2(e,c)));this.d.F();this.d.j!=k&&(e=this.b.Dc(this.d))&&(this.d.j=k,this.d.F(),this.b.Ag(this.d,e))}}};k.k=new function(){};c.prototype.Nl=function(c){this.tb=c;0>this.tb&&(this.tb=0)};c.prototype.Ol=function(c){switch(c){case 0:this.Ke=!0;break;case 1:this.Le=!0;break;case 2:this.Me=!0;break;case 3:this.Je=!0}};c.prototype.he=
function(c){this.enabled=1===c};k.D=new c;k.xa=new function(){}})();function Bc(c){this.b=c}
(function(){function c(){}var k=Bc.prototype;k.aa=function(c){this.behavior=c;this.b=c.b};k.aa.prototype.H=function(){};k.P=function(c,k){this.type=c;this.behavior=c.behavior;this.d=k;this.b=c.b};var p=k.P.prototype;p.H=function(){this.Zo=1===this.q[0];this.Wh=this.q[1];this.qj=this.q[2];this.Yj=this.q[3];this.Gu=this.q[4];this.yb=this.Zo?0:3;this.Ac?this.ed.reset():this.ed=new db;this.rg=this.d.opacity?this.d.opacity:1;this.Zo&&(0===this.Wh?(this.yb=1,0===this.qj&&(this.yb=2)):(this.d.opacity=0,
this.b.ja=!0))};p.bb=function(){return{fit:this.Wh,wt:this.qj,fot:this.Yj,s:this.yb,st:this.ed.W,mo:this.rg}};p.rb=function(c){this.Wh=c.fit;this.qj=c.wt;this.Yj=c.fot;this.yb=c.s;this.ed.reset();this.ed.W=c.st;this.rg=c.mo};p.Fa=function(){this.ed.add(this.b.kf(this.d));0===this.yb&&(this.d.opacity=this.ed.W/this.Wh*this.rg,this.b.ja=!0,this.d.opacity>=this.rg&&(this.d.opacity=this.rg,this.yb=1,this.ed.reset(),this.b.trigger(Bc.prototype.k.qt,this.d)));1===this.yb&&this.ed.W>=this.qj&&(this.yb=2,
this.ed.reset(),this.b.trigger(Bc.prototype.k.Pt,this.d));2===this.yb&&0!==this.Yj&&(this.d.opacity=this.rg-this.ed.W/this.Yj*this.rg,this.b.ja=!0,0>this.d.opacity&&(this.d.opacity=0,this.yb=3,this.ed.reset(),this.b.trigger(Bc.prototype.k.tt,this.d),1===this.Gu&&this.b.Ec(this.d)))};p.Ph=function(){this.yb=0;this.ed.reset();0===this.Wh?(this.yb=1,0===this.qj&&(this.yb=2)):(this.d.opacity=0,this.b.ja=!0)};c.prototype.tt=function(){return!0};c.prototype.qt=function(){return!0};c.prototype.Pt=function(){return!0};
k.k=new c;k.D=new function(){};k.xa=new function(){}})();function Cc(c){this.b=c}
(function(){function c(){}function k(){}var p=Cc.prototype;p.aa=function(c){this.behavior=c;this.b=c.b};p.aa.prototype.H=function(){};p.P=function(c,g){this.type=c;this.behavior=c.behavior;this.d=g;this.b=c.b};var g=p.P.prototype;g.H=function(){this.Hd=this.fe=this.yb=this.Sk=this.Vk=0};g.bb=function(){return{ontime:this.Vk,offtime:this.Sk,stage:this.yb,stagetimeleft:this.fe,timeleft:this.Hd}};g.rb=function(c){this.Vk=c.ontime;this.Sk=c.offtime;this.yb=c.stage;this.fe=c.stagetimeleft;this.Hd=c.timeleft;
null===this.Hd&&(this.Hd=Infinity)};g.Fa=function(){if(!(0>=this.Hd)){var c=this.b.kf(this.d);this.Hd-=c;0>=this.Hd?(this.Hd=0,this.d.visible=!0,this.b.ja=!0,this.b.trigger(Cc.prototype.k.xt,this.d)):(this.fe-=c,0>=this.fe&&(0===this.yb?(this.d.visible=!1,this.yb=1,this.fe+=this.Sk):(this.d.visible=!0,this.yb=0,this.fe+=this.Vk),this.b.ja=!0))}};c.prototype.Zs=function(){return 0<this.Hd};c.prototype.xt=function(){return!0};p.k=new c;k.prototype.Rs=function(c,g,k){this.Vk=c;this.Sk=g;this.yb=1;this.fe=
g;this.Hd=k;this.d.visible=!1;this.b.ja=!0};p.D=new k;p.xa=new function(){}})();function Dc(c){this.b=c}
(function(){function c(){}function k(){}var p=Dc.prototype;p.aa=function(b){this.behavior=b;this.b=b.b};var g=p.aa.prototype;g.H=function(){this.Oc=[]};g.Rv=function(b){var d,a,c;d=0;for(a=b.L.length;d<a;++d)if(c=b.L[d],c instanceof Dc.prototype.P&&c.type===this)return c;return null};p.P=function(b,d){this.type=b;this.behavior=b.behavior;this.d=d;this.b=b.b};g=p.P.prototype;g.H=function(){this.ix=this.q[0];this.Vn=this.q[1];this.Ij=R(this.q[2]);this.vs=0!==this.q[3]};g.Af=function(){};g.bb=function(){var b=
{r:this.Vn,c:this.Ij,t:[]},d,a;d=0;for(a=this.type.Oc.length;d<a;d++)b.t.push(this.type.Oc[d].ca);return b};g.rb=function(b){this.Vn=b.r;this.Ij=b.c;Q(this.type.Oc);var d,a,c;d=0;for(a=b.t.length;d<a;d++)(c=this.b.ag(b.t[d]))&&this.type.Oc.push(c)};g.Fa=function(){};var r=[],q=new va(0,0,0,0);g.Dw=function(b,d){var a=this.d.x,c=this.d.y,g=this.d.j;0>this.d.width&&(g+=Math.PI);if(Sa(a,c,b,d)>this.Vn||Na(g,La(a,c,b,d))>this.Ij/2)return!1;var h,k;q.set(a,c,b,d);q.normalize();if(0===this.ix)for(this.vs?
this.b.Om(this.d.n,q,r):(g=this.b.po)&&Ba(r,g.Mi.jd()),g=0,h=r.length;g<h;++g){if(k=r[g],k.I.solidEnabled&&k!==this.d&&this.b.Zr(a,c,b,d,k))return Q(r),!1}else{if(this.vs)this.b.Pm(this.d.n,this.type.Oc,q,r);else for(g=0,h=this.type.Oc.length;g<h;++g)Ba(r,this.type.Oc[g].i);g=0;for(h=r.length;g<h;++g)if(k=r[g],k!==this.d&&this.b.Zr(a,c,b,d,k))return Q(r),!1}Q(r);return!0};var l=new ca,b=new ca;c.prototype.Us=function(c){if(!c)return!1;var d,a,f,g,h,k,p,q,n=this.b.aw().T();c=c.T();var r=n.$b(),K=c.$b();
n.V&&Q(n.da);c.V&&Q(c.da);var B=this.b.$g().ki;d=0;for(f=r.length;d<f;++d){h=r[d];q=!1;k=this.Rv(h);a=0;for(g=K.length;a<g;++a)p=K[a],h!==p&&Ta(k.Dw(p.x,p.y),B)&&(q=!0,b.add(p));q&&l.add(h)}d=l.jd();a=b.jd();n.V=!1;c.V=!1;Aa(n.i,d);Aa(c.i,a);l.clear();b.clear();return n.mk()};p.k=new c;k.prototype.Xt=function(b){this.Ij=R(b)};p.D=new k;p.xa=new function(){}})();function Fc(c){this.b=c}
(function(){function c(){}function k(){}var p={},g=Fc.prototype;g.wh=function(){var b,c;for(b in p)p.hasOwnProperty(b)&&(c=p[b],c.Ee.unsetReady(),c.Zi=!0)};g.aa=function(b){this.behavior=b;this.b=b.b};g.aa.prototype.H=function(){this.Oc=[];this.cf=[]};g.P=function(b,c){this.type=b;this.behavior=b.behavior;this.d=c;this.b=b.b};var r=g.P.prototype;r.H=function(){this.Sa=this.q[0];3>this.Sa&&(this.Sa=3);this.pd=this.q[1];this.jx=this.q[2];this.zd=this.q[3];this.Qa=this.q[4];this.mb=this.q[5];this.zj=
R(this.q[6]);this.il=0!==this.q[7];this.Vj=0!==this.q[8];this.enabled=0!==this.q[9];this.bh=this.Yh=this.Li=this.of=!1;this.lc=0;this.wd=this.Ca=this.d.j;this.yh=this.Ed=this.Dd=this.B=0;this.zf=Math.ceil(this.b.ma.width/this.Sa);this.tg=Math.ceil(this.b.ma.height/this.Sa);this.Wa=[];this.Vg=!1;this.Tj=this.Sj=0;this.li=this.xk=!1;this.op=this.np=0;this.Lp=!0;var b=this;this.Ac||(this.Ex=function(){b.xk||(b.li=!1,b.Bu(),b.bh=0<b.Wa.length,b.lc=0,b.b.trigger(Fc.prototype.k.Ct,b.d),b.rm())},this.Dx=
function(){b.xk||(b.li=!1,b.tp(),b.bh=!1,b.of=!1,b.lc=0,b.b.trigger(Fc.prototype.k.ut,b.d),b.rm())})};r.Af=function(){this.xk=!0;this.Vg=!1};r.bb=function(){var b={cs:this.Sa,cb:this.pd,ms:this.zd,acc:this.Qa,dec:this.mb,av:this.zj,re:this.il,de:this.Vj,im:this.of,mfs:this.Li,ftmwm:this.Yh,hp:this.bh,mn:this.lc,a:this.Ca,lka:this.wd,s:this.B,rx:this.Dd,ry:this.Ed,ra:this.yh,myhc:this.zf,myvc:this.tg,path:this.Wa,en:this.enabled,fr:this.Lp,obs:[],costs:[]};this.li?(b.dfp=!0,b.dpx=this.np,b.dpy=this.op):
(b.dfp=this.Vg,b.dpx=this.Sj,b.dpy=this.Tj);var c,d;c=0;for(d=this.type.Oc.length;c<d;c++)b.obs.push(this.type.Oc[c].ca);c=0;for(d=this.type.cf.length;c<d;c++)b.costs.push({sid:this.type.cf[c].la.ca,cost:this.type.cf[c].vp});return b};r.rb=function(b){this.Sa=b.cs;this.pd=b.cb;this.zd=b.ms;this.Qa=b.acc;this.mb=b.dec;this.zj=b.av;this.il=b.re;this.Vj=b.de;this.of=b.im;this.Li=b.mfs;this.Yh=b.ftmwm;this.bh=b.hp;this.lc=b.mn;this.Ca=b.a;this.wd=b.lka;this.B=b.s;this.Dd=b.rx;this.Ed=b.ry;this.yh=b.ra;
this.zf=b.myhc;this.tg=b.myvc;this.Wa=b.path;this.enabled=b.en;this.Lp=b.fr;this.Vg=b.dfp;this.Sj=b.dpx;this.Tj=b.dpy;Q(this.type.Oc);var c=b.obs,d,a,f;d=0;for(a=c.length;d<a;d++)(f=this.b.ag(c[d]))&&this.type.Oc.push(f);Q(this.type.cf);b=b.costs;d=0;for(a=b.length;d<a;d++)(f=this.b.ag(b[d].sid))&&this.type.cf.push({la:f,vp:b[d].cost});this.$f().Ee.setDiagonals(this.Vj)};r.Nd=function(){this.$f().Zi=!0};r.Fa=function(){if(this.enabled&&this.of){this.il&&this.d.j!==this.wd&&(this.Ca=this.d.j);var b=
this.b.kf(this.d),c,d,a,f,g,h=this.d,k=Math.min(.4*this.zd,2*Math.abs(this.d.width)),l=Math.max(1.5*this.B,30);this.lc<this.Wa.length?(f=this.Wa[this.lc].x,g=this.Wa[this.lc].y,a=Sa(this.Dd,this.Ed,f,g),a<3*l*b&&(this.lc++,this.Dd=f,this.Ed=g,this.lc<this.Wa.length&&(f=this.Wa[this.lc].x,g=this.Wa[this.lc].y))):(f=this.Wa[this.Wa.length-1].x,g=this.Wa[this.Wa.length-1].y);this.yh=La(this.Dd,this.Ed,f,g);a=Sa(h.x,h.y,this.Dd,this.Ed);a<k&&this.lc<this.Wa.length&&(this.Yh?this.Yh=!1:k=l*b,this.Dd+=
Math.cos(this.yh)*k,this.Ed+=Math.sin(this.yh)*k);c=La(h.x,h.y,this.Dd,this.Ed);d=Na(this.Ca,c);k=Sa(h.x,h.y,this.Wa[this.Wa.length-1].x,this.Wa[this.Wa.length-1].y);l=this.zd*this.zd/(2*this.mb);1<a&&(this.Ca=Oa(this.Ca,c,this.zj*b),.5>=Ga(d)?d=this.zd:120<=Ga(d)||this.Li&&0===this.lc?(d=0,this.Li=!0):(c=d/this.zj,a=Sa(h.x,h.y,this.Dd,this.Ed),a=a/(2*Math.sin(d)),d=a*d/c,0>d&&(d=0),d>this.zd&&(d=this.zd)),k<l&&(d=Math.min(d,k/l*this.zd+this.zd/40)),this.B+=this.Qa*b,this.B>d&&(this.B=d));h.x+=Math.cos(this.Ca)*
this.B*b;h.y+=Math.sin(this.Ca)*this.B*b;this.il&&(this.wd=h.j=this.Ca);h.F();this.lc===this.Wa.length&&Sa(h.x,h.y,f,g)<Math.max(3*this.B*b,10)&&(this.bh=this.of=!1,this.B=this.lc=0,this.b.trigger(Fc.prototype.k.lt,h))}};r.jj=function(){this.enabled&&(this.Xv(),this.rm())};r.rm=function(){this.Vg&&!this.xk&&(this.Vg=!1,this.Dp(this.d.x,this.d.y,this.Sj,this.Tj))};r.$f=function(){var b=""+this.Sa+","+this.pd;p.hasOwnProperty(b)||(p[b]={Ee:new window.Pathfinder,cells:null,Zi:!1,zg:[]});return p[b]};
r.Xv=function(){var b=this.$f();if(!b.Ee.isReady()||b.Zi||b.zg.length){var c,d,a,f,g,h,k,l,p,n;if(!b.Ee.isReady()||b.Zi){this.zf=Math.ceil(this.b.ma.width/this.Sa);this.tg=Math.ceil(this.b.ma.height/this.Sa);c=[];f=c.length=this.zf;g=this.tg;for(d=0;d<f;++d)for(c[d]=[],c[d].length=g,a=0;a<g;++a)c[d][a]=this.Cr(d,a);b.cells=c;b.Ee.init(this.zf,this.tg,c,this.Vj);b.Zi=!1;Q(b.zg)}else if(b.zg.length){h=0;for(k=b.zg.length;h<k;++h){c=b.zg[h];l=c[0];p=c[1];f=c[2];d=c[3];c=[];f=f-l;g=d-p;c.length=f;for(d=
0;d<f;++d)for(c[d]=[],c[d].length=g,a=0;a<g;++a)n=this.Cr(l+d,p+a),c[d][a]=n,b.cells[l+d][p+a]=n;b.Ee.updateRegion(l,p,f,g,c)}Q(b.zg)}}};r.tp=function(){var b,c;b=0;for(c=this.Wa.length;b<c;b++)window.freeResultNode(this.Wa[b]);Q(this.Wa)};r.Bu=function(){var b=this.$f().Ee.pathList;this.tp();var c,d,a,f;c=0;for(d=b.length;c<d;c++)a=b[c],f=window.allocResultNode(),f.x=(a.x+.5)*this.Sa,f.y=(a.y+.5)*this.Sa,this.Wa.push(f)};var q=[],l=new va;r.Cr=function(b,c){var d,a,f,g,h,k=0;l.left=b*this.Sa-this.pd;
l.top=c*this.Sa-this.pd;l.right=(b+1)*this.Sa+this.pd;l.bottom=(c+1)*this.Sa+this.pd;if(0===this.jx){if(this.b.Ay(l))return window.PF_OBSTACLE}else{this.b.Pm(this.d.n,this.type.Oc,l,q);d=0;for(a=q.length;d<a;++d)if(this.b.so(l,q[d]))return Q(q),window.PF_OBSTACLE;q.length=0}d=0;for(a=this.type.cf.length;d<a;d++){f=this.type.cf[d].la;h=this.type.cf[d].vp;this.b.ik(this.d.n,f,l,q);f=0;for(g=q.length;f<g;++f)this.b.so(l,q[f])&&(k+=h);Q(q)}return k};r.Dp=function(b,c,d,a){var f=this.$f().Ee;if(f.isReady()){this.li=
!0;this.np=d;this.op=a;b=Math.floor(b/this.Sa);c=Math.floor(c/this.Sa);d=Math.floor(d/this.Sa);a=Math.floor(a/this.Sa);var g,h,k,l,p,n,q;if(f.at(d,a)===window.PF_OBSTACLE){g=1E6;for(l=k=h=0;l<this.zf;l++)for(p=0;p<this.tg;p++)f.at(l,p)!==window.PF_OBSTACLE&&(n=d-l,q=a-p,n=n*n+q*q,n<g&&(g=n,h=l,k=p));d=h;a=k}f.findPath(b,c,d,a,this.Ex,this.Dx)}};c.prototype.Ct=function(){return!0};c.prototype.ut=function(){return!0};c.prototype.lt=function(){return!0};g.k=new c;k.prototype.Qs=function(b,c){this.enabled&&
(this.li||!this.$f().Ee.isReady()?(this.Vg=!0,this.Sj=b,this.Tj=c):this.Dp(this.d.x,this.d.y,b,c))};k.prototype.du=function(){this.bh&&(this.of&&(this.Yh=!0),this.Li=!this.of,this.of=!0,this.Dd=this.d.x,this.Ed=this.d.y,this.yh=this.d.j)};k.prototype.he=function(b){this.enabled=0!==b};k.prototype.Nl=function(b){this.zd=b};r.Ph=function(b,c,d,a){var f=Math.min(b,d)-this.pd,g=Math.min(c,a)-this.pd;b=Math.max(b,d)+this.pd;c=Math.max(c,a)+this.pd;f=Math.max(Math.floor(f/this.Sa),0);g=Math.max(Math.floor(g/
this.Sa),0);b=Math.min(Math.ceil(b/this.Sa),this.zf);c=Math.min(Math.ceil(c/this.Sa),this.tg);f>=b||g>=c||this.$f().zg.push([f,g,b,c])};g.D=new k;g.xa=new function(){}})();function Kc(c){this.b=c}
(function(){var c=Kc.prototype;c.aa=function(c){this.behavior=c;this.b=c.b};c.aa.prototype.H=function(){};c.P=function(c,p){this.type=c;this.behavior=c.behavior;this.d=p;this.b=c.b;this.mode=0};c=c.P.prototype;c.H=function(){this.mode=this.q[0]};c.Fa=function(){};c.jj=function(){this.d.ya();var c=this.d.Da,p=this.d.n.$a,g=!1;0===this.mode?(0>this.d.x&&(this.d.x=0,g=!0),0>this.d.y&&(this.d.y=0,g=!0),this.d.x>p.width&&(this.d.x=p.width,g=!0),this.d.y>p.height&&(this.d.y=p.height,g=!0)):(0>c.left&&(this.d.x-=
c.left,g=!0),0>c.top&&(this.d.y-=c.top,g=!0),c.right>p.width&&(this.d.x-=c.right-p.width,g=!0),c.bottom>p.height&&(this.d.y-=c.bottom-p.height,g=!0));g&&this.d.F()}})();function Lc(c){this.b=c}
(function(){var c=Lc.prototype;c.aa=function(c){this.behavior=c;this.b=c.b};c.aa.prototype.H=function(){};c.P=function(c,p){this.type=c;this.behavior=c.behavior;this.d=p;this.b=c.b};c=c.P.prototype;c.H=function(){};c.Fa=function(){this.d.ya();var c=this.d.Da,p=this.d.n.$a;(0>c.right||0>c.bottom||c.left>p.width||c.top>p.height)&&this.b.Ec(this.d)}})();function Mc(c){this.b=c;this.ko=this.sl=this.ej=this.jo=0}
(function(){function c(){}var k=Mc.prototype;k.aa=function(c){this.behavior=c;this.b=c.b};k.aa.prototype.H=function(){};k.P=function(c,k){this.type=c;this.behavior=c.behavior;this.d=k;this.b=c.b};var p=k.P.prototype;p.H=function(){this.enabled=0!==this.q[0]};p.bb=function(){return{smg:this.behavior.jo,ss:this.behavior.ej,se:this.behavior.sl,smd:this.behavior.ko}};p.rb=function(c){this.behavior.jo=c.smg;this.behavior.ej=c.ss;this.behavior.sl=c.se;this.behavior.ko=c.smd};p.Fa=function(){};p.jj=function(){if(this.enabled){var c=
this.behavior.Mi.jd(),k=0,p=0,l,b,e,d=0;l=0;for(b=c.length;l<b;l++){a:{e=c[l];for(var a=void 0,f=void 0,m=void 0,a=0,f=e.L.length;a<f;++a)if(m=e.L[a],m.behavior instanceof Mc){e=m;break a}e=null}e&&e.enabled&&(k+=c[l].x,p+=c[l].y,++d)}c=this.d.n.$a;b=this.b.pb.W;e=l=0;b>=this.behavior.ej&&b<this.behavior.sl&&(l=this.behavior.jo*Math.min(this.b.Jg,1),0===this.behavior.ko&&(l*=1-(b-this.behavior.ej)/(this.behavior.sl-this.behavior.ej)),b=Math.random()*Math.PI*2,e=Math.random()*l,l=Math.cos(b)*e,e*=
Math.sin(b));c.eo(k/d+l);c.fo(p/d+e)}};c.prototype.he=function(c){this.enabled=0!==c};k.D=new c})();function qc(c){this.b=c}(function(){function c(){}var k=qc.prototype;k.aa=function(c){this.behavior=c;this.b=c.b};k.aa.prototype.H=function(){};k.P=function(c,k){this.type=c;this.behavior=c.behavior;this.d=k;this.b=c.b};var p=k.P.prototype;p.H=function(){this.d.I.solidEnabled=0!==this.q[0]};p.Fa=function(){};k.k=new function(){};c.prototype.he=function(c){this.d.I.solidEnabled=!!c};k.D=new c})();
function pc(){return[sc,uc,vc,rc,tc,xc,Z,wc,Ac,Mc,Kc,Dc,Cc,yc,Lc,Bc,zc,Fc,qc,W.prototype.k.To,Z.prototype.D.Vt,W.prototype.xa.random,W.prototype.k.Ps,zc.prototype.D.Ol,W.prototype.k.$s,Z.prototype.k.Is,Z.prototype.D.Ms,Z.prototype.k.ct,Z.prototype.D.$t,W.prototype.xa.Ww,W.prototype.xa.Vw,Z.prototype.k.ot,Z.prototype.D.fu,W.prototype.D.iu,Z.prototype.k.dt,Cc.prototype.k.Zs,Z.prototype.k.Vs,W.prototype.D.gu,Cc.prototype.D.Rs,W.prototype.k.Os,W.prototype.D.Ls,Z.prototype.D.Yt,W.prototype.D.Bs,Z.prototype.D.As,
Z.prototype.k.et,yc.prototype.D.he,Dc.prototype.k.Us,Z.prototype.D.Ut,Z.prototype.xa.Pl,Z.prototype.xa.Ql,rc.prototype.k.tj,W.prototype.k.Ts,W.prototype.k.Hs,W.prototype.xa.Hu,W.prototype.k.Ss,W.prototype.xa.$w,W.prototype.D.eu,zc.prototype.D.he,Fc.prototype.D.he,Fc.prototype.D.Qs,Fc.prototype.D.du,tc.prototype.k.bt,Ac.prototype.D.Ol,W.prototype.k.Js,tc.prototype.k.Qo,Z.prototype.D.bu,W.prototype.D.au,Z.prototype.D.Wt,Ac.prototype.D.Nl,Z.prototype.D.Yo,uc.prototype.xa.Pl,uc.prototype.xa.Ql,wc.prototype.D.Zt,
Ac.prototype.D.he,Dc.prototype.D.Xt,uc.prototype.k.Xs,Z.prototype.D.cu,sc.prototype.D.St,rc.prototype.D.CallFunction,Z.prototype.D.Tt,Z.prototype.k.No,rc.prototype.xa.Rt,Z.prototype.xa.ju,Z.prototype.k.Ks]};
